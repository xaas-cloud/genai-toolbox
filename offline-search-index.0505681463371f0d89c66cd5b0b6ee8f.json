[{"body":"About AlloyDB for PostgreSQL is a fully-managed, PostgreSQL-compatible database for demanding transactional workloads. It provides enterprise-grade performance and availability while maintaining 100% compatibility with open-source PostgreSQL.\nIf you are new to AlloyDB for PostgreSQL, you can create a free trial cluster.\nAvailable Tools alloydb-ai-nl Use natural language queries on AlloyDB, powered by AlloyDB AI.\npostgres-sql Execute SQL queries as prepared statements in AlloyDB Postgres.\npostgres-execute-sql Run parameterized SQL statements in AlloyDB Postgres.\npostgres-list-tables List tables in an AlloyDB for PostgreSQL database.\npostgres-list-active-queries List active queries in an AlloyDB for PostgreSQL database.\npostgres-list-available-extensions List available extensions for installation in a PostgreSQL database.\npostgres-list-installed-extensions List installed extensions in a PostgreSQL database.\nPre-built Configurations AlloyDB using MCP Connect your IDE to AlloyDB using Toolbox.\nAlloyDB Admin API using MCP Create your AlloyDB database with MCP Toolbox.\nRequirements IAM Permissions By default, AlloyDB for PostgreSQL source uses the AlloyDB Go Connector to authorize and establish mTLS connections to your AlloyDB instance. The Go connector uses your Application Default Credentials (ADC) to authorize your connection to AlloyDB.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the following IAM roles (or corresponding permissions):\nroles/alloydb.client roles/serviceusage.serviceUsageConsumer Networking AlloyDB supports connecting over both from external networks via the internet (public IP), and internal networks (private IP). For more information on choosing between the two options, see the AlloyDB page Connection overview.\nYou can configure the ipType parameter in your source configuration to public or private to match your cluster’s configuration. Regardless of which you choose, all connections use IAM-based authorization and are encrypted with mTLS.\nAuthentication This source supports both password-based authentication and IAM authentication (using your Application Default Credentials).\nStandard Authentication To connect using user/password, create a PostgreSQL user and input your credentials in the user and password fields.\nuser: ${USER_NAME} password: ${PASSWORD} IAM Authentication To connect using IAM authentication:\nPrepare your database instance and user following this guide. You could choose one of the two ways to log in: Specify your IAM email as the user. Leave your user field blank. Toolbox will fetch the ADC automatically and log in using the email associated with it. Leave the password field blank. Example sources: my-alloydb-pg-source: kind: alloydb-postgres project: my-project-id region: us-central1 cluster: my-cluster instance: my-instance database: my_db user: ${USER_NAME} password: ${PASSWORD} # ipType: \"public\" Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “alloydb-postgres”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). region string true Name of the GCP region that the cluster was created in (e.g. “us-central1”). cluster string true Name of the AlloyDB cluster (e.g. “my-cluster”). instance string true Name of the AlloyDB instance within the cluster (e.g. “my-instance”). database string true Name of the Postgres database to connect to (e.g. “my_db”). user string false Name of the Postgres user to connect as (e.g. “my-pg-user”). Defaults to IAM auth using ADC email if unspecified. password string false Password of the Postgres user (e.g. “my-password”). Defaults to attempting IAM authentication if unspecified. ipType string false IP Type of the AlloyDB instance; must be one of public or private. Default: public. ","categories":"","description":"AlloyDB for PostgreSQL is a fully-managed, PostgreSQL-compatible database for demanding transactional workloads.\n","excerpt":"AlloyDB for PostgreSQL is a fully-managed, PostgreSQL-compatible …","ref":"/genai-toolbox/resources/sources/alloydb-pg/","tags":"","title":"AlloyDB for PostgreSQL"},{"body":"","categories":"","description":"How to get started with Toolbox using AlloyDB.\n","excerpt":"How to get started with Toolbox using AlloyDB.\n","ref":"/genai-toolbox/samples/alloydb/","tags":"","title":"AlloyDB"},{"body":"","categories":"","description":"AlloyDB AI NL Tool.\n","excerpt":"AlloyDB AI NL Tool.\n","ref":"/genai-toolbox/resources/tools/alloydbainl/","tags":"","title":"AlloyDB AI NL"},{"body":"","categories":"","description":"Tools for AlloyDB for PostgreSQL.\n","excerpt":"Tools for AlloyDB for PostgreSQL.\n","ref":"/genai-toolbox/resources/tools/alloydb/","tags":"","title":"AlloyDB for PostgreSQL"},{"body":"About The alloydb-ai-nl tool leverages AlloyDB AI next-generation natural Language support to allow an Agent the ability to query the database directly using natural language. Natural language streamlines the development of generative AI applications by transferring the complexity of converting natural language to SQL from the application layer to the database layer.\nThis tool is compatible with the following sources:\nalloydb-postgres AlloyDB AI Natural Language delivers secure and accurate responses for application end user natural language questions. Natural language streamlines the development of generative AI applications by transferring the complexity of converting natural language to SQL from the application layer to the database layer.\nRequirements Tip\nAlloyDB AI natural language is currently in gated public preview. For more information on availability and limitations, please see AlloyDB AI natural language overview\nTo enable AlloyDB AI natural language for your AlloyDB cluster, please follow the steps listed in the Generate SQL queries that answer natural language questions, including enabling the extension and configuring context for your application.\nConfiguration Specifying an nl_config A nl_config is a configuration that associates an application to schema objects, examples and other contexts that can be used. A large application can also use different configurations for different parts of the app, as long as the correct configuration can be specified when a question is sent from that part of the application.\nOnce you’ve followed the steps for configuring context, you can use the context field when configuring a alloydb-ai-nl tool. When this tool is invoked, the SQL will be generated and executed using this context.\nSpecifying Parameters to PSV’s Parameterized Secure Views (PSVs) are a feature unique to AlloyDB that allows you to require one or more named parameter values passed to the view when querying it, somewhat like bind variables with ordinary database queries.\nYou can use the nlConfigParameters to list the parameters required for your nl_config. You must supply all parameters required for all PSVs in the context. It’s strongly recommended to use features like Authenticated Parameters or Bound Parameters to provide secure access to queries generated using natural language, as these parameters are not visible to the LLM.\nTip\nMake sure to enable the parameterized_views extension before running this tool. You can do so by running this command in the AlloyDB studio:\nCREATE EXTENSION IF NOT EXISTS parameterized_views; Example tools: ask_questions: kind: alloydb-ai-nl source: my-alloydb-source description: \"Ask questions to check information about flights\" nlConfig: \"cymbal_air_nl_config\" nlConfigParameters: - name: user_email type: string description: User ID of the logged in user. # note: we strongly recommend using features like Authenticated or # Bound parameters to prevent the LLM from seeing these params and # specifying values it shouldn't in the tool input authServices: - name: my_google_service field: email Reference field type required description kind string true Must be “alloydb-ai-nl”. source string true Name of the AlloyDB source the natural language query should execute on. description string true Description of the tool that is passed to the LLM. nlConfig string true The name of the nl_config in AlloyDB nlConfigParameters parameters true List of PSV parameters defined in the nl_config ","categories":"","description":"The \"alloydb-ai-nl\" tool leverages [AlloyDB AI](https://cloud.google.com/alloydb/ai) next-generation Natural Language support to provide the ability to query the database directly using natural language.\n","excerpt":"The \"alloydb-ai-nl\" tool leverages [AlloyDB …","ref":"/genai-toolbox/resources/tools/alloydbainl/alloydb-ai-nl/","tags":"","title":"alloydb-ai-nl"},{"body":"About The alloydb-create-cluster tool creates a new AlloyDB for PostgreSQL cluster in a specified project and location. It is compatible with alloydb-admin source. This tool provisions a cluster with a private IP address within the specified VPC network.\nPermissions \u0026 APIs Required: Before using, ensure the following on your GCP project:\nThe AlloyDB API is enabled.\nThe user or service account executing the tool has one of the following IAM roles:\nroles/alloydb.admin (the AlloyDB Admin predefined IAM role) roles/owner (the Owner basic IAM role) roles/editor (the Editor basic IAM role) The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID where the cluster will be created. Yes cluster string A unique identifier for the new AlloyDB cluster. Yes password string A secure password for the initial user. Yes location string The GCP location where the cluster will be created. Default: us-central1. If quota is exhausted then use other regions. No network string The name of the VPC network to connect the cluster to. Default: default. No user string The name for the initial superuser. Default: postgres. No Example tools: create_cluster: kind: alloydb-create-cluster source: alloydb-admin-source description: Use this tool to create a new AlloyDB cluster in a given project and location. Reference field type required description kind string true Must be alloydb-create-cluster. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-create-cluster\" tool creates a new AlloyDB for PostgreSQL cluster in a specified project and location.\n","excerpt":"The \"alloydb-create-cluster\" tool creates a new AlloyDB for PostgreSQL …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-create-cluster/","tags":"","title":"alloydb-create-cluster"},{"body":"About The alloydb-create-instance tool creates a new AlloyDB instance (PRIMARY or READ_POOL) within a specified cluster. It is compatible with alloydb-admin source. This tool provisions a new instance with a public IP address.\nPermissions \u0026 APIs Required: Before using, ensure the following on your GCP project:\nThe AlloyDB API is enabled.\nThe user or service account executing the tool has one of the following IAM roles:\nroles/alloydb.admin (the AlloyDB Admin predefined IAM role) roles/owner (the Owner basic IAM role) roles/editor (the Editor basic IAM role) The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID where the cluster exists. Yes location string The GCP location where the cluster exists (e.g., us-central1). Yes cluster string The ID of the existing cluster to add this instance to. Yes instance string A unique identifier for the new AlloyDB instance. Yes instanceType string The type of instance. Valid values are: PRIMARY and READ_POOL. Default: PRIMARY No displayName string An optional, user-friendly name for the instance. No nodeCount int The number of nodes for a read pool. Required only if instanceType is READ_POOL. Default: 1 No Note The tool sets the password.enforce_complexity database flag to on, requiring new database passwords to meet complexity rules.\nExample tools: create_instance: kind: alloydb-create-instance source: alloydb-admin-source description: Use this tool to create a new AlloyDB instance within a specified cluster. Reference field type required description kind string true Must be alloydb-create-instance. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-create-instance\" tool creates a new AlloyDB instance within a specified cluster.\n","excerpt":"The \"alloydb-create-instance\" tool creates a new AlloyDB instance …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-create-instance/","tags":"","title":"alloydb-create-instance"},{"body":"About The alloydb-get-cluster tool retrieves detailed information for a single, specified AlloyDB cluster. It is compatible with alloydb-admin source.\nParameter Type Description Required project string The GCP project ID to get cluster for. Yes location string The location of the cluster (e.g., ‘us-central1’). Yes cluster string The ID of the cluster to retrieve. Yes Example tools: get_specific_cluster: kind: alloydb-get-cluster source: my-alloydb-admin-source description: Use this tool to retrieve details for a specific AlloyDB cluster. Reference field type required description kind string true Must be alloydb-get-cluster. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-get-cluster\" tool retrieves details for a specific AlloyDB cluster.\n","excerpt":"The \"alloydb-get-cluster\" tool retrieves details for a specific …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-get-cluster/","tags":"","title":"alloydb-get-cluster"},{"body":"About The alloydb-get-instance tool retrieves detailed information for a single, specified AlloyDB instance. It is compatible with alloydb-admin source.\nParameter Type Description Required project string The GCP project ID to get instance for. Yes location string The location of the instance (e.g., ‘us-central1’). Yes cluster string The ID of the cluster. Yes instance string The ID of the instance to retrieve. Yes Example tools: get_specific_instance: kind: alloydb-get-instance source: my-alloydb-admin-source description: Use this tool to retrieve details for a specific AlloyDB instance. Reference field type required description kind string true Must be alloydb-get-instance. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-get-instance\" tool retrieves details for a specific AlloyDB instance.\n","excerpt":"The \"alloydb-get-instance\" tool retrieves details for a specific …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-get-instance/","tags":"","title":"alloydb-get-instance"},{"body":"About The alloydb-get-user tool retrieves detailed information for a single, specified AlloyDB user. It is compatible with alloydb-admin source.\nParameter Type Description Required project string The GCP project ID to get user for. Yes location string The location of the cluster (e.g., ‘us-central1’). Yes cluster string The ID of the cluster to retrieve the user from. Yes user string The ID of the user to retrieve. Yes Example tools: get_specific_user: kind: alloydb-get-user source: my-alloydb-admin-source description: Use this tool to retrieve details for a specific AlloyDB user. Reference field type required description kind string true Must be alloydb-get-user. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-get-user\" tool retrieves details for a specific AlloyDB user.\n","excerpt":"The \"alloydb-get-user\" tool retrieves details for a specific AlloyDB …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-get-user/","tags":"","title":"alloydb-get-user"},{"body":"About The alloydb-list-clusters tool retrieves AlloyDB cluster information for all or specified locations in a given project. It is compatible with alloydb-admin source.\nalloydb-list-clusters tool lists the detailed information of AlloyDB cluster(cluster name, state, configuration, etc) for a given project and location. The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID to list clusters for. Yes location string The location to list clusters in (e.g., ‘us-central1’). Use - for all locations. Default: -. No Example tools: list_clusters: kind: alloydb-list-clusters source: alloydb-admin-source description: Use this tool to list all AlloyDB clusters in a given project and location. Reference field type required description kind string true Must be alloydb-list-clusters. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-list-clusters\" tool lists the AlloyDB clusters in a given project and location.\n","excerpt":"The \"alloydb-list-clusters\" tool lists the AlloyDB clusters in a given …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-list-clusters/","tags":"","title":"alloydb-list-clusters"},{"body":"About The alloydb-list-instances tool retrieves AlloyDB instance information for all or specified clusters and locations in a given project. It is compatible with alloydb-admin source.\nalloydb-list-instances tool lists the detailed information of AlloyDB instances (instance name, type, IP address, state, configuration, etc) for a given project, cluster and location. The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID to list instances for. Yes cluster string The ID of the cluster to list instances from. Use ‘-’ to get results for all clusters. Default: -. No location string The location of the cluster (e.g., ‘us-central1’). Use ‘-’ to get results for all locations. Default: -. No Example tools: list_instances: kind: alloydb-list-instances source: alloydb-admin-source description: Use this tool to list all AlloyDB instances for a given project, cluster and location. Reference field type required description kind string true Must be alloydb-list-instances. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-list-instances\" tool lists the AlloyDB instances for a given project, cluster and location.\n","excerpt":"The \"alloydb-list-instances\" tool lists the AlloyDB instances for a …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-list-instances/","tags":"","title":"alloydb-list-instances"},{"body":"About The alloydb-list-users tool lists all database users within an AlloyDB cluster. It is compatible with alloydb-admin source. The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID to list users for. Yes cluster string The ID of the cluster to list users from. Yes location string The location of the cluster (e.g., ‘us-central1’). Yes Example tools: list_users: kind: alloydb-list-users source: alloydb-admin-source description: Use this tool to list all database users within an AlloyDB cluster Reference field type required description kind string true Must be alloydb-list-users. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-list-users\" tool lists all database users within an AlloyDB cluster.\n","excerpt":"The \"alloydb-list-users\" tool lists all database users within an …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-list-users/","tags":"","title":"alloydb-list-users"},{"body":"AuthServices represent services that handle authentication and authorization. It can primarily be used by Tools in two different ways:\nAuthorized Invocation is when a tool is validated by the auth service before the call can be invoked. Toolbox will reject any calls that fail to validate or have an invalid token. Authenticated Parameters replace the value of a parameter with a field from an OIDC claim. Toolbox will automatically resolve the ID token provided by the client and replace the parameter in the tool call. Example The following configurations are placed at the top level of a tools.yaml file.\nTip\nIf you are accessing Toolbox with multiple applications, each application should register their own Client ID even if they use the same “kind” of auth provider.\nauthServices: my_auth_app_1: kind: google clientId: ${YOUR_CLIENT_ID_1} my_auth_app_2: kind: google clientId: ${YOUR_CLIENT_ID_2} Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nAfter you’ve configured an authService you’ll, need to reference it in the configuration for each tool that should use it:\nAuthorized Invocations for authorizing a tool call, use the authRequired field in a tool config Authenticated Parameters for using the value from a OIDC claim, use the authServices field in a parameter config Specifying ID Tokens from Clients After configuring your authServices section, use a Toolbox SDK to add your ID tokens to the header of a Tool invocation request. When specifying a token you will provide a function (that returns an id). This function is called when the tool is invoked. This allows you to cache and refresh the ID token as needed.\nThe primary method for providing these getters is via the auth_token_getters parameter when loading tools, or the add_auth_token_getter() / add_auth_token_getters() methods on a loaded tool object.\nSpecifying tokens during load Python Use the Python SDK.\nCore LangChain Llamaindex import asyncio from toolbox_core import ToolboxClient async def get_auth_token(): # ... Logic to retrieve ID token (e.g., from local storage, OAuth flow) # This example just returns a placeholder. Replace with your actual token retrieval. return \"YOUR_ID_TOKEN\" # Placeholder async def main(): async with ToolboxClient(\"\u003chttp://127.0.0.1:5000\u003e\") as toolbox: auth_tool = await toolbox.load_tool( \"get_sensitive_data\", auth_token_getters={\"my_auth_app_1\": get_auth_token} ) result = await auth_tool(param=\"value\") print(result) if **name** == \"**main**\": asyncio.run(main()) import asyncio from toolbox_langchain import ToolboxClient async def get_auth_token(): # ... Logic to retrieve ID token (e.g., from local storage, OAuth flow) # This example just returns a placeholder. Replace with your actual token retrieval. return \"YOUR_ID_TOKEN\" # Placeholder async def main(): toolbox = ToolboxClient(\"\u003chttp://127.0.0.1:5000\u003e\") auth_tool = await toolbox.aload_tool( \"get_sensitive_data\", auth_token_getters={\"my_auth_app_1\": get_auth_token} ) result = await auth_tool.ainvoke({\"param\": \"value\"}) print(result) if **name** == \"**main**\": asyncio.run(main()) import asyncio from toolbox_llamaindex import ToolboxClient async def get_auth_token(): # ... Logic to retrieve ID token (e.g., from local storage, OAuth flow) # This example just returns a placeholder. Replace with your actual token retrieval. return \"YOUR_ID_TOKEN\" # Placeholder async def main(): toolbox = ToolboxClient(\"\u003chttp://127.0.0.1:5000\u003e\") auth_tool = await toolbox.aload_tool( \"get_sensitive_data\", auth_token_getters={\"my_auth_app_1\": get_auth_token} ) # result = await auth_tool.acall(param=\"value\") # print(result.content) if **name** == \"**main**\": asyncio.run(main()) Javascript/Typescript Use the JS SDK.\nimport { ToolboxClient } from '@toolbox-sdk/core'; async function getAuthToken() { // ... Logic to retrieve ID token (e.g., from local storage, OAuth flow) // This example just returns a placeholder. Replace with your actual token retrieval. return \"YOUR_ID_TOKEN\" // Placeholder } const URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); const authTool = await client.loadTool(\"my-tool\", {\"my_auth_app_1\": getAuthToken}); const result = await authTool({param:\"value\"}); console.log(result); print(result) Go Use the Go SDK.\nimport \"github.com/googleapis/mcp-toolbox-sdk-go/core\" import \"fmt\" func getAuthToken() string { // ... Logic to retrieve ID token (e.g., from local storage, OAuth flow) // This example just returns a placeholder. Replace with your actual token retrieval. return \"YOUR_ID_TOKEN\" // Placeholder } func main() { URL := 'http://127.0.0.1:5000' client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } dynamicTokenSource := core.NewCustomTokenSource(getAuthToken) authTool, err := client.LoadTool( \"my-tool\", ctx, core.WithAuthTokenSource(\"my_auth_app_1\", dynamicTokenSource)) if err != nil { log.Fatalf(\"Failed to load tool: %v\", err) } inputs := map[string]any{\"param\": \"value\"} result, err := authTool.Invoke(ctx, inputs) if err != nil { log.Fatalf(\"Failed to invoke tool: %v\", err) } fmt.Println(result) } Specifying tokens for existing tools Python Use the Python SDK.\nCore LangChain Llamaindex tools = await toolbox.load_toolset() # for a single token authorized_tool = tools[0].add_auth_token_getter(\"my_auth\", get_auth_token) # OR, if multiple tokens are needed authorized_tool = tools[0].add_auth_token_getters({ \"my_auth1\": get_auth1_token, \"my_auth2\": get_auth2_token, }) tools = toolbox.load_toolset() # for a single token authorized_tool = tools[0].add_auth_token_getter(\"my_auth\", get_auth_token) # OR, if multiple tokens are needed authorized_tool = tools[0].add_auth_token_getters({ \"my_auth1\": get_auth1_token, \"my_auth2\": get_auth2_token, }) tools = toolbox.load_toolset() # for a single token authorized_tool = tools[0].add_auth_token_getter(\"my_auth\", get_auth_token) # OR, if multiple tokens are needed authorized_tool = tools[0].add_auth_token_getters({ \"my_auth1\": get_auth1_token, \"my_auth2\": get_auth2_token, }) Javascript/Typescript Use the JS SDK.\nconst URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); let tool = await client.loadTool(\"my-tool\") // for a single token const authorizedTool = tool.addAuthTokenGetter(\"my_auth\", get_auth_token) // OR, if multiple tokens are needed const multiAuthTool = tool.addAuthTokenGetters({ \"my_auth_1\": getAuthToken1, \"my_auth_2\": getAuthToken2, }) Go Use the Go SDK.\nimport \"github.com/googleapis/mcp-toolbox-sdk-go/core\" func main() { URL := 'http://127.0.0.1:5000' client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } tool, err := client.LoadTool(\"my-tool\", ctx)) if err != nil { log.Fatalf(\"Failed to load tool: %v\", err) } dynamicTokenSource1 := core.NewCustomTokenSource(getAuthToken1) dynamicTokenSource2 := core.NewCustomTokenSource(getAuthToken1) // For a single token authTool, err := tool.ToolFrom( core.WithAuthTokenSource(\"my-auth\", dynamicTokenSource), ) // OR, if multiple tokens are needed authTool, err := tool.ToolFrom( core.WithAuthTokenSource(\"my-auth_1\", dynamicTokenSource1), core.WithAuthTokenSource(\"my-auth_2\", dynamicTokenSource2), ) } Kinds of Auth Services ","categories":"","description":"AuthServices represent services that handle authentication and authorization.\n","excerpt":"AuthServices represent services that handle authentication and …","ref":"/genai-toolbox/resources/authservices/","tags":"","title":"AuthServices"},{"body":"BigQuery Source BigQuery is Google Cloud’s fully managed, petabyte-scale, and cost-effective analytics data warehouse that lets you run analytics over vast amounts of data in near real time. With BigQuery, there’s no infrastructure to set up or manage, letting you focus on finding meaningful insights using GoogleSQL and taking advantage of flexible pricing models across on-demand and flat-rate options.\nIf you are new to BigQuery, you can try to load and query data with the bq tool.\nBigQuery uses GoogleSQL for querying data. GoogleSQL is an ANSI-compliant structured query language (SQL) that is also implemented for other Google Cloud services. SQL queries are handled by cluster nodes in the same way as NoSQL data requests. Therefore, the same best practices apply when creating SQL queries to run against your BigQuery data, such as avoiding full table scans or complex filters.\nAvailable Tools bigquery-analyze-contribution Performs contribution analysis, also called key driver analysis in BigQuery.\nbigquery-conversational-analytics Allows conversational interaction with a BigQuery source.\nbigquery-execute-sql\nExecute structured queries using parameters.\nbigquery-forecast Forecasts time series data in BigQuery.\nbigquery-get-dataset-info\nRetrieve metadata for a specific dataset.\nbigquery-get-table-info\nRetrieve metadata for a specific table.\nbigquery-list-dataset-ids\nList available dataset IDs.\nbigquery-list-table-ids\nList tables in a given dataset.\nbigquery-sql\nRun SQL queries directly against BigQuery datasets.\nbigquery-search-catalog List all entries in Dataplex Catalog (e.g. tables, views, models) that matches given user query.\nPre-built Configurations BigQuery using MCP Connect your IDE to BigQuery using Toolbox. Requirements IAM Permissions BigQuery uses Identity and Access Management (IAM) to control user and group access to BigQuery resources like projects, datasets, and tables.\nAuthentication via Application Default Credentials (ADC) By default, Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with BigQuery.\nWhen using this method, you need to ensure the IAM identity associated with your ADC (such as a service account) has the correct permissions for the queries you intend to run. Common roles include roles/bigquery.user (which includes permissions to run jobs and read data) or roles/bigbigquery.dataViewer. Follow this guide to set up your ADC.\nAuthentication via User’s OAuth Access Token If the useClientOAuth parameter is set to true, Toolbox will instead use the OAuth access token for authentication. This token is parsed from the Authorization header passed in with the tool invocation request. This method allows Toolbox to make queries to BigQuery on behalf of the client or the end-user.\nWhen using this on-behalf-of authentication, you must ensure that the identity used has been granted the correct IAM permissions.\nExample Initialize a BigQuery source that uses ADC:\nsources: my-bigquery-source: kind: \"bigquery\" project: \"my-project-id\" # location: \"US\" # Optional: Specifies the location for query jobs. # allowedDatasets: # Optional: Restricts tool access to a specific list of datasets. # - \"my_dataset_1\" # - \"other_project.my_dataset_2\" Initialize a BigQuery source that uses the client’s access token:\nsources: my-bigquery-client-auth-source: kind: \"bigquery\" project: \"my-project-id\" useClientOAuth: true # location: \"US\" # Optional: Specifies the location for query jobs. # allowedDatasets: # Optional: Restricts tool access to a specific list of datasets. # - \"my_dataset_1\" # - \"other_project.my_dataset_2\" Reference field type required description kind string true Must be “bigquery”. project string true Id of the Google Cloud project to use for billing and as the default project for BigQuery resources. location string false Specifies the location (e.g., ‘us’, ‘asia-northeast1’) in which to run the query job. This location must match the location of any tables referenced in the query. Defaults to the table’s location or ‘US’ if the location cannot be determined. Learn More allowedDatasets []string false An optional list of dataset IDs that tools using this source are allowed to access. If provided, any tool operation attempting to access a dataset not in this list will be rejected. To enforce this, two types of operations are also disallowed: 1) Dataset-level operations (e.g., CREATE SCHEMA), and 2) operations where table access cannot be statically analyzed (e.g., EXECUTE IMMEDIATE, CREATE PROCEDURE). If a single dataset is provided, it will be treated as the default for prebuilt tools. useClientOAuth bool false If true, forwards the client’s OAuth access token from the “Authorization” header to downstream queries. ","categories":"","description":"BigQuery is Google Cloud's fully managed, petabyte-scale, and cost-effective analytics data warehouse that lets you run analytics over vast amounts of  data in near real time. With BigQuery, there's no infrastructure to set  up or manage, letting you focus on finding meaningful insights using  GoogleSQL and taking advantage of flexible pricing models across on-demand  and flat-rate options.\n","excerpt":"BigQuery is Google Cloud's fully managed, petabyte-scale, and …","ref":"/genai-toolbox/resources/sources/bigquery/","tags":"","title":"BigQuery"},{"body":"","categories":"","description":"Tools that work with BigQuery Sources.\n","excerpt":"Tools that work with BigQuery Sources.\n","ref":"/genai-toolbox/resources/tools/bigquery/","tags":"","title":"BigQuery"},{"body":"","categories":"","description":"How to get started with Toolbox using BigQuery.\n","excerpt":"How to get started with Toolbox using BigQuery.\n","ref":"/genai-toolbox/samples/bigquery/","tags":"","title":"BigQuery"},{"body":"About A bigquery-analyze-contribution tool performs contribution analysis in BigQuery by creating a temporary CONTRIBUTION_ANALYSIS model and then querying it with ML.GET_INSIGHTS to find top contributors for a given metric.\nIt’s compatible with the following sources:\nbigquery bigquery-analyze-contribution takes the following parameters:\ninput_data (string, required): The data that contain the test and control data to analyze. This can be a fully qualified BigQuery table ID (e.g., my-project.my_dataset.my_table) or a SQL query that returns the data. contribution_metric (string, required): The name of the column that contains the metric to analyze. This can be SUM(metric_column_name), SUM(numerator_metric_column_name)/SUM(denominator_metric_column_name) or SUM(metric_sum_column_name)/COUNT(DISTINCT categorical_column_name) depending the type of metric to analyze. is_test_col (string, required): The name of the column that identifies whether a row is in the test or control group. The column must contain boolean values. dimension_id_cols (array of strings, optional): An array of column names that uniquely identify each dimension. top_k_insights_by_apriori_support (integer, optional): The number of top insights to return, ranked by apriori support. Default to ‘30’. pruning_method (string, optional): The method to use for pruning redundant insights. Can be 'NO_PRUNING' or 'PRUNE_REDUNDANT_INSIGHTS'. Defaults to 'PRUNE_REDUNDANT_INSIGHTS'. Example tools: contribution_analyzer: kind: bigquery-analyze-contribution source: my-bigquery-source description: Use this tool to run contribution analysis on a dataset in BigQuery. Sample Prompt You can prepare a sample table following https://cloud.google.com/bigquery/docs/get-contribution-analysis-insights. And use the following sample prompts to call this tool:\nWhat drives the changes in sales in the table bqml_tutorial.iowa_liquor_sales_sum_data? Use the project id myproject. Analyze the contribution for the total_sales metric in the table bqml_tutorial.iowa_liquor_sales_sum_data. The test group is identified by the is_test column. The dimensions are store_name, city, vendor_name, category_name and item_description. Reference field type required description kind string true Must be “bigquery-analyze-contribution”. source string true Name of the source the tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-analyze-contribution\" tool performs contribution analysis in BigQuery.\n","excerpt":"A \"bigquery-analyze-contribution\" tool performs contribution analysis …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-analyze-contribution/","tags":"","title":"bigquery-analyze-contribution"},{"body":"About A bigquery-conversational-analytics tool allows you to ask questions about your data in natural language.\nThis function takes a user’s question (which can include conversational history for context) and references to specific BigQuery tables, and sends them to a stateless conversational API.\nThe API uses a GenAI agent to understand the question, generate and execute SQL queries and Python code, and formulate an answer. This function returns a detailed, sequential log of this entire process, which includes any generated SQL or Python code, the data retrieved, and the final text answer.\nNote: This tool requires additional setup in your project. Please refer to the official Conversational Analytics API documentation for instructions.\nIt’s compatible with the following sources:\nbigquery bigquery-conversational-analytics accepts the following parameters:\nuser_query_with_context: The user’s question, potentially including conversation history and system instructions for context. table_references: A JSON string of a list of BigQuery tables to use as context. Each object in the list must contain projectId, datasetId, and tableId. Example: '[{\"projectId\": \"my-gcp-project\", \"datasetId\": \"my_dataset\", \"tableId\": \"my_table\"}]' The tool’s behavior regarding these parameters is influenced by the allowedDatasets restriction on the bigquery source:\nWithout allowedDatasets restriction: The tool can use tables from any dataset specified in the table_references parameter. With allowedDatasets restriction: Before processing the request, the tool verifies that every table in table_references belongs to a dataset in the allowed list. If any table is from a dataset that is not in the list, the request is denied. Example tools: ask_data_insights: kind: bigquery-conversational-analytics source: my-bigquery-source description: | Use this tool to perform data analysis, get insights, or answer complex questions about the contents of specific BigQuery tables. Reference field type required description kind string true Must be “bigquery-conversational-analytics”. source string true Name of the source for chat. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-conversational-analytics\" tool allows conversational interaction with a BigQuery source.\n","excerpt":"A \"bigquery-conversational-analytics\" tool allows conversational …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-conversational-analytics/","tags":"","title":"bigquery-conversational-analytics"},{"body":"About A bigquery-execute-sql tool executes a SQL statement against BigQuery. It’s compatible with the following sources:\nbigquery bigquery-execute-sql accepts the following parameters:\nsql (required): The GoogleSQL statement to execute. dry_run (optional): If set to true, the query is validated but not run, returning information about the execution instead. Defaults to false. The tool’s behavior is influenced by the allowedDatasets restriction on the bigquery source:\nWithout allowedDatasets restriction: The tool can execute any valid GoogleSQL query. With allowedDatasets restriction: Before execution, the tool performs a dry run to analyze the query. It will reject the query if it attempts to access any table outside the allowed datasets list. To enforce this restriction, the following operations are also disallowed: Dataset-level operations (e.g., CREATE SCHEMA, ALTER SCHEMA). Unanalyzable operations where the accessed tables cannot be determined statically (e.g., EXECUTE IMMEDIATE, CREATE PROCEDURE, CALL). Example tools: execute_sql_tool: kind: bigquery-execute-sql source: my-bigquery-source description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “bigquery-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-execute-sql\" tool executes a SQL statement against BigQuery.\n","excerpt":"A \"bigquery-execute-sql\" tool executes a SQL statement against …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-execute-sql/","tags":"","title":"bigquery-execute-sql"},{"body":"About A bigquery-forecast tool forecasts time series data in BigQuery. It’s compatible with the following sources:\nbigquery bigquery-forecast constructs and executes a SELECT * FROM AI.FORECAST(...) query based on the provided parameters:\nhistory_data (string, required): This specifies the source of the historical time series data. It can be either a fully qualified BigQuery table ID (e.g., my-project.my_dataset.my_table) or a SQL query that returns the data. timestamp_col (string, required): The name of the column in your history_data that contains the timestamps. data_col (string, required): The name of the column in your history_data that contains the numeric values to be forecasted. id_cols (array of strings, optional): If you are forecasting multiple time series at once (e.g., sales for different products), this parameter takes an array of column names that uniquely identify each series. It defaults to an empty array if not provided. horizon (integer, optional): The number of future time steps you want to predict. It defaults to 10 if not specified. The tool’s behavior regarding these parameters is influenced by the allowedDatasets restriction on the bigquery source:\nWithout allowedDatasets restriction: The tool can use any table or query for the history_data parameter. With allowedDatasets restriction: The tool verifies that the history_data parameter only accesses tables within the allowed datasets. If history_data is a table ID, the tool checks if the table’s dataset is in the allowed list. If history_data is a query, the tool performs a dry run to analyze the query and rejects it if it accesses any table outside the allowed list. Example tools: forecast_tool: kind: bigquery-forecast source: my-bigquery-source description: Use this tool to forecast time series data in BigQuery. Sample Prompt You can use the following sample prompts to call this tool:\nCan you forecast the history time series data in bigquery table bqml_tutorial.google_analytic? Use project_id myproject. What are the future total_visits in bigquery table bqml_tutorial.google_analytic? Reference field type required description kind string true Must be “bigquery-forecast”. source string true Name of the source the forecast tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-forecast\" tool forecasts time series data in BigQuery.\n","excerpt":"A \"bigquery-forecast\" tool forecasts time series data in BigQuery.\n","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-forecast/","tags":"","title":"bigquery-forecast"},{"body":"About A bigquery-get-dataset-info tool retrieves metadata for a BigQuery dataset. It’s compatible with the following sources:\nbigquery bigquery-get-dataset-info takes a dataset parameter to specify the dataset on the given source. It also optionally accepts a project parameter to define the Google Cloud project ID. If the project parameter is not provided, the tool defaults to using the project defined in the source configuration.\nExample tools: bigquery_get_dataset_info: kind: bigquery-get-dataset-info source: my-bigquery-source description: Use this tool to get dataset metadata. Reference field type required description kind string true Must be “bigquery-get-dataset-info”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-get-dataset-info\" tool retrieves metadata for a BigQuery dataset.\n","excerpt":"A \"bigquery-get-dataset-info\" tool retrieves metadata for a BigQuery …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-get-dataset-info/","tags":"","title":"bigquery-get-dataset-info"},{"body":"About A bigquery-get-table-info tool retrieves metadata for a BigQuery table. It’s compatible with the following sources:\nbigquery bigquery-get-table-info takes dataset and table parameters to specify the target table. It also optionally accepts a project parameter to define the Google Cloud project ID. If the project parameter is not provided, the tool defaults to using the project defined in the source configuration.\nExample tools: bigquery_get_table_info: kind: bigquery-get-table-info source: my-bigquery-source description: Use this tool to get table metadata. Reference field type required description kind string true Must be “bigquery-get-table-info”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-get-table-info\" tool retrieves metadata for a BigQuery table.\n","excerpt":"A \"bigquery-get-table-info\" tool retrieves metadata for a BigQuery …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-get-table-info/","tags":"","title":"bigquery-get-table-info"},{"body":"About A bigquery-list-dataset-ids tool returns all dataset IDs from the source. It’s compatible with the following sources:\nbigquery bigquery-list-dataset-ids accepts the following parameter:\nproject (optional): Defines the Google Cloud project ID. If not provided, the tool defaults to the project from the source configuration. The tool’s behavior regarding this parameter is influenced by the allowedDatasets restriction on the bigquery source:\nWithout allowedDatasets restriction: The tool can list datasets from any project specified by the project parameter. With allowedDatasets restriction: The tool directly returns the pre-configured list of dataset IDs from the source, and the project parameter is ignored. Example tools: bigquery_list_dataset_ids: kind: bigquery-list-dataset-ids source: my-bigquery-source description: Use this tool to get dataset metadata. Reference field type required description kind string true Must be “bigquery-list-dataset-ids”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-list-dataset-ids\" tool returns all dataset IDs from the source.\n","excerpt":"A \"bigquery-list-dataset-ids\" tool returns all dataset IDs from the …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-list-dataset-ids/","tags":"","title":"bigquery-list-dataset-ids"},{"body":"About A bigquery-list-table-ids tool returns table IDs in a given BigQuery dataset. It’s compatible with the following sources:\nbigquery bigquery-list-table-ids accepts the following parameters:\ndataset (required): Specifies the dataset from which to list table IDs. project (optional): Defines the Google Cloud project ID. If not provided, the tool defaults to the project from the source configuration. The tool’s behavior regarding these parameters is influenced by the allowedDatasets restriction on the bigquery source:\nWithout allowedDatasets restriction: The tool can list tables from any dataset specified by the dataset and project parameters. With allowedDatasets restriction: Before listing tables, the tool verifies that the requested dataset is in the allowed list. If it is not, the request is denied. If only one dataset is specified in the allowedDatasets list, it will be used as the default value for the dataset parameter. Example tools: bigquery_list_table_ids: kind: bigquery-list-table-ids source: my-bigquery-source description: Use this tool to get table metadata. Reference field type required description kind string true Must be “bigquery-list-table-ids”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-list-table-ids\" tool returns table IDs in a given BigQuery dataset.\n","excerpt":"A \"bigquery-list-table-ids\" tool returns table IDs in a given BigQuery …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-list-table-ids/","tags":"","title":"bigquery-list-table-ids"},{"body":"About A bigquery-search-catalog tool returns all entries in Dataplex Catalog (e.g. tables, views, models) with system=bigquery that matches given user query. It’s compatible with the following sources:\nbigquery bigquery-search-catalog takes a required query parameter based on which entries are filtered and returned to the user. It also optionally accepts following parameters:\ndatasetIds - The IDs of the bigquery dataset. projectIds - The IDs of the bigquery project. types - The type of the data. Accepted values are: CONNECTION, POLICY, DATASET, MODEL, ROUTINE, TABLE, VIEW. pageSize - Number of results in the search page. Defaults to 5. Requirements IAM Permissions Bigquery uses Identity and Access Management (IAM) to control user and group access to Dataplex resources. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with [Dataplex][dataplex-docs].\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the tasks you intend to perform. See Dataplex Universal Catalog IAM permissions and Dataplex Universal Catalog IAM roles for more information on applying IAM permissions and roles to an identity.\nExample tools: search_catalog: kind: bigquery-search-catalog source: bigquery-source description: Use this tool to find tables, views, models, routines or connections. Reference field type required description kind string true Must be “bigquery-search-catalog”. source string true Name of the source the tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"bigquery-search-catalog\" tool allows to search for entries based on the provided query.\n","excerpt":"A \"bigquery-search-catalog\" tool allows to search for entries based on …","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-search-catalog/","tags":"","title":"bigquery-search-catalog"},{"body":"About A bigquery-sql tool executes a pre-defined SQL statement. It’s compatible with the following sources:\nbigquery GoogleSQL BigQuery uses GoogleSQL for querying data. The integration with Toolbox supports this dialect. The specified SQL statement is executed, and parameters can be inserted into the query. BigQuery supports both named parameters (e.g., @name) and positional parameters (?), but they cannot be mixed in the same query.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: # Example: Querying a user table in BigQuery search_users_bq: kind: bigquery-sql source: my-bigquery-source statement: | SELECT id, name, email FROM `my-project.my-dataset.users` WHERE id = @id OR email = @email; description: | Use this tool to get information for a specific user. Takes an id number or a name and returns info on the user. Example: {{ \"id\": 123, \"name\": \"Alice\", }} parameters: - name: id type: integer description: User ID - name: email type: string description: Email address of the user Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: bigquery-sql source: my-bigquery-source statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “bigquery-sql”. source string true Name of the source the GoogleSQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true The GoogleSQL statement to execute. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"bigquery-sql\" tool executes a pre-defined SQL statement.\n","excerpt":"A \"bigquery-sql\" tool executes a pre-defined SQL statement.\n","ref":"/genai-toolbox/resources/tools/bigquery/bigquery-sql/","tags":"","title":"bigquery-sql"},{"body":"Bigtable Source Bigtable is a low-latency NoSQL database service for machine learning, operational analytics, and user-facing operations. It’s a wide-column, key-value store that can scale to billions of rows and thousands of columns. With Bigtable, you can replicate your data to regions across the world for high availability and data resiliency.\nIf you are new to Bigtable, you can try to create an instance and write data with the cbt CLI.\nYou can use GoogleSQL statements to query your Bigtable data. GoogleSQL is an ANSI-compliant structured query language (SQL) that is also implemented for other Google Cloud services. SQL queries are handled by cluster nodes in the same way as NoSQL data requests. Therefore, the same best practices apply when creating SQL queries to run against your Bigtable data, such as avoiding full table scans or complex filters.\nAvailable Tools bigtable-sql Run SQL-like queries over Bigtable rows. Requirements IAM Permissions Bigtable uses Identity and Access Management (IAM) to control user and group access to Bigtable resources at the project, instance, table, and backup level. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with Bigtable.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the query provided. See Apply IAM roles for more information on applying IAM permissions and roles to an identity.\nExample sources: my-bigtable-source: kind: \"bigtable\" project: \"my-project-id\" instance: \"test-instance\" Reference field type required description kind string true Must be “bigtable”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). instance string true Name of the Bigtable instance. ","categories":"","description":"Bigtable is a low-latency NoSQL database service for machine learning, operational analytics, and user-facing operations. It's a wide-column, key-value store that can scale to billions of rows and thousands of columns. With Bigtable, you can replicate your data to regions across the world for high availability and data resiliency.\n","excerpt":"Bigtable is a low-latency NoSQL database service for machine learning, …","ref":"/genai-toolbox/resources/sources/bigtable/","tags":"","title":"Bigtable"},{"body":"","categories":"","description":"Tools that work with Bigtable Sources.\n","excerpt":"Tools that work with Bigtable Sources.\n","ref":"/genai-toolbox/resources/tools/bigtable/","tags":"","title":"Bigtable"},{"body":"About A bigtable-sql tool executes a pre-defined SQL statement against a Bigtable instance. It’s compatible with any of the following sources:\nbigtable GoogleSQL Bigtable supports SQL queries. The integration with Toolbox supports googlesql dialect, the specified SQL statement is executed as a data manipulation language (DML) statements, and specified parameters will inserted according to their name: e.g. @name.\nNote\nBigtable’s GoogleSQL support for DML statements might be limited to certain query types. For detailed information on supported DML statements and use cases, refer to the Bigtable GoogleSQL use cases.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_user_by_id_or_name: kind: bigtable-sql source: my-bigtable-instance statement: | SELECT TO_INT64(cf[ 'id' ]) as id, CAST(cf[ 'name' ] AS string) as name, FROM mytable WHERE TO_INT64(cf[ 'id' ]) = @id OR CAST(cf[ 'name' ] AS string) = @name; description: | Use this tool to get information for a specific user. Takes an id number or a name and returns info on the user. Example: {{ \"id\": 123, \"name\": \"Alice\", }} parameters: - name: id type: integer description: User ID - name: name type: string description: Name of the user Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: bigtable-sql source: my-bigtable-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “bigtable-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. Tips Bigtable Studio is a useful to explore and manage your Bigtable data. If you’re unfamiliar with the query syntax, Query Builder lets you build a query, run it against a table, and then view the results in the console. Some Python libraries limit the use of underscore columns such as _key. A workaround would be to leverage Bigtable Logical Views to rename the columns. ","categories":"","description":"A \"bigtable-sql\" tool executes a pre-defined SQL statement against a Google Cloud Bigtable instance.\n","excerpt":"A \"bigtable-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/bigtable/bigtable-sql/","tags":"","title":"bigtable-sql"},{"body":"About Cassandra is a NoSQL distributed database. By design, NoSQL databases are lightweight, open-source, non-relational, and largely distributed. Counted among their strengths are horizontal scalability, distributed architectures, and a flexible approach to schema definition.\nAvailable Tools cassandra-cql\nRun parameterized CQL queries in Cassandra. Example sources: my-cassandra-source: kind: cassandra hosts: - 127.0.0.1 keyspace: my_keyspace protoVersion: 4 username: ${USER_NAME} password: ${PASSWORD} caPath: /path/to/ca.crt # Optional: path to CA certificate certPath: /path/to/client.crt # Optional: path to client certificate keyPath: /path/to/client.key # Optional: path to client key enableHostVerification: true # Optional: enable host verification Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “cassandra”. hosts string[] true List of IP addresses to connect to (e.g., [“192.168.1.1:9042”, “192.168.1.2:9042”,“192.168.1.3:9042”]). The default port is 9042 if not specified. keyspace string true Name of the Cassandra keyspace to connect to (e.g., “my_keyspace”). protoVersion integer false Protocol version for the Cassandra connection (e.g., 4). username string false Name of the Cassandra user to connect as (e.g., “my-cassandra-user”). password string false Password of the Cassandra user (e.g., “my-password”). caPath string false Path to the CA certificate for SSL/TLS (e.g., “/path/to/ca.crt”). certPath string false Path to the client certificate for SSL/TLS (e.g., “/path/to/client.crt”). keyPath string false Path to the client key for SSL/TLS (e.g., “/path/to/client.key”). enableHostVerification boolean false Enable host verification for SSL/TLS (e.g., true). By default, host verification is disabled. ","categories":"","description":"Cassandra is a NoSQL distributed database known for its horizontal scalability, distributed architecture, and flexible schema definition.\n","excerpt":"Cassandra is a NoSQL distributed database known for its horizontal …","ref":"/genai-toolbox/resources/sources/cassandra/","tags":"","title":"Cassandra"},{"body":"","categories":"","description":"Tools that work with Cassandra Sources.\n","excerpt":"Tools that work with Cassandra Sources.\n","ref":"/genai-toolbox/resources/tools/cassandra/","tags":"","title":"Cassandra"},{"body":"About A cassandra-cql tool executes a pre-defined CQL statement against a Cassandra database. It’s compatible with any of the following sources:\ncassandra The specified CQL statement is executed as a prepared statement, and expects parameters in the CQL query to be in the form of placeholders ?.\nExample Note: This tool uses parameterized queries to prevent CQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for keyspaces, table names, column names, or other parts of the query.\ntools: search_users_by_email: kind: cassandra-cql source: my-cassandra-cluster statement: | SELECT user_id, email, first_name, last_name, created_at FROM users WHERE email = ? description: | Use this tool to retrieve specific user information by their email address. Takes an email address and returns user details including user ID, email, first name, last name, and account creation timestamp. Do NOT use this tool with a user ID or other identifiers. Example: {{ \"email\": \"user@example.com\", }} parameters: - name: email type: string description: User's email address Example with Template Parameters Note: This tool allows direct modifications to the CQL statement, including keyspaces, table names, and column names. This makes it more vulnerable to CQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_keyspace_table: kind: cassandra-cql source: my-cassandra-cluster statement: | SELECT * FROM {{.keyspace}}.{{.tableName}}; description: | Use this tool to list all information from a specific table in a keyspace. Example: {{ \"keyspace\": \"my_keyspace\", \"tableName\": \"users\", }} templateParameters: - name: keyspace type: string description: Keyspace containing the table - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “cassandra-cql”. source string true Name of the source the CQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true CQL statement to execute. authRequired []string false List of authentication requirements for the source. parameters parameters false List of parameters that will be inserted into the CQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the CQL statement before executing prepared statement. ","categories":"","description":"A \"cassandra-cql\" tool executes a pre-defined CQL statement against a Cassandra database.\n","excerpt":"A \"cassandra-cql\" tool executes a pre-defined CQL statement against a …","ref":"/genai-toolbox/resources/tools/cassandra/cassandra-cql/","tags":"","title":"cassandra-cql"},{"body":"Reference Flag (Short) Flag (Long) Description Default -a --address Address of the interface the server will listen on. 127.0.0.1 --disable-reload Disables dynamic reloading of tools file. -h --help help for toolbox --log-level Specify the minimum level logged. Allowed: ‘DEBUG’, ‘INFO’, ‘WARN’, ‘ERROR’. info --logging-format Specify logging format to use. Allowed: ‘standard’ or ‘JSON’. standard -p --port Port the server will listen on. 5000 --prebuilt Use a prebuilt tool configuration by source type. Cannot be used with –tools-file. See Prebuilt Tools Reference for allowed values. --stdio Listens via MCP STDIO instead of acting as a remote HTTP server. --telemetry-gcp Enable exporting directly to Google Cloud Monitoring. --telemetry-otlp Enable exporting using OpenTelemetry Protocol (OTLP) to the specified endpoint (e.g. ‘http://127.0.0.1:4318’) --telemetry-service-name Sets the value of the service.name resource attribute for telemetry data. toolbox --tools-file File path specifying the tool configuration. Cannot be used with –prebuilt, –tools-files, or –tools-folder. --tools-files Multiple file paths specifying tool configurations. Files will be merged. Cannot be used with –prebuilt, –tools-file, or –tools-folder. --tools-folder Directory path containing YAML tool configuration files. All .yaml and .yml files in the directory will be loaded and merged. Cannot be used with –prebuilt, –tools-file, or –tools-files. --ui Launches the Toolbox UI web server. -v --version version for toolbox Examples Transport Configuration Server Settings:\n--address, -a: Server listening address (default: “127.0.0.1”) --port, -p: Server listening port (default: 5000) STDIO:\n--stdio: Run in MCP STDIO mode instead of HTTP server Usage Examples # Basic server with custom port configuration ./toolbox --tools-file \"tools.yaml\" --port 8080 Tool Configuration Sources The CLI supports multiple mutually exclusive ways to specify tool configurations:\nSingle File: (default)\n--tools-file: Path to a single YAML configuration file (default: tools.yaml) Multiple Files:\n--tools-files: Comma-separated list of YAML files to merge Directory:\n--tools-folder: Directory containing YAML files to load and merge Prebuilt Configurations:\n--prebuilt: Use predefined configurations for specific database types (e.g., ‘bigquery’, ‘postgres’, ‘spanner’). See Prebuilt Tools Reference for allowed values. Tip\nThe CLI enforces mutual exclusivity between configuration source flags, preventing simultaneous use of --prebuilt with file-based options, and ensuring only one of --tools-file, --tools-files, or --tools-folder is used at a time.\nHot Reload Toolbox enables dynamic reloading by default. To disable, use the --disable-reload flag.\nToolbox UI To launch Toolbox’s interactive UI, use the --ui flag. This allows you to test tools and toolsets with features such as authorized parameters. To learn more, visit Toolbox UI.\n","categories":"","description":"This page describes the `toolbox` command-line options.\n","excerpt":"This page describes the `toolbox` command-line options.\n","ref":"/genai-toolbox/reference/cli/","tags":"","title":"CLI"},{"body":"About ClickHouse is a fast, open-source, column-oriented database\nAvailable Tools clickhouse-execute-sql\nExecute parameterized SQL queries in ClickHouse with query logging.\nclickhouse-sql\nExecute SQL queries as prepared statements in ClickHouse.\nRequirements Database User This source uses standard ClickHouse authentication. You will need to create a ClickHouse user (or with ClickHouse Cloud) to connect to the database with. The user should have appropriate permissions for the operations you plan to perform.\nNetwork Access ClickHouse supports multiple protocols:\nHTTPS protocol (default port 8443) - Secure HTTP access (default) HTTP protocol (default port 8123) - Good for web-based access Example Secure Connection Example sources: secure-clickhouse-source: kind: clickhouse host: clickhouse.example.com port: \"8443\" database: analytics user: ${CLICKHOUSE_USER} password: ${CLICKHOUSE_PASSWORD} protocol: https secure: true HTTP Protocol Example sources: http-clickhouse-source: kind: clickhouse host: localhost port: \"8123\" database: logs user: ${CLICKHOUSE_USER} password: ${CLICKHOUSE_PASSWORD} protocol: http secure: false Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “clickhouse”. host string true IP address or hostname to connect to (e.g. “127.0.0.1” or “clickhouse.example.com”) port string true Port to connect to (e.g. “8443” for HTTPS, “8123” for HTTP) database string true Name of the ClickHouse database to connect to (e.g. “my_database”). user string true Name of the ClickHouse user to connect as (e.g. “analytics_user”). password string false Password of the ClickHouse user (e.g. “my-password”). protocol string false Connection protocol: “https” (default) or “http”. secure boolean false Whether to use a secure connection (TLS). Default: false. ","categories":"","description":"ClickHouse is an open-source, OLTP database.\n","excerpt":"ClickHouse is an open-source, OLTP database.\n","ref":"/genai-toolbox/resources/sources/clickhouse/","tags":"","title":"ClickHouse"},{"body":"","categories":"","description":"Tools for interacting with ClickHouse databases and tables.\n","excerpt":"Tools for interacting with ClickHouse databases and tables.\n","ref":"/genai-toolbox/resources/tools/clickhouse/","tags":"","title":"ClickHouse"},{"body":"About A clickhouse-execute-sql tool executes a SQL statement against a ClickHouse database. It’s compatible with the clickhouse source.\nclickhouse-execute-sql takes one input parameter sql and runs the SQL statement against the specified source. This tool includes query logging capabilities for monitoring and debugging purposes.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: clickhouse-execute-sql source: my-clickhouse-instance description: Use this tool to execute SQL statements against ClickHouse. Parameters parameter type required description sql string true The SQL statement to execute against the database Reference field type required description kind string true Must be “clickhouse-execute-sql”. source string true Name of the ClickHouse source to execute SQL against. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"clickhouse-execute-sql\" tool executes a SQL statement against a ClickHouse database.\n","excerpt":"A \"clickhouse-execute-sql\" tool executes a SQL statement against a …","ref":"/genai-toolbox/resources/tools/clickhouse/clickhouse-execute-sql/","tags":"","title":"clickhouse-execute-sql"},{"body":"About The cloud-monitoring source provides a client to interact with the Google Cloud Monitoring API. This allows tools to access cloud monitoring metrics explorer and run promql queries.\nAuthentication can be handled in two ways:\nApplication Default Credentials (ADC): By default, the source uses ADC to authenticate with the API. Client-side OAuth: If useClientOAuth is set to true, the source will expect an OAuth 2.0 access token to be provided by the client (e.g., a web browser) for each request. Example sources: my-cloud-monitoring: kind: cloud-monitoring my-oauth-cloud-monitoring: kind: cloud-monitoring useClientOAuth: true Reference field type required description kind string true Must be “cloud-monitoring”. useClientOAuth boolean false If true, the source will use client-side OAuth for authorization. Otherwise, it will use Application Default Credentials. Defaults to false. ","categories":"","description":"A \"cloud-monitoring\" source provides a client for the Cloud Monitoring API.\n","excerpt":"A \"cloud-monitoring\" source provides a client for the Cloud Monitoring …","ref":"/genai-toolbox/resources/sources/cloud-monitoring/","tags":"","title":"Cloud Monitoring"},{"body":"","categories":"","description":"Tools that work with Cloud Monitoring source.\n","excerpt":"Tools that work with Cloud Monitoring source.\n","ref":"/genai-toolbox/resources/tools/cloudmonitoring/","tags":"","title":"Cloud Monitoring"},{"body":"","categories":"","description":"Tools that work with Cloud SQL. \n","excerpt":"Tools that work with Cloud SQL. \n","ref":"/genai-toolbox/resources/tools/cloudsql/","tags":"","title":"Cloud SQL"},{"body":"About Cloud SQL for MySQL is a fully-managed database service that helps you set up, maintain, manage, and administer your MySQL relational databases on Google Cloud Platform.\nIf you are new to Cloud SQL for MySQL, you can try creating and connecting to a database by following these instructions.\nAvailable Tools mysql-sql Execute pre-defined prepared SQL queries in Cloud SQL for MySQL.\nmysql-execute-sql Run parameterized SQL queries in Cloud SQL for MySQL.\nmysql-list-active-queries List active queries in Cloud SQL for MySQL.\nmysql-list-tables List tables in a Cloud SQL for MySQL database.\nmysql-list-tables-missing-unique-indexes List tables in a Cloud SQL for MySQL database that do not have primary or unique indices.\nmysql-list-table-fragmentation List table fragmentation in Cloud SQL for MySQL tables.\nPre-built Configurations Cloud SQL for MySQL using MCP Connect your IDE to Cloud SQL for MySQL using Toolbox. Requirements IAM Permissions By default, this source uses the Cloud SQL Go Connector to authorize and establish mTLS connections to your Cloud SQL instance. The Go connector uses your Application Default Credentials (ADC) to authorize your connection to Cloud SQL.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the following IAM roles (or corresponding permissions):\nroles/cloudsql.client Tip\nIf you are connecting from Compute Engine, make sure your VM also has the proper scope to connect using the Cloud SQL Admin API.\nNetworking Cloud SQL supports connecting over both from external networks via the internet (public IP), and internal networks (private IP). For more information on choosing between the two options, see the Cloud SQL page Connection overview.\nYou can configure the ipType parameter in your source configuration to public or private to match your cluster’s configuration. Regardless of which you choose, all connections use IAM-based authorization and are encrypted with mTLS.\nDatabase User Currently, this source only uses standard authentication. You will need to create a MySQL user to login to the database with.\nExample sources: my-cloud-sql-mysql-source: kind: cloud-sql-mysql project: my-project-id region: us-central1 instance: my-instance database: my_db user: ${USER_NAME} password: ${PASSWORD} # ipType: \"private\" Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “cloud-sql-mysql”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). region string true Name of the GCP region that the cluster was created in (e.g. “us-central1”). instance string true Name of the Cloud SQL instance within the cluster (e.g. “my-instance”). database string true Name of the MySQL database to connect to (e.g. “my_db”). user string true Name of the MySQL user to connect as (e.g. “my-pg-user”). password string true Password of the MySQL user (e.g. “my-password”). ipType string false IP Type of the Cloud SQL instance; must be one of public or private. Default: public. ","categories":"","description":"Cloud SQL for MySQL is a fully-managed database service for MySQL.\n","excerpt":"Cloud SQL for MySQL is a fully-managed database service for MySQL.\n","ref":"/genai-toolbox/resources/sources/cloud-sql-mysql/","tags":"","title":"Cloud SQL for MySQL"},{"body":"About Cloud SQL for PostgreSQL is a fully-managed database service that helps you set up, maintain, manage, and administer your PostgreSQL relational databases on Google Cloud Platform.\nIf you are new to Cloud SQL for PostgreSQL, you can try creating and connecting to a database by following these instructions.\nAvailable Tools postgres-sql Execute SQL queries as prepared statements in PostgreSQL.\npostgres-execute-sql Run parameterized SQL statements in PostgreSQL.\npostgres-list-tables List tables in a PostgreSQL database.\npostgres-list-active-queries List active queries in a PostgreSQL database.\npostgres-list-available-extensions List available extensions for installation in a PostgreSQL database.\npostgres-list-installed-extensions List installed extensions in a PostgreSQL database.\nPre-built Configurations Cloud SQL for Postgres using MCP Connect your IDE to Cloud SQL for Postgres using Toolbox. Requirements IAM Permissions By default, this source uses the Cloud SQL Go Connector to authorize and establish mTLS connections to your Cloud SQL instance. The Go connector uses your Application Default Credentials (ADC) to authorize your connection to Cloud SQL.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the following IAM roles (or corresponding permissions):\nroles/cloudsql.client Tip\nIf you are connecting from Compute Engine, make sure your VM also has the proper scope to connect using the Cloud SQL Admin API.\nNetworking Cloud SQL supports connecting over both from external networks via the internet (public IP), and internal networks (private IP). For more information on choosing between the two options, see the Cloud SQL page Connection overview.\nYou can configure the ipType parameter in your source configuration to public or private to match your cluster’s configuration. Regardless of which you choose, all connections use IAM-based authorization and are encrypted with mTLS.\nAuthentication This source supports both password-based authentication and IAM authentication (using your Application Default Credentials).\nStandard Authentication To connect using user/password, create a PostgreSQL user and input your credentials in the user and password fields.\nuser: ${USER_NAME} password: ${PASSWORD} IAM Authentication To connect using IAM authentication:\nPrepare your database instance and user following this guide.\nYou could choose one of the two ways to log in:\nSpecify your IAM email as the user. Leave your user field blank. Toolbox will fetch the ADC automatically and log in using the email associated with it. Leave the password field blank.\nExample sources: my-cloud-sql-pg-source: kind: cloud-sql-postgres project: my-project-id region: us-central1 instance: my-instance database: my_db user: ${USER_NAME} password: ${PASSWORD} # ipType: \"private\" Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “cloud-sql-postgres”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). region string true Name of the GCP region that the cluster was created in (e.g. “us-central1”). instance string true Name of the Cloud SQL instance within the cluster (e.g. “my-instance”). database string true Name of the Postgres database to connect to (e.g. “my_db”). user string false Name of the Postgres user to connect as (e.g. “my-pg-user”). Defaults to IAM auth using ADC email if unspecified. password string false Password of the Postgres user (e.g. “my-password”). Defaults to attempting IAM authentication if unspecified. ipType string false IP Type of the Cloud SQL instance; must be one of public or private. Default: public. ","categories":"","description":"Cloud SQL for PostgreSQL is a fully-managed database service for Postgres.\n","excerpt":"Cloud SQL for PostgreSQL is a fully-managed database service for …","ref":"/genai-toolbox/resources/sources/cloud-sql-pg/","tags":"","title":"Cloud SQL for PostgreSQL"},{"body":"About Cloud SQL for SQL Server is a managed database service that helps you set up, maintain, manage, and administer your SQL Server databases on Google Cloud.\nIf you are new to Cloud SQL for SQL Server, you can try creating and connecting to a database by following these instructions.\nAvailable Tools mssql-sql\nExecute pre-defined SQL Server queries with placeholder parameters.\nmssql-execute-sql\nRun parameterized SQL Server queries in Cloud SQL for SQL Server.\nmssql-list-tables\nList tables in a Cloud SQL for SQL Server database.\nPre-built Configurations Cloud SQL for SQL Server using MCP\nConnect your IDE to Cloud SQL for SQL Server using Toolbox. Requirements IAM Permissions By default, this source uses the Cloud SQL Go Connector to authorize and establish mTLS connections to your Cloud SQL instance. The Go connector uses your Application Default Credentials (ADC) to authorize your connection to Cloud SQL.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the following IAM roles (or corresponding permissions):\nroles/cloudsql.client Tip\nIf you are connecting from Compute Engine, make sure your VM also has the proper scope to connect using the Cloud SQL Admin API.\nNetworking Cloud SQL supports connecting over both from external networks via the internet (public IP), and internal networks (private IP). For more information on choosing between the two options, see the Cloud SQL page Connection overview.\nYou can configure the ipType parameter in your source configuration to public or private to match your cluster’s configuration. Regardless of which you choose, all connections use IAM-based authorization and are encrypted with mTLS.\nDatabase User Currently, this source only uses standard authentication. You will need to create a SQL Server user to login to the database with.\nExample sources: my-cloud-sql-mssql-instance: kind: cloud-sql-mssql project: my-project region: my-region instance: my-instance database: my_db ipAddress: localhost user: ${USER_NAME} password: ${PASSWORD} # ipType: private Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “cloud-sql-mssql”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). region string true Name of the GCP region that the cluster was created in (e.g. “us-central1”). instance string true Name of the Cloud SQL instance within the cluster (e.g. “my-instance”). database string true Name of the Cloud SQL database to connect to (e.g. “my_db”). ipAddress string true IP address of the Cloud SQL instance to connect to. user string true Name of the SQL Server user to connect as (e.g. “my-pg-user”). password string true Password of the SQL Server user (e.g. “my-password”). ipType string false IP Type of the Cloud SQL instance, must be either public or private. Default: public. ","categories":"","description":"Cloud SQL for SQL Server is a fully-managed database service for SQL Server.\n","excerpt":"Cloud SQL for SQL Server is a fully-managed database service for SQL …","ref":"/genai-toolbox/resources/sources/cloud-sql-mssql/","tags":"","title":"Cloud SQL for SQL Server"},{"body":"About The cloud-sql-admin source provides a client to interact with the Google Cloud SQL Admin API. This allows tools to perform administrative tasks on Cloud SQL instances, such as creating users and databases.\nAuthentication can be handled in two ways:\nApplication Default Credentials (ADC): By default, the source uses ADC to authenticate with the API. Client-side OAuth: If useClientOAuth is set to true, the source will expect an OAuth 2.0 access token to be provided by the client (e.g., a web browser) for each request. Example sources: my-cloud-sql-admin: kind: cloud-sql-admin my-oauth-cloud-sql-admin: kind: cloud-sql-admin useClientOAuth: true Reference field type required description kind string true Must be “cloud-sql-admin”. useClientOAuth boolean false If true, the source will use client-side OAuth for authorization. Otherwise, it will use Application Default Credentials. Defaults to false. ","categories":"","description":"A \"cloud-sql-admin\" source provides a client for the Cloud SQL Admin API.\n","excerpt":"A \"cloud-sql-admin\" source provides a client for the Cloud SQL Admin …","ref":"/genai-toolbox/resources/sources/cloud-sql-admin/","tags":"","title":"Cloud SQL Admin"},{"body":"The cloud-sql-list-instances tool lists all Cloud SQL instances in a specified Google Cloud project.\nInfo\nThis tool uses the cloud-sql-admin source, which automatically handles authentication on behalf of the user.\nConfiguration Here is an example of how to configure the cloud-sql-list-instances tool in your tools.yaml file:\nsources: my-cloud-sql-admin-source: kind: cloud-sql-admin tools: list_my_instances: kind: cloud-sql-list-instances source: my-cloud-sql-admin-source description: Use this tool to list all Cloud SQL instances in a project. Parameters The cloud-sql-list-instances tool has one required parameter:\nfield type required description project string true The Google Cloud project ID. Reference field type required description kind string true Must be “cloud-sql-list-instances”. description string false Description of the tool that is passed to the agent. source string true The name of the cloud-sql-admin source to use for this tool. ","categories":"","description":"List Cloud SQL instances in a project.\n","excerpt":"List Cloud SQL instances in a project.\n","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqllistinstances/","tags":"","title":"Cloud SQL List Instances"},{"body":"The cloud-monitoring-query-prometheus tool fetches timeseries metrics data from Google Cloud Monitoring for a project using a given prometheus query.\nAbout The cloud-monitoring-query-prometheus tool allows you to query all metrics available in Google Cloud Monitoring using the Prometheus Query Language (PromQL). It’s compatible with any of the following sources:\ncloud-monitoring Prerequisites To use this tool, you need to have the following IAM role on your Google Cloud project:\nroles/monitoring.viewer Arguments Name Type Description projectId string The Google Cloud project ID. query string The Prometheus query to execute. Use Cases Ad-hoc analysis: Quickly investigate performance issues by executing direct promql queries for a database instance. Prebuilt Configs: Use the already added prebuilt tools mentioned in prebuilt-tools.md to query the databases system/query level metrics. Here are some common use cases for the cloud-monitoring-query-prometheus tool:\nMonitoring resource utilization: Track CPU, memory, and disk usage for your database instance (Can use the prebuilt tools). Monitoring query performance: Monitor latency, execution_time, wait_time for database instance or even for the queries running (Can use the prebuilt tools). System Health: Get the overall system health for the database instance (Can use the prebuilt tools). Examples Here are some examples of how to use the cloud-monitoring-query-prometheus tool.\ntools: get_wait_time_metrics: kind: cloud-monitoring-query-prometheus source: cloud-monitoring-source description: | This tool fetches system wait time information for AlloyDB cluster, instance. Get the `projectID`, `clusterID` and `instanceID` from the user intent. To use this tool, you must provide the Google Cloud `projectId` and a PromQL `query`. Generate `query` using these metric details: metric: `alloydb.googleapis.com/instance/postgresql/wait_time`, monitored_resource: `alloydb.googleapis.com/Instance`. labels: `cluster_id`, `instance_id`, `wait_event_type`, `wait_event_name`. Basic time series example promql query: `avg_over_time({\"__name__\"=\"alloydb.googleapis.com/instance/postgresql/wait_time\",\"monitored_resource\"=\"alloydb.googleapis.com/Instance\",\"instance_id\"=\"alloydb-instance\"}[5m])` Reference field type required description kind string true Must be cloud-monitoring-query-prometheus. source string true The name of an cloud-monitoring source. description string true Description of the tool that is passed to the agent. ","categories":"","description":"The \"cloud-monitoring-query-prometheus\" tool fetches time series metrics for a project using a given prometheus query.","excerpt":"The \"cloud-monitoring-query-prometheus\" tool fetches time series …","ref":"/genai-toolbox/resources/tools/cloudmonitoring/cloud-monitoring-query-prometheus/","tags":"","title":"cloud-monitoring-query-prometheus"},{"body":"The cloud-sql-list-databases tool lists all Cloud SQL databases in a specified Google Cloud project and instance.\nInfo\nThis tool uses the cloud-sql-admin source.\nConfiguration Here is an example of how to configure the cloud-sql-list-databases tool in your tools.yaml file:\nsources: my-cloud-sql-admin-source: kind: cloud-sql-admin tools: list_my_databases: kind: cloud-sql-list-databases source: my-cloud-sql-admin-source description: Use this tool to list all Cloud SQL databases in an instance. Parameters The cloud-sql-list-databases tool has two required parameters:\nfield type required description project string true The Google Cloud project ID. instance string true The Cloud SQL instance ID. Reference field type required description kind string true Must be “cloud-sql-list-databases”. source string true The name of the cloud-sql-admin source to use for this tool. description string false Description of the tool that is passed to the agent. ","categories":"","description":"List Cloud SQL databases in an instance.","excerpt":"List Cloud SQL databases in an instance.","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqllistdatabases/","tags":"","title":"cloud-sql-list-databases"},{"body":"","categories":"","description":"List of guides detailing how to connect your AI tools (IDEs) to Toolbox using MCP.\n","excerpt":"List of guides detailing how to connect your AI tools (IDEs) to …","ref":"/genai-toolbox/how-to/connect-ide/","tags":"","title":"Connect from your IDE"},{"body":"Toolbox SDKs vs Model Context Protocol (MCP) Toolbox now supports connections via both the native Toolbox SDKs and via Model Context Protocol (MCP). However, Toolbox has several features which are not supported in the MCP specification (such as Authenticated Parameters and Authorized invocation).\nWe recommend using the native SDKs over MCP clients to leverage these features. The native SDKs can be combined with MCP clients in many cases.\nProtocol Versions Toolbox currently supports the following versions of MCP specification:\n2025-06-18 2025-03-26 2024-11-05 Toolbox AuthZ/AuthN Not Supported by MCP The auth implementation in Toolbox is not supported in MCP’s auth specification. This includes:\nAuthenticated Parameters Authorized Invocations Connecting to Toolbox with an MCP client Before you begin Note\nMCP is only compatible with Toolbox version 0.3.0 and above.\nInstall Toolbox version 0.3.0+.\nMake sure you’ve set up and initialized your database.\nSet up your tools.yaml file.\nConnecting via Standard Input/Output (stdio) Toolbox supports the stdio transport protocol. Users that wish to use stdio will have to include the --stdio flag when running Toolbox.\n./toolbox --stdio When running with stdio, Toolbox will listen via stdio instead of acting as a remote HTTP server. Logs will be set to the warn level by default. debug and info logs are not supported with stdio.\nNote\nToolbox enables dynamic reloading by default. To disable, use the --disable-reload flag.\nConnecting via HTTP Toolbox supports the HTTP transport protocol with and without SSE.\nHTTP with SSE (deprecated) Streamable HTTP Add the following configuration to your MCP client configuration:\n{ \"mcpServers\": { \"toolbox\": { \"type\": \"sse\", \"url\": \"http://127.0.0.1:5000/mcp/sse\", } } } If you would like to connect to a specific toolset, replace url with \"http://127.0.0.1:5000/mcp/{toolset_name}/sse\".\nHTTP with SSE is only supported in version 2024-11-05 and is currently deprecated.\nAdd the following configuration to your MCP client configuration:\n{ \"mcpServers\": { \"toolbox\": { \"type\": \"http\", \"url\": \"http://127.0.0.1:5000/mcp\", } } } If you would like to connect to a specific toolset, replace url with \"http://127.0.0.1:5000/mcp/{toolset_name}\".\nUsing the MCP Inspector with Toolbox Use MCP Inspector for testing and debugging Toolbox server.\nSTDIO HTTP with SSE (deprecated) Streamable HTTP Run Inspector with Toolbox as a subprocess:\nnpx @modelcontextprotocol/inspector ./toolbox --stdio For Transport Type dropdown menu, select STDIO.\nIn Command, make sure that it is set to :./toolbox (or the correct path to where the Toolbox binary is installed).\nIn Arguments, make sure that it’s filled with --stdio.\nClick the Connect button. It might take awhile to spin up Toolbox. Voila! You should be able to inspect your toolbox tools!\nRun Toolbox.\nIn a separate terminal, run Inspector directly through npx:\nnpx @modelcontextprotocol/inspector For Transport Type dropdown menu, select SSE.\nFor URL, type in http://127.0.0.1:5000/mcp/sse to use all tool or http//127.0.0.1:5000/mcp/{toolset_name}/sse to use a specific toolset.\nClick the Connect button. Voila! You should be able to inspect your toolbox tools!\nRun Toolbox.\nIn a separate terminal, run Inspector directly through npx:\nnpx @modelcontextprotocol/inspector For Transport Type dropdown menu, select Streamable HTTP.\nFor URL, type in http://127.0.0.1:5000/mcp to use all tool or http//127.0.0.1:5000/mcp/{toolset_name} to use a specific toolset.\nClick the Connect button. Voila! You should be able to inspect your toolbox tools!\nTested Clients Client SSE Works MCP Config Docs Claude Desktop ✅ https://modelcontextprotocol.io/quickstart/user#1-download-claude-for-desktop MCP Inspector ✅ https://github.com/modelcontextprotocol/inspector Cursor ✅ https://docs.cursor.com/context/model-context-protocol Windsurf ✅ https://docs.windsurf.com/windsurf/mcp VS Code (Insiders) ✅ https://code.visualstudio.com/docs/copilot/chat/mcp-servers ","categories":"","description":"How to connect to Toolbox from a MCP Client.\n","excerpt":"How to connect to Toolbox from a MCP Client.\n","ref":"/genai-toolbox/how-to/connect_via_mcp/","tags":"","title":"Connect via MCP Client"},{"body":"About A couchbase source establishes a connection to a Couchbase database cluster, allowing tools to execute SQL queries against it.\nAvailable Tools couchbase-sql\nRun SQL++ statements on Couchbase with parameterized input. Example sources: my-couchbase-instance: kind: couchbase connectionString: couchbase://localhost bucket: travel-sample scope: inventory username: Administrator password: password Note\nFor more details about alternate addresses and custom ports refer to Managing Connections.\nReference field type required description kind string true Must be “couchbase”. connectionString string true Connection string for the Couchbase cluster. bucket string true Name of the bucket to connect to. scope string true Name of the scope within the bucket. username string false Username for authentication. password string false Password for authentication. clientCert string false Path to client certificate file for TLS authentication. clientCertPassword string false Password for the client certificate. clientKey string false Path to client key file for TLS authentication. clientKeyPassword string false Password for the client key. caCert string false Path to CA certificate file. noSslVerify boolean false If true, skip server certificate verification. Warning: This option should only be used in development or testing environments. Disabling SSL verification poses significant security risks in production as it makes your connection vulnerable to man-in-the-middle attacks. profile string false Name of the connection profile to apply. queryScanConsistency integer false Query scan consistency. Controls the consistency guarantee for index scanning. Values: 1 for “not_bounded” (fastest option, but results may not include the most recent operations), 2 for “request_plus” (highest consistency level, includes all operations up until the query started, but incurs a performance penalty). If not specified, defaults to the Couchbase Go SDK default. ","categories":"","description":"A \"couchbase\" source connects to a Couchbase database.\n","excerpt":"A \"couchbase\" source connects to a Couchbase database.\n","ref":"/genai-toolbox/resources/sources/couchbase/","tags":"","title":"couchbase"},{"body":"","categories":"","description":"Tools that work with Couchbase Sources.\n","excerpt":"Tools that work with Couchbase Sources.\n","ref":"/genai-toolbox/resources/tools/couchbase/","tags":"","title":"Couchbase"},{"body":"About A couchbase-sql tool executes a pre-defined SQL statement against a Couchbase database. It’s compatible with any of the following sources:\ncouchbase The specified SQL statement is executed as a parameterized statement, and specified parameters will be used according to their name: e.g. $id.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_products_by_category: kind: couchbase-sql source: my-couchbase-instance statement: | SELECT p.name, p.price, p.description FROM products p WHERE p.category = $category AND p.price \u003c $max_price ORDER BY p.price DESC LIMIT 10 description: | Use this tool to get a list of products for a specific category under a maximum price. Takes a category name, e.g. \"Electronics\" and a maximum price e.g 500 and returns a list of product names, prices, and descriptions. Do NOT use this tool with invalid category names. Do NOT guess a category name, Do NOT guess a price. Example: {{ \"category\": \"Electronics\", \"max_price\": 500 }} Example: {{ \"category\": \"Furniture\", \"max_price\": 1000 }} parameters: - name: category type: string description: Product category name - name: max_price type: integer description: Maximum price (positive integer) Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: couchbase-sql source: my-couchbase-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “couchbase-sql”. source string true Name of the source the SQL query should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute parameters parameters false List of parameters that will be used with the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. authRequired array[string] false List of auth services that are required to use this tool. ","categories":"","description":"A \"couchbase-sql\" tool executes a pre-defined SQL statement against a Couchbase database.\n","excerpt":"A \"couchbase-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/couchbase/couchbase-sql/","tags":"","title":"couchbase-sql"},{"body":"","categories":"","description":"Tools that work with Dataform.\n","excerpt":"Tools that work with Dataform.\n","ref":"/genai-toolbox/resources/tools/dataform/","tags":"","title":"Dataform"},{"body":"About A dataform-compile-local tool runs the dataform compile command on a local Dataform project.\nIt is a standalone tool and is not compatible with any sources.\nAt invocation time, the tool executes dataform compile --json in the specified project directory and returns the resulting JSON object from the CLI.\ndataform-compile-local takes the following parameter:\nproject_dir (string): The absolute or relative path to the local Dataform project directory. The server process must have read access to this path. Requirements Dataform CLI This tool executes the dataform command-line interface (CLI) via a system call. You must have the dataform CLI installed and available in the server’s system PATH.\nYou can typically install the CLI via npm:\nnpm install -g @dataform/cli See the official Dataform documentation for more details.\nExample tools: my_dataform_compiler: kind: dataform-compile-local description: Use this tool to compile a local Dataform project. Reference field type required description kind string true Must be “dataform-compile-local”. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"dataform-compile-local\" tool runs the `dataform compile` CLI command on a local project directory.\n","excerpt":"A \"dataform-compile-local\" tool runs the `dataform compile` CLI …","ref":"/genai-toolbox/resources/tools/dataform/dataform-compile-local/","tags":"","title":"dataform-compile-local"},{"body":"Dataplex Source Dataplex Universal Catalog is a unified, intelligent governance solution for data and AI assets in Google Cloud. Dataplex Universal Catalog powers AI, analytics, and business intelligence at scale.\nAt the heart of these governance capabilities is a catalog that contains a centralized inventory of the data assets in your organization. Dataplex Universal Catalog holds business, technical, and runtime metadata for all of your data. It helps you discover relationships and semantics in the metadata by applying artificial intelligence and machine learning.\nExample sources: my-dataplex-source: kind: \"dataplex\" project: \"my-project-id\" Sample System Prompt You can use the following system prompt as “Custom Instructions” in your client application.\n# Objective Your primary objective is to help discover, organize and manage metadata related to data assets. # Tone and Style 1. Adopt the persona of a senior subject matter expert 2. Your communication style must be: 1. Concise: Always favor brevity. 2. Direct: Avoid greetings (e.g., \"Hi there!\", \"Certainly!\"). Get straight to the point. Example (Incorrect): Hi there! I see that you are looking for... Example (Correct): This problem likely stems from... 3. Do not reiterate or summarize the question in the answer. 4. Crucially, always convey a tone of uncertainty and caution. Since you are interpreting metadata and have no way to externally verify your answers, never express complete confidence. Frame your responses as interpretations based solely on the provided metadata. Use a suggestive tone, not a prescriptive one: Example (Correct): \"The entry describes...\" Example (Correct): \"According to catalog,...\" Example (Correct): \"Based on the metadata,...\" Example (Correct): \"Based on the search results,...\" 5. Do not make assumptions # Data Model ## Entries Entry represents a specific data asset. Entry acts as a metadata record for something that is managed by Catalog, such as: - A BigQuery table or dataset - A Cloud Storage bucket or folder - An on-premises SQL table ## Aspects While the Entry itself is a container, the rich descriptive information about the asset (e.g., schema, data types, business descriptions, classifications) is stored in associated components called Aspects. Aspects are created based on pre-defined blueprints known as Aspect Types. ## Aspect Types Aspect Type is a reusable template that defines the schema for a set of metadata fields. Think of an Aspect Type as a structure for the kind of metadata that is organized in the catalog within the Entry. Examples: - projects/dataplex-types/locations/global/aspectTypes/analytics-hub-exchange - projects/dataplex-types/locations/global/aspectTypes/analytics-hub - projects/dataplex-types/locations/global/aspectTypes/analytics-hub-listing - projects/dataplex-types/locations/global/aspectTypes/bigquery-connection - projects/dataplex-types/locations/global/aspectTypes/bigquery-data-policy - projects/dataplex-types/locations/global/aspectTypes/bigquery-dataset - projects/dataplex-types/locations/global/aspectTypes/bigquery-model - projects/dataplex-types/locations/global/aspectTypes/bigquery-policy - projects/dataplex-types/locations/global/aspectTypes/bigquery-routine - projects/dataplex-types/locations/global/aspectTypes/bigquery-row-access-policy - projects/dataplex-types/locations/global/aspectTypes/bigquery-table - projects/dataplex-types/locations/global/aspectTypes/bigquery-view - projects/dataplex-types/locations/global/aspectTypes/cloud-bigtable-instance - projects/dataplex-types/locations/global/aspectTypes/cloud-bigtable-table - projects/dataplex-types/locations/global/aspectTypes/cloud-spanner-database - projects/dataplex-types/locations/global/aspectTypes/cloud-spanner-instance - projects/dataplex-types/locations/global/aspectTypes/cloud-spanner-table - projects/dataplex-types/locations/global/aspectTypes/cloud-spanner-view - projects/dataplex-types/locations/global/aspectTypes/cloudsql-database - projects/dataplex-types/locations/global/aspectTypes/cloudsql-instance - projects/dataplex-types/locations/global/aspectTypes/cloudsql-schema - projects/dataplex-types/locations/global/aspectTypes/cloudsql-table - projects/dataplex-types/locations/global/aspectTypes/cloudsql-view - projects/dataplex-types/locations/global/aspectTypes/contacts - projects/dataplex-types/locations/global/aspectTypes/dataform-code-asset - projects/dataplex-types/locations/global/aspectTypes/dataform-repository - projects/dataplex-types/locations/global/aspectTypes/dataform-workspace - projects/dataplex-types/locations/global/aspectTypes/dataproc-metastore-database - projects/dataplex-types/locations/global/aspectTypes/dataproc-metastore-service - projects/dataplex-types/locations/global/aspectTypes/dataproc-metastore-table - projects/dataplex-types/locations/global/aspectTypes/data-product - projects/dataplex-types/locations/global/aspectTypes/data-quality-scorecard - projects/dataplex-types/locations/global/aspectTypes/external-connection - projects/dataplex-types/locations/global/aspectTypes/overview - projects/dataplex-types/locations/global/aspectTypes/pubsub-topic - projects/dataplex-types/locations/global/aspectTypes/schema - projects/dataplex-types/locations/global/aspectTypes/sensitive-data-protection-job-result - projects/dataplex-types/locations/global/aspectTypes/sensitive-data-protection-profile - projects/dataplex-types/locations/global/aspectTypes/sql-access - projects/dataplex-types/locations/global/aspectTypes/storage-bucket - projects/dataplex-types/locations/global/aspectTypes/storage-folder - projects/dataplex-types/locations/global/aspectTypes/storage - projects/dataplex-types/locations/global/aspectTypes/usage ## Entry Types Every Entry must conform to an Entry Type. The Entry Type acts as a template, defining the structure, required aspects, and constraints for Entries of that type. Examples: - projects/dataplex-types/locations/global/entryTypes/analytics-hub-exchange - projects/dataplex-types/locations/global/entryTypes/analytics-hub-listing - projects/dataplex-types/locations/global/entryTypes/bigquery-connection - projects/dataplex-types/locations/global/entryTypes/bigquery-data-policy - projects/dataplex-types/locations/global/entryTypes/bigquery-dataset - projects/dataplex-types/locations/global/entryTypes/bigquery-model - projects/dataplex-types/locations/global/entryTypes/bigquery-routine - projects/dataplex-types/locations/global/entryTypes/bigquery-row-access-policy - projects/dataplex-types/locations/global/entryTypes/bigquery-table - projects/dataplex-types/locations/global/entryTypes/bigquery-view - projects/dataplex-types/locations/global/entryTypes/cloud-bigtable-instance - projects/dataplex-types/locations/global/entryTypes/cloud-bigtable-table - projects/dataplex-types/locations/global/entryTypes/cloud-spanner-database - projects/dataplex-types/locations/global/entryTypes/cloud-spanner-instance - projects/dataplex-types/locations/global/entryTypes/cloud-spanner-table - projects/dataplex-types/locations/global/entryTypes/cloud-spanner-view - projects/dataplex-types/locations/global/entryTypes/cloudsql-mysql-database - projects/dataplex-types/locations/global/entryTypes/cloudsql-mysql-instance - projects/dataplex-types/locations/global/entryTypes/cloudsql-mysql-table - projects/dataplex-types/locations/global/entryTypes/cloudsql-mysql-view - projects/dataplex-types/locations/global/entryTypes/cloudsql-postgresql-database - projects/dataplex-types/locations/global/entryTypes/cloudsql-postgresql-instance - projects/dataplex-types/locations/global/entryTypes/cloudsql-postgresql-schema - projects/dataplex-types/locations/global/entryTypes/cloudsql-postgresql-table - projects/dataplex-types/locations/global/entryTypes/cloudsql-postgresql-view - projects/dataplex-types/locations/global/entryTypes/cloudsql-sqlserver-database - projects/dataplex-types/locations/global/entryTypes/cloudsql-sqlserver-instance - projects/dataplex-types/locations/global/entryTypes/cloudsql-sqlserver-schema - projects/dataplex-types/locations/global/entryTypes/cloudsql-sqlserver-table - projects/dataplex-types/locations/global/entryTypes/cloudsql-sqlserver-view - projects/dataplex-types/locations/global/entryTypes/dataform-code-asset - projects/dataplex-types/locations/global/entryTypes/dataform-repository - projects/dataplex-types/locations/global/entryTypes/dataform-workspace - projects/dataplex-types/locations/global/entryTypes/dataproc-metastore-database - projects/dataplex-types/locations/global/entryTypes/dataproc-metastore-service - projects/dataplex-types/locations/global/entryTypes/dataproc-metastore-table - projects/dataplex-types/locations/global/entryTypes/pubsub-topic - projects/dataplex-types/locations/global/entryTypes/storage-bucket - projects/dataplex-types/locations/global/entryTypes/storage-folder - projects/dataplex-types/locations/global/entryTypes/vertexai-dataset - projects/dataplex-types/locations/global/entryTypes/vertexai-feature-group - projects/dataplex-types/locations/global/entryTypes/vertexai-feature-online-store ## Entry Groups Entries are organized within Entry Groups, which are logical groupings of Entries. An Entry Group acts as a namespace for its Entries. ## Entry Links Entries can be linked together using EntryLinks to represent relationships between data assets (e.g. foreign keys). # Tool instructions ## Tool: dataplex_search_entries ## General - Do not try to search within search results on your own. - Do not fetch multiple pages of results unless explicitly asked. ## Search syntax ### Simple search In its simplest form, a search query consists of a single predicate. Such a predicate can match several pieces of metadata: - A substring of a name, display name, or description of a resource - A substring of the type of a resource - A substring of a column name (or nested column name) in the schema of a resource - A substring of a project ID - A string from an overview description For example, the predicate foo matches the following resources: - Resource with the name foo.bar - Resource with the display name Foo Bar - Resource with the description This is the foo script - Resource with the exact type foo - Column foo_bar in the schema of a resource - Nested column foo_bar in the schema of a resource - Project prod-foo-bar - Resource with an overview containing the word foo ### Qualified predicates You can qualify a predicate by prefixing it with a key that restricts the matching to a specific piece of metadata: - An equal sign (=) restricts the search to an exact match. - A colon (:) after the key matches the predicate to either a substring or a token within the value in the search results. Tokenization splits the stream of text into a series of tokens, with each token usually corresponding to a single word. For example: - name:foo selects resources with names that contain the foo substring, like foo1 and barfoo. - description:foo selects resources with the foo token in the description, like bar and foo. - location=foo matches resources in a specified location with foo as the location name. The predicate keys type, system, location, and orgid support only the exact match (=) qualifier, not the substring qualifier (:). For example, type=foo or orgid=number. Search syntax supports the following qualifiers: - \"name:x\" - Matches x as a substring of the resource ID. - \"displayname:x\" - Match x as a substring of the resource display name. - \"column:x\" - Matches x as a substring of the column name (or nested column name) in the schema of the resource. - \"description:x\" - Matches x as a token in the resource description. - \"label:bar\" - Matches BigQuery resources that have a label (with some value) and the label key has bar as a substring. - \"label=bar\" - Matches BigQuery resources that have a label (with some value) and the label key equals bar as a string. - \"label:bar:x\" - Matches x as a substring in the value of a label with a key bar attached to a BigQuery resource. - \"label=foo:bar\" - Matches BigQuery resources where the key equals foo and the key value equals bar. - \"label.foo=bar\" - Matches BigQuery resources where the key equals foo and the key value equals bar. - \"label.foo\" - Matches BigQuery resources that have a label whose key equals foo as a string. - \"type=TYPE\" - Matches resources of a specific entry type or its type alias. - \"projectid:bar\" - Matches resources within Google Cloud projects that match bar as a substring in the ID. - \"parent:x\" - Matches x as a substring of the hierarchical path of a resource. It supports same syntax as `name` predicate. - \"orgid=number\" - Matches resources within a Google Cloud organization with the exact ID value of the number. - \"system=SYSTEM\" - Matches resources from a specified system. For example, system=bigquery matches BigQuery resources. - \"location=LOCATION\" - Matches resources in a specified location with an exact name. For example, location=us-central1 matches assets hosted in Iowa. BigQuery Omni assets support this qualifier by using the BigQuery Omni location name. For example, location=aws-us-east-1 matches BigQuery Omni assets in Northern Virginia. - \"createtime\" - Finds resources that were created within, before, or after a given date or time. For example \"createtime:2019-01-01\" matches resources created on 2019-01-01. - \"updatetime\" - Finds resources that were updated within, before, or after a given date or time. For example \"updatetime\u003e2019-01-01\" matches resources updated after 2019-01-01. ### Aspect Search To search for entries based on their attached aspects, use the following query syntax. aspect:x\tMatches x as a substring of the full path to the aspect type of an aspect that is attached to the entry, in the format projectid.location.ASPECT_TYPE_ID aspect=x\tMatches x as the full path to the aspect type of an aspect that is attached to the entry, in the format projectid.location.ASPECT_TYPE_ID aspect:xOPERATORvalue\tSearches for aspect field values. Matches x as a substring of the full path to the aspect type and field name of an aspect that is attached to the entry, in the format projectid.location.ASPECT_TYPE_ID.FIELD_NAME The list of supported {OPERATOR}s depends on the type of field in the aspect, as follows: - String: = (exact match) and : (substring) - All number types: =, :, \u003c, \u003e, \u003c=, \u003e=, =\u003e, =\u003c - Enum: = - Datetime: same as for numbers, but the values to compare are treated as datetimes instead of numbers - Boolean: = Only top-level fields of the aspect are searchable. For example, all of the following queries match entries where the value of the is-enrolled field in the employee-info aspect type is true. Other entries that match on the substring are also returned. - aspect:example-project.us-central1.employee-info.is-enrolled=true - aspect:example-project.us-central1.employee=true - aspect:employee=true Example:- You can use following filters - dataplex-types.global.bigquery-table.type={BIGLAKE_TABLE, BIGLAKE_OBJECT_TABLE, EXTERNAL_TABLE, TABLE} - dataplex-types.global.storage.type={STRUCTURED, UNSTRUCTURED} ### Logical operators A query can consist of several predicates with logical operators. If you don't specify an operator, logical AND is implied. For example, foo bar returns resources that match both predicate foo and predicate bar. Logical AND and logical OR are supported. For example, foo OR bar. You can negate a predicate with a - (hyphen) or NOT prefix. For example, -name:foo returns resources with names that don't match the predicate foo. Logical operators are case-sensitive. `OR` and `AND` are acceptable whereas `or` and `and` are not. ### Request 1. Always try to rewrite the prompt using search syntax. ### Response 1. If there are multiple search results found 1. Present the list of search results 2. Format the output in nested ordered list, for example: Given ``` { results: [ { name: \"projects/test-project/locations/us/entryGroups/@bigquery-aws-us-east-1/entries/users\" entrySource: { displayName: \"Users\" description: \"Table contains list of users.\" location: \"aws-us-east-1\" system: \"BigQuery\" } }, { name: \"projects/another_project/locations/us-central1/entryGroups/@bigquery/entries/top_customers\" entrySource: { displayName: \"Top customers\", description: \"Table contains list of best customers.\" location: \"us-central1\" system: \"BigQuery\" } }, ] } ``` Return output formatted as markdown nested list: ``` * Users: - projectId: test_project - location: aws-us-east-1 - description: Table contains list of users. * Top customers: - projectId: another_project - location: us-central1 - description: Table contains list of best customers. ``` 3. Ask to select one of the presented search results 2. If there is only one search result found 1. Present the search result immediately. 3. If there are no search result found 1. Explain that no search result was found 2. Suggest to provide a more specific search query. ## Tool: dataplex_lookup_entry ### Request 1. Always try to limit the size of the response by specifying `aspect_types` parameter. Make sure to include to select view=CUSTOM when using aspect_types parameter. If you do not know the name of the aspect type, use the `dataplex_search_aspect_types` tool. 2. If you do not know the name of the entry, use `dataplex_search_entries` tool ### Response 1. Unless asked for a specific aspect, respond with all aspects attached to the entry. Reference field type required description kind string true Must be “dataplex”. project string true ID of the GCP project used for quota and billing purposes (e.g. “my-project-id”). ","categories":"","description":"Dataplex Universal Catalog is a unified, intelligent governance solution for data and AI assets in Google Cloud. Dataplex Universal Catalog powers AI, analytics, and business intelligence at scale.\n","excerpt":"Dataplex Universal Catalog is a unified, intelligent governance …","ref":"/genai-toolbox/resources/sources/dataplex/","tags":"","title":"Dataplex"},{"body":"","categories":"","description":"Tools that work with Dataplex Sources.\n","excerpt":"Tools that work with Dataplex Sources.\n","ref":"/genai-toolbox/resources/tools/dataplex/","tags":"","title":"Dataplex"},{"body":"About A dataplex-lookup-entry tool returns details of a particular entry in Dataplex Catalog. It’s compatible with the following sources:\ndataplex dataplex-lookup-entry takes a required name parameter which contains the project and location to which the request should be attributed in the following form: projects/{project}/locations/{location} and also a required entry parameter which is the resource name of the entry in the following form: projects/{project}/locations/{location}/entryGroups/{entryGroup}/entries/{entry}. It also optionally accepts following parameters:\nview - View to control which parts of an entry the service should return. It takes integer values from 1-4 corresponding to type of view - BASIC, FULL, CUSTOM, ALL aspectTypes - Limits the aspects returned to the provided aspect types in the format projects/{project}/locations/{location}/aspectTypes/{aspectType}. It only works for CUSTOM view. paths - Limits the aspects returned to those associated with the provided paths within the Entry. It only works for CUSTOM view. Requirements IAM Permissions Dataplex uses Identity and Access Management (IAM) to control user and group access to Dataplex resources. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with [Dataplex][dataplex-docs].\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the tasks you intend to perform. See Dataplex Universal Catalog IAM permissions and Dataplex Universal Catalog IAM roles for more information on applying IAM permissions and roles to an identity.\nExample tools: lookup_entry: kind: dataplex-lookup-entry source: my-dataplex-source description: Use this tool to retrieve a specific entry in Dataplex Catalog. Reference field type required description kind string true Must be “dataplex-lookup-entry”. source string true Name of the source the tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"dataplex-lookup-entry\" tool returns details of a particular entry in Dataplex Catalog.\n","excerpt":"A \"dataplex-lookup-entry\" tool returns details of a particular entry …","ref":"/genai-toolbox/resources/tools/dataplex/dataplex-lookup-entry/","tags":"","title":"dataplex-lookup-entry"},{"body":"About A dataplex-search-aspect-types tool allows to fetch the metadata template of aspect types based on search query. It’s compatible with the following sources:\ndataplex dataplex-search-aspect-types accepts following parameters optionally:\nquery - Narrows down the search of aspect types to value of this parameter. If not provided, it fetches all aspect types available to the user. pageSize - Number of returned aspect types in the search page. Defaults to 5. orderBy - Specifies the ordering of results. Supported values are: relevance (default), last_modified_timestamp, last_modified_timestamp asc. Requirements IAM Permissions Dataplex uses Identity and Access Management (IAM) to control user and group access to Dataplex resources. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with Dataplex.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the tasks you intend to perform. See Dataplex Universal Catalog IAM permissions and Dataplex Universal Catalog IAM roles for more information on applying IAM permissions and roles to an identity.\nExample tools: dataplex-search-aspect-types: kind: dataplex-search-aspect-types source: my-dataplex-source description: Use this tool to find aspect types relevant to the query. Reference field type required description kind string true Must be “dataplex-search-aspect-types”. source string true Name of the source the tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"dataplex-search-aspect-types\" tool allows to to find aspect types relevant to the query.\n","excerpt":"A \"dataplex-search-aspect-types\" tool allows to to find aspect types …","ref":"/genai-toolbox/resources/tools/dataplex/dataplex-search-aspect-types/","tags":"","title":"dataplex-search-aspect-types"},{"body":"About A dataplex-search-entries tool returns all entries in Dataplex Catalog (e.g. tables, views, models) that matches given user query. It’s compatible with the following sources:\ndataplex dataplex-search-entries takes a required query parameter based on which entries are filtered and returned to the user. It also optionally accepts following parameters:\npageSize - Number of results in the search page. Defaults to 5. orderBy - Specifies the ordering of results. Supported values are: relevance (default), last_modified_timestamp, last_modified_timestamp asc. Requirements IAM Permissions Dataplex uses Identity and Access Management (IAM) to control user and group access to Dataplex resources. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with Dataplex.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the tasks you intend to perform. See Dataplex Universal Catalog IAM permissions and Dataplex Universal Catalog IAM roles for more information on applying IAM permissions and roles to an identity.\nExample tools: dataplex-search-entries: kind: dataplex-search-entries source: my-dataplex-source description: Use this tool to get all the entries based on the provided query. Reference field type required description kind string true Must be “dataplex-search-entries”. source string true Name of the source the tool should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"dataplex-search-entries\" tool allows to search for entries based on the provided query.\n","excerpt":"A \"dataplex-search-entries\" tool allows to search for entries based on …","ref":"/genai-toolbox/resources/tools/dataplex/dataplex-search-entries/","tags":"","title":"dataplex-search-entries"},{"body":"About Dgraph is an open-source graph database. It is designed for real-time workloads, horizontal scalability, and data flexibility. Implemented as a distributed system, Dgraph processes queries in parallel to deliver the fastest result.\nThis source can connect to either a self-managed Dgraph cluster or one hosted on Dgraph Cloud. If you’re new to Dgraph, the fastest way to get started is to sign up for Dgraph Cloud.\nAvailable Tools dgraph-dql\nRun DQL (Dgraph Query Language) queries. Requirements Database User When connecting to a hosted Dgraph database, this source uses the API key for access. If you are using a dedicated environment, you will additionally need the namespace and user credentials for that namespace.\nFor connecting to a local or self-hosted Dgraph database, use the namespace and user credentials for that namespace.\nExample sources: my-dgraph-source: kind: dgraph dgraphUrl: https://xxxx.cloud.dgraph.io user: ${USER_NAME} password: ${PASSWORD} apiKey: ${API_KEY} namespace : 0 Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference Field Type Required Description kind string true Must be “dgraph”. dgraphUrl string true Connection URI (e.g. “https://xxx.cloud.dgraph.io”, “https://localhost:8080”). user string false Name of the Dgraph user to connect as (e.g., “groot”). password string false Password of the Dgraph user (e.g., “password”). apiKey string false API key to connect to a Dgraph Cloud instance. namespace uint64 false Dgraph namespace (not required for Dgraph Cloud Shared Clusters). ","categories":"","description":"Dgraph is fully open-source, built-for-scale graph database for Gen AI workloads\n","excerpt":"Dgraph is fully open-source, built-for-scale graph database for Gen AI …","ref":"/genai-toolbox/resources/sources/dgraph/","tags":"","title":"Dgraph"},{"body":"","categories":"","description":"Tools that work with Dgraph Sources.\n","excerpt":"Tools that work with Dgraph Sources.\n","ref":"/genai-toolbox/resources/tools/dgraph/","tags":"","title":"Dgraph"},{"body":"About A dgraph-dql tool executes a pre-defined DQL statement against a Dgraph database. It’s compatible with any of the following sources:\ndgraph To run a statement as a query, you need to set the config isQuery=true. For upserts or mutations, set isQuery=false. You can also configure timeout for a query.\nNote: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\nExample Query Mutation tools: search_user: kind: dgraph-dql source: my-dgraph-source statement: | query all($role: string){ users(func: has(name)) @filter(eq(role, $role) AND ge(age, 30) AND le(age, 50)) { uid name email role age } } isQuery: true timeout: 20s description: | Use this tool to retrieve the details of users who are admins and are between 30 and 50 years old. The query returns the user's name, email, role, and age. This can be helpful when you want to fetch admin users within a specific age range. Example: Fetch admins aged between 30 and 50: [ { \"name\": \"Alice\", \"role\": \"admin\", \"age\": 35 }, { \"name\": \"Bob\", \"role\": \"admin\", \"age\": 45 } ] parameters: - name: $role type: string description: admin tools: dgraph-manage-user-instance: kind: dgraph-dql source: my-dgraph-source isQuery: false statement: | { set { _:user1 \u003cname\u003e $user1 . _:user1 \u003cemail\u003e $email1 . _:user1 \u003crole\u003e \"admin\" . _:user1 \u003cage\u003e \"35\" . _:user2 \u003cname\u003e $user2 . _:user2 \u003cemail\u003e $email2 . _:user2 \u003crole\u003e \"admin\" . _:user2 \u003cage\u003e \"45\" . } } description: | Use this tool to insert or update user data into the Dgraph database. The mutation adds or updates user details like name, email, role, and age. Example: Add users Alice and Bob as admins with specific ages. parameters: - name: user1 type: string description: Alice - name: email1 type: string description: alice@email.com - name: user2 type: string description: Bob - name: email2 type: string description: bob@email.com Reference field type required description kind string true Must be “dgraph-dql”. source string true Name of the source the dql query should execute on. description string true Description of the tool that is passed to the LLM. statement string true dql statement to execute isQuery boolean false To run statement as query set true otherwise false timeout string false To set timeout for query parameters parameters false List of parameters that will be used with the dql statement. ","categories":"","description":"A \"dgraph-dql\" tool executes a pre-defined DQL statement against a Dgraph database.\n","excerpt":"A \"dgraph-dql\" tool executes a pre-defined DQL statement against a …","ref":"/genai-toolbox/resources/tools/dgraph/dgraph-dql/","tags":"","title":"dgraph-dql"},{"body":" ","categories":"","description":"All of Toolbox's documentation.\n","excerpt":"All of Toolbox's documentation.\n","ref":"/genai-toolbox/","tags":"","title":"Documentation"},{"body":"About Firebird is a relational database management system offering many ANSI SQL standard features that runs on Linux, Windows, and a variety of Unix platforms. It is known for its small footprint, powerful features, and easy maintenance.\nAvailable Tools firebird-sql\nExecute SQL queries as prepared statements in Firebird.\nfirebird-execute-sql\nRun parameterized SQL statements in Firebird.\nRequirements Database User This source uses standard authentication. You will need to create a Firebird user to login to the database with.\nExample sources: my_firebird_db: kind: firebird host: \"localhost\" port: 3050 database: \"/path/to/your/database.fdb\" user: ${FIREBIRD_USER} password: ${FIREBIRD_PASS} Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “firebird”. host string true IP address to connect to (e.g. “127.0.0.1”) port string true Port to connect to (e.g. “3050”) database string true Path to the Firebird database file (e.g. “/var/lib/firebird/data/test.fdb”). user string true Name of the Firebird user to connect as (e.g. “SYSDBA”). password string true Password of the Firebird user (e.g. “masterkey”). ","categories":"","description":"Firebird is a powerful, cross-platform, and open-source relational database.\n","excerpt":"Firebird is a powerful, cross-platform, and open-source relational …","ref":"/genai-toolbox/resources/sources/firebird/","tags":"","title":"Firebird"},{"body":"","categories":"","description":"Tools that work with Firebird Sources.\n","excerpt":"Tools that work with Firebird Sources.\n","ref":"/genai-toolbox/resources/tools/firebird/","tags":"","title":"Firebird"},{"body":"About A firebird-execute-sql tool executes a SQL statement against a Firebird database. It’s compatible with the following source:\nfirebird firebird-execute-sql takes one input parameter sql and runs the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: firebird-execute-sql source: my_firebird_db description: Use this tool to execute a SQL statement against the Firebird database. Reference field type required description kind string true Must be “firebird-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"firebird-execute-sql\" tool executes a SQL statement against a Firebird database.\n","excerpt":"A \"firebird-execute-sql\" tool executes a SQL statement against a …","ref":"/genai-toolbox/resources/tools/firebird/firebird-execute-sql/","tags":"","title":"firebird-execute-sql"},{"body":"About A firebird-sql tool executes a pre-defined SQL statement against a Firebird database. It’s compatible with the following source:\nfirebird The specified SQL statement is executed as a prepared statement, and supports both positional parameters (?) and named parameters (:param_name). Parameters will be inserted according to their position or name. If template parameters are included, they will be resolved before the execution of the prepared statement.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: firebird-sql source: my_firebird_db statement: | SELECT * FROM flights WHERE airline = ? AND flight_number = ? LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Named Parameters tools: search_flights_by_airline: kind: firebird-sql source: my_firebird_db statement: | SELECT * FROM flights WHERE airline = :airline AND departure_date \u003e= :start_date AND departure_date \u003c= :end_date ORDER BY departure_date description: | Search for flights by airline within a date range using named parameters. parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: start_date type: string description: Start date in YYYY-MM-DD format - name: end_date type: string description: End date in YYYY-MM-DD format Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: firebird-sql source: my_firebird_db statement: | SELECT * FROM {{.tableName}} description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “firebird-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"firebird-sql\" tool executes a pre-defined SQL statement against a Firebird database.\n","excerpt":"A \"firebird-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/firebird/firebird-sql/","tags":"","title":"firebird-sql"},{"body":"Firestore Source Firestore is a NoSQL document database built for automatic scaling, high performance, and ease of application development. While the Firestore interface has many of the same features as traditional databases, as a NoSQL database it differs from them in the way it describes relationships between data objects.\nIf you are new to Firestore, you can create a database and learn the basics.\nRequirements IAM Permissions Firestore uses Identity and Access Management (IAM) to control user and group access to Firestore resources. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with Firestore.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for accessing Firestore. Common roles include:\nroles/datastore.user - Read and write access to Firestore roles/datastore.viewer - Read-only access to Firestore roles/firebaserules.admin - Full management of Firebase Security Rules for Firestore. This role is required for operations that involve creating, updating, or managing Firestore security rules (see Firebase Security Rules roles) See Firestore access control for more information on applying IAM permissions and roles to an identity.\nDatabase Selection Firestore allows you to create multiple databases within a single project. Each database is isolated from the others and has its own set of documents and collections. If you don’t specify a database in your configuration, the default database named (default) will be used.\nExample sources: my-firestore-source: kind: \"firestore\" project: \"my-project-id\" # database: \"my-database\" # Optional, defaults to \"(default)\" Reference field type required description kind string true Must be “firestore”. project string true Id of the GCP project that contains the Firestore database (e.g. “my-project-id”). database string false Name of the Firestore database to connect to. Defaults to “(default)” if not specified. ","categories":"","description":"Firestore is a NoSQL document database built for automatic scaling, high performance, and ease of application development. It's a fully managed, serverless database that supports mobile, web, and server development.\n","excerpt":"Firestore is a NoSQL document database built for automatic scaling, …","ref":"/genai-toolbox/resources/sources/firestore/","tags":"","title":"Firestore"},{"body":"","categories":"","description":"Tools that work with Firestore Sources.\n","excerpt":"Tools that work with Firestore Sources.\n","ref":"/genai-toolbox/resources/tools/firestore/","tags":"","title":"Firestore"},{"body":"Description The firestore-add-documents tool allows you to add new documents to a Firestore collection. It supports all Firestore data types using Firestore’s native JSON format. The tool automatically generates a unique document ID for each new document.\nParameters Parameter Type Required Description collectionPath string Yes The path of the collection where the document will be added documentData map Yes The data to be added as a document to the given collection. Must use Firestore’s native JSON format with typed values returnData boolean No If set to true, the output will include the data of the created document. Defaults to false to help avoid overloading the context Output The tool returns a map containing:\nField Type Description documentPath string The full resource name of the created document (e.g., projects/{projectId}/databases/{databaseId}/documents/{document_path}) createTime string The timestamp when the document was created documentData map The data that was added (only included when returnData is true) Data Type Format The tool requires Firestore’s native JSON format for document data. Each field must be wrapped with its type indicator:\nBasic Types String: {\"stringValue\": \"your string\"} Integer: {\"integerValue\": \"123\"} or {\"integerValue\": 123} Double: {\"doubleValue\": 123.45} Boolean: {\"booleanValue\": true} Null: {\"nullValue\": null} Bytes: {\"bytesValue\": \"base64EncodedString\"} Timestamp: {\"timestampValue\": \"2025-01-07T10:00:00Z\"} (RFC3339 format) Complex Types GeoPoint: {\"geoPointValue\": {\"latitude\": 34.052235, \"longitude\": -118.243683}} Array: {\"arrayValue\": {\"values\": [{\"stringValue\": \"item1\"}, {\"integerValue\": \"2\"}]}} Map: {\"mapValue\": {\"fields\": {\"key1\": {\"stringValue\": \"value1\"}, \"key2\": {\"booleanValue\": true}}}} Reference: {\"referenceValue\": \"collection/document\"} Examples Basic Document Creation tools: add-company-doc: kind: firestore-add-documents source: my-firestore description: Add a new company document Usage:\n{ \"collectionPath\": \"companies\", \"documentData\": { \"name\": { \"stringValue\": \"Acme Corporation\" }, \"establishmentDate\": { \"timestampValue\": \"2000-01-15T10:30:00Z\" }, \"location\": { \"geoPointValue\": { \"latitude\": 34.052235, \"longitude\": -118.243683 } }, \"active\": { \"booleanValue\": true }, \"employeeCount\": { \"integerValue\": \"1500\" }, \"annualRevenue\": { \"doubleValue\": 1234567.89 } } } With Nested Maps and Arrays { \"collectionPath\": \"companies\", \"documentData\": { \"name\": { \"stringValue\": \"Tech Innovations Inc\" }, \"contactInfo\": { \"mapValue\": { \"fields\": { \"email\": { \"stringValue\": \"info@techinnovations.com\" }, \"phone\": { \"stringValue\": \"+1-555-123-4567\" }, \"address\": { \"mapValue\": { \"fields\": { \"street\": { \"stringValue\": \"123 Innovation Drive\" }, \"city\": { \"stringValue\": \"San Francisco\" }, \"state\": { \"stringValue\": \"CA\" }, \"zipCode\": { \"stringValue\": \"94105\" } } } } } } }, \"products\": { \"arrayValue\": { \"values\": [ { \"stringValue\": \"Product A\" }, { \"stringValue\": \"Product B\" }, { \"mapValue\": { \"fields\": { \"productName\": { \"stringValue\": \"Product C Premium\" }, \"version\": { \"integerValue\": \"3\" }, \"features\": { \"arrayValue\": { \"values\": [ { \"stringValue\": \"Advanced Analytics\" }, { \"stringValue\": \"Real-time Sync\" } ] } } } } } ] } } }, \"returnData\": true } Complete Example with All Data Types { \"collectionPath\": \"test-documents\", \"documentData\": { \"stringField\": { \"stringValue\": \"Hello World\" }, \"integerField\": { \"integerValue\": \"42\" }, \"doubleField\": { \"doubleValue\": 3.14159 }, \"booleanField\": { \"booleanValue\": true }, \"nullField\": { \"nullValue\": null }, \"timestampField\": { \"timestampValue\": \"2025-01-07T15:30:00Z\" }, \"geoPointField\": { \"geoPointValue\": { \"latitude\": 37.7749, \"longitude\": -122.4194 } }, \"bytesField\": { \"bytesValue\": \"SGVsbG8gV29ybGQh\" }, \"arrayField\": { \"arrayValue\": { \"values\": [ { \"stringValue\": \"item1\" }, { \"integerValue\": \"2\" }, { \"booleanValue\": false } ] } }, \"mapField\": { \"mapValue\": { \"fields\": { \"nestedString\": { \"stringValue\": \"nested value\" }, \"nestedNumber\": { \"doubleValue\": 99.99 } } } } } } Authentication The tool can be configured to require authentication:\ntools: secure-add-docs: kind: firestore-add-documents source: prod-firestore description: Add documents with authentication required authRequired: - google-oauth - api-key Error Handling Common errors include:\nInvalid collection path Missing or invalid document data Permission denied (if Firestore security rules block the operation) Invalid data type conversions Best Practices Always use typed values: Every field must be wrapped with its appropriate type indicator (e.g., {\"stringValue\": \"text\"}) Integer values can be strings: The tool accepts integer values as strings (e.g., {\"integerValue\": \"1500\"}) Use returnData sparingly: Only set to true when you need to verify the exact data that was written Validate data before sending: Ensure your data matches Firestore’s native JSON format Handle timestamps properly: Use RFC3339 format for timestamp strings Base64 encode binary data: Binary data must be base64 encoded in the bytesValue field Consider security rules: Ensure your Firestore security rules allow document creation in the target collection Related Tools firestore-get-documents - Retrieve documents by their paths firestore-query-collection - Query documents in a collection firestore-delete-documents - Delete documents from Firestore ","categories":"","description":"A \"firestore-add-documents\" tool adds document to a given collection path.\n","excerpt":"A \"firestore-add-documents\" tool adds document to a given collection …","ref":"/genai-toolbox/resources/tools/firestore/firestore-add-documents/","tags":"","title":"firestore-add-documents"},{"body":"About A firestore-delete-documents tool deletes multiple documents from Firestore by their paths. It’s compatible with the following sources:\nfirestore firestore-delete-documents takes one input parameter documentPaths which is an array of document paths to delete. The tool uses Firestore’s BulkWriter for efficient batch deletion and returns the success status for each document.\nExample tools: delete_user_documents: kind: firestore-delete-documents source: my-firestore-source description: Use this tool to delete multiple documents from Firestore. Reference field type required description kind string true Must be “firestore-delete-documents”. source string true Name of the Firestore source to delete documents from. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"firestore-delete-documents\" tool deletes multiple documents from Firestore by their paths.\n","excerpt":"A \"firestore-delete-documents\" tool deletes multiple documents from …","ref":"/genai-toolbox/resources/tools/firestore/firestore-delete-documents/","tags":"","title":"firestore-delete-documents"},{"body":"About A firestore-get-documents tool retrieves multiple documents from Firestore by their paths. It’s compatible with the following sources:\nfirestore firestore-get-documents takes one input parameter documentPaths which is an array of document paths, and returns the documents’ data along with metadata such as existence status, creation time, update time, and read time.\nExample tools: get_user_documents: kind: firestore-get-documents source: my-firestore-source description: Use this tool to retrieve multiple documents from Firestore. Reference field type required description kind string true Must be “firestore-get-documents”. source string true Name of the Firestore source to retrieve documents from. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"firestore-get-documents\" tool retrieves multiple documents from Firestore by their paths.\n","excerpt":"A \"firestore-get-documents\" tool retrieves multiple documents from …","ref":"/genai-toolbox/resources/tools/firestore/firestore-get-documents/","tags":"","title":"firestore-get-documents"},{"body":"About A firestore-get-rules tool retrieves the active Firestore security rules for the current project. It’s compatible with the following sources:\nfirestore firestore-get-rules takes no input parameters and returns the security rules content along with metadata such as the ruleset name, and timestamps.\nExample tools: get_firestore_rules: kind: firestore-get-rules source: my-firestore-source description: Use this tool to retrieve the active Firestore security rules. Reference field type required description kind string true Must be “firestore-get-rules”. source string true Name of the Firestore source to retrieve rules from. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"firestore-get-rules\" tool retrieves the active Firestore security rules for the current project.\n","excerpt":"A \"firestore-get-rules\" tool retrieves the active Firestore security …","ref":"/genai-toolbox/resources/tools/firestore/firestore-get-rules/","tags":"","title":"firestore-get-rules"},{"body":"About A firestore-list-collections tool lists collections in Firestore, either at the root level or as subcollections of a specific document. It’s compatible with the following sources:\nfirestore firestore-list-collections takes an optional parentPath parameter to specify a document path. If provided, it lists all subcollections of that document. If not provided, it lists all root-level collections in the database.\nExample tools: list_firestore_collections: kind: firestore-list-collections source: my-firestore-source description: Use this tool to list collections in Firestore. Reference field type required description kind string true Must be “firestore-list-collections”. source string true Name of the Firestore source to list collections from. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"firestore-list-collections\" tool lists collections in Firestore, either at the root level or as subcollections of a document.\n","excerpt":"A \"firestore-list-collections\" tool lists collections in Firestore, …","ref":"/genai-toolbox/resources/tools/firestore/firestore-list-collections/","tags":"","title":"firestore-list-collections"},{"body":"Overview The firestore-query tool allows you to query Firestore collections with dynamic, parameterizable filters that support Firestore’s native JSON value types. This tool is designed for querying single collection, which is the standard pattern in Firestore. The collection path itself can be parameterized, making it flexible for various use cases. This tool is particularly useful when you need to create reusable query templates with parameters that can be substituted at runtime.\nDeveloper Note: This tool serves as the general querying foundation that developers can use to create custom tools with specific query patterns.\nKey Features Parameterizable Queries: Use Go template syntax to create dynamic queries Dynamic Collection Paths: The collection path can be parameterized for flexibility Native JSON Value Types: Support for Firestore’s typed values (stringValue, integerValue, doubleValue, etc.) Complex Filter Logic: Support for AND/OR logical operators in filters Template Substitution: Dynamic collection paths, filters, and ordering Query Analysis: Optional query performance analysis with explain metrics (non-parameterizable) Configuration Basic Configuration tools: query_countries: kind: firestore-query source: my-firestore-source description: Query countries with dynamic filters collectionPath: \"countries\" filters: | { \"field\": \"continent\", \"op\": \"==\", \"value\": {\"stringValue\": \"{{.continent}}\"} } parameters: - name: continent type: string description: Continent to filter by required: true Advanced Configuration with Complex Filters tools: advanced_query: kind: firestore-query source: my-firestore-source description: Advanced query with complex filters collectionPath: \"{{.collection}}\" filters: | { \"or\": [ {\"field\": \"status\", \"op\": \"==\", \"value\": {\"stringValue\": \"{{.status}}\"}}, { \"and\": [ {\"field\": \"priority\", \"op\": \"\u003e\", \"value\": {\"integerValue\": \"{{.priority}}\"}}, {\"field\": \"area\", \"op\": \"\u003c\", \"value\": {\"doubleValue\": {{.maxArea}}}}, {\"field\": \"active\", \"op\": \"==\", \"value\": {\"booleanValue\": {{.isActive}}}} ] } ] } select: - name - status - priority orderBy: field: \"{{.sortField}}\" direction: \"{{.sortDirection}}\" limit: 100 analyzeQuery: true parameters: - name: collection type: string description: Collection to query required: true - name: status type: string description: Status to filter by required: true - name: priority type: string description: Minimum priority value required: true - name: maxArea type: float description: Maximum area value required: true - name: isActive type: boolean description: Filter by active status required: true - name: sortField type: string description: Field to sort by required: false default: \"createdAt\" - name: sortDirection type: string description: Sort direction (ASCENDING or DESCENDING) required: false default: \"DESCENDING\" Parameters Configuration Parameters Parameter Type Required Description kind string Yes Must be firestore-query source string Yes Name of the Firestore source to use description string Yes Description of what this tool does collectionPath string Yes Path to the collection to query (supports templates) filters string No JSON string defining query filters (supports templates) select array No Fields to select from documents(supports templates - string or array) orderBy object No Ordering configuration with field and direction(supports templates for the value of field or direction) limit integer No Maximum number of documents to return (default: 100) (supports templates) analyzeQuery boolean No Whether to analyze query performance (default: false) parameters array Yes Parameter definitions for template substitution Runtime Parameters Runtime parameters are defined in the parameters array and can be used in templates throughout the configuration.\nFilter Format Simple Filter { \"field\": \"age\", \"op\": \"\u003e\", \"value\": {\"integerValue\": \"25\"} } AND Filter { \"and\": [ {\"field\": \"status\", \"op\": \"==\", \"value\": {\"stringValue\": \"active\"}}, {\"field\": \"age\", \"op\": \"\u003e=\", \"value\": {\"integerValue\": \"18\"}} ] } OR Filter { \"or\": [ {\"field\": \"role\", \"op\": \"==\", \"value\": {\"stringValue\": \"admin\"}}, {\"field\": \"role\", \"op\": \"==\", \"value\": {\"stringValue\": \"moderator\"}} ] } Nested Filters { \"or\": [ {\"field\": \"type\", \"op\": \"==\", \"value\": {\"stringValue\": \"premium\"}}, { \"and\": [ {\"field\": \"type\", \"op\": \"==\", \"value\": {\"stringValue\": \"standard\"}}, {\"field\": \"credits\", \"op\": \"\u003e\", \"value\": {\"integerValue\": \"1000\"}} ] } ] } Firestore Native Value Types The tool supports all Firestore native JSON value types:\nType Format Example String {\"stringValue\": \"text\"} {\"stringValue\": \"{{.name}}\"} Integer {\"integerValue\": \"123\"} or {\"integerValue\": 123} {\"integerValue\": \"{{.age}}\"} or {\"integerValue\": {{.age}}} Double {\"doubleValue\": 45.67} {\"doubleValue\": {{.price}}} Boolean {\"booleanValue\": true} {\"booleanValue\": {{.active}}} Null {\"nullValue\": null} {\"nullValue\": null} Timestamp {\"timestampValue\": \"RFC3339\"} {\"timestampValue\": \"{{.date}}\"} GeoPoint {\"geoPointValue\": {\"latitude\": 0, \"longitude\": 0}} See below Array {\"arrayValue\": {\"values\": [...]}} See below Map {\"mapValue\": {\"fields\": {...}}} See below Complex Type Examples GeoPoint:\n{ \"field\": \"location\", \"op\": \"==\", \"value\": { \"geoPointValue\": { \"latitude\": 37.7749, \"longitude\": -122.4194 } } } Array:\n{ \"field\": \"tags\", \"op\": \"array-contains\", \"value\": {\"stringValue\": \"{{.tag}}\"} } Supported Operators \u003c - Less than \u003c= - Less than or equal \u003e - Greater than \u003e= - Greater than or equal == - Equal != - Not equal array-contains - Array contains value array-contains-any - Array contains any of the values in - Value is in array not-in - Value is not in array Examples Example 1: Query with Dynamic Collection Path tools: user_documents: kind: firestore-query source: my-firestore description: Query user-specific documents collectionPath: \"users/{{.userId}}/documents\" filters: | { \"field\": \"type\", \"op\": \"==\", \"value\": {\"stringValue\": \"{{.docType}}\"} } parameters: - name: userId type: string description: User ID required: true - name: docType type: string description: Document type to filter required: true Example 2: Complex Geographic Query tools: location_search: kind: firestore-query source: my-firestore description: Search locations by area and population collectionPath: \"cities\" filters: | { \"and\": [ {\"field\": \"country\", \"op\": \"==\", \"value\": {\"stringValue\": \"{{.country}}\"}}, {\"field\": \"population\", \"op\": \"\u003e\", \"value\": {\"integerValue\": \"{{.minPopulation}}\"}}, {\"field\": \"area\", \"op\": \"\u003c\", \"value\": {\"doubleValue\": {{.maxArea}}}} ] } orderBy: field: \"population\" direction: \"DESCENDING\" limit: 50 parameters: - name: country type: string description: Country code required: true - name: minPopulation type: string description: Minimum population (as string for large numbers) required: true - name: maxArea type: float description: Maximum area in square kilometers required: true Example 3: Time-based Query with Analysis tools: activity_log: kind: firestore-query source: my-firestore description: Query activity logs within time range collectionPath: \"logs\" filters: | { \"and\": [ {\"field\": \"timestamp\", \"op\": \"\u003e=\", \"value\": {\"timestampValue\": \"{{.startTime}}\"}}, {\"field\": \"timestamp\", \"op\": \"\u003c=\", \"value\": {\"timestampValue\": \"{{.endTime}}\"}}, {\"field\": \"severity\", \"op\": \"in\", \"value\": {\"arrayValue\": {\"values\": [ {\"stringValue\": \"ERROR\"}, {\"stringValue\": \"CRITICAL\"} ]}}} ] } select: - timestamp - message - severity - userId orderBy: field: \"timestamp\" direction: \"DESCENDING\" analyzeQuery: true parameters: - name: startTime type: string description: Start time in RFC3339 format required: true - name: endTime type: string description: End time in RFC3339 format required: true Usage Invoking the Tool # Using curl curl -X POST http://localhost:5000/api/tool/your-tool-name/invoke \\ -H \"Content-Type: application/json\" \\ -d '{ \"continent\": \"Europe\", \"minPopulation\": \"1000000\", \"maxArea\": 500000.5, \"isActive\": true }' Response Format Without analyzeQuery:\n[ { \"id\": \"doc1\", \"path\": \"countries/doc1\", \"data\": { \"name\": \"France\", \"continent\": \"Europe\", \"population\": 67000000, \"area\": 551695 }, \"createTime\": \"2024-01-01T00:00:00Z\", \"updateTime\": \"2024-01-15T10:30:00Z\" } ] With analyzeQuery:\n{ \"documents\": [...], \"explainMetrics\": { \"planSummary\": { \"indexesUsed\": [...] }, \"executionStats\": { \"resultsReturned\": 10, \"executionDuration\": \"15ms\", \"readOperations\": 10 } } } Best Practices Use Typed Values: Always use Firestore’s native JSON value types for proper type handling String Numbers for Large Integers: Use string representation for large integers to avoid precision loss Template Security: Validate all template parameters to prevent injection attacks Index Optimization: Use analyzeQuery to identify missing indexes Limit Results: Always set a reasonable limit to prevent excessive data retrieval Field Selection: Use select to retrieve only necessary fields Technical Notes Queries operate on a single collection (the standard Firestore pattern) Maximum of 100 filters per query (configurable) Template parameters must be properly escaped in JSON contexts Complex nested queries may require composite indexes See Also firestore-query-collection - Non-parameterizable query tool Firestore Source Configuration Firestore Query Documentation ","categories":"","description":"Query a Firestore collection with parameterizable filters and Firestore native JSON value types\n","excerpt":"Query a Firestore collection with parameterizable filters and …","ref":"/genai-toolbox/resources/tools/firestore/firestore-query/","tags":"","title":"firestore-query"},{"body":"About The firestore-query-collection tool allows you to query Firestore collections with filters, ordering, and limit capabilities.\nConfiguration To use this tool, you need to configure it in your YAML configuration file:\nsources: my-firestore: kind: firestore project: my-gcp-project database: \"(default)\" tools: query_collection: kind: firestore-query-collection source: my-firestore description: Query Firestore collections with advanced filtering Parameters parameters type required default description collectionPath string true - The Firestore Rules source code to validate filters array false - Array of filter objects (as JSON strings) to apply to the query orderBy string false - JSON string specifying field and direction to order results limit integer false 100 Maximum number of documents to return analyzeQuery boolean false false If true, returns query explain metrics including execution statistics Filter Format Each filter in the filters array should be a JSON string with the following structure:\n{ \"field\": \"fieldName\", \"op\": \"operator\", \"value\": \"compareValue\" } Supported operators:\n\u003c - Less than \u003c= - Less than or equal to \u003e - Greater than \u003e= - Greater than or equal to == - Equal to != - Not equal to array-contains - Array contains a specific value array-contains-any - Array contains any of the specified values in - Field value is in the specified array not-in - Field value is not in the specified array Value types supported:\nString: \"value\": \"text\" Number: \"value\": 123 or \"value\": 45.67 Boolean: \"value\": true or \"value\": false Array: \"value\": [\"item1\", \"item2\"] (for in, not-in, array-contains-any operators) OrderBy Format The orderBy parameter should be a JSON string with the following structure:\n{ \"field\": \"fieldName\", \"direction\": \"ASCENDING\" } Direction values:\nASCENDING DESCENDING Example Usage Query with filters { \"collectionPath\": \"users\", \"filters\": [ \"{\\\"field\\\": \\\"age\\\", \\\"op\\\": \\\"\u003e\\\", \\\"value\\\": 18}\", \"{\\\"field\\\": \\\"status\\\", \\\"op\\\": \\\"==\\\", \\\"value\\\": \\\"active\\\"}\" ], \"orderBy\": \"{\\\"field\\\": \\\"createdAt\\\", \\\"direction\\\": \\\"DESCENDING\\\"}\", \"limit\": 50 } Query with array contains filter { \"collectionPath\": \"products\", \"filters\": [ \"{\\\"field\\\": \\\"categories\\\", \\\"op\\\": \\\"array-contains\\\", \\\"value\\\": \\\"electronics\\\"}\", \"{\\\"field\\\": \\\"price\\\", \\\"op\\\": \\\"\u003c\\\", \\\"value\\\": 1000}\" ], \"orderBy\": \"{\\\"field\\\": \\\"price\\\", \\\"direction\\\": \\\"ASCENDING\\\"}\", \"limit\": 20 } Query with IN operator { \"collectionPath\": \"orders\", \"filters\": [ \"{\\\"field\\\": \\\"status\\\", \\\"op\\\": \\\"in\\\", \\\"value\\\": [\\\"pending\\\", \\\"processing\\\"]}\" ], \"limit\": 100 } Query with explain metrics { \"collectionPath\": \"users\", \"filters\": [ \"{\\\"field\\\": \\\"age\\\", \\\"op\\\": \\\"\u003e=\\\", \\\"value\\\": 21}\", \"{\\\"field\\\": \\\"active\\\", \\\"op\\\": \\\"==\\\", \\\"value\\\": true}\" ], \"orderBy\": \"{\\\"field\\\": \\\"lastLogin\\\", \\\"direction\\\": \\\"DESCENDING\\\"}\", \"limit\": 25, \"analyzeQuery\": true } Response Format Standard Response (analyzeQuery = false) The tool returns an array of documents, where each document includes:\n{ \"id\": \"documentId\", \"path\": \"collection/documentId\", \"data\": { // Document fields }, \"createTime\": \"2025-01-07T12:00:00Z\", \"updateTime\": \"2025-01-07T12:00:00Z\", \"readTime\": \"2025-01-07T12:00:00Z\" } Response with Query Analysis (analyzeQuery = true) When analyzeQuery is set to true, the tool returns a single object containing documents and explain metrics:\n{ \"documents\": [ // Array of document objects as shown above ], \"explainMetrics\": { \"planSummary\": { \"indexesUsed\": [ { \"query_scope\": \"Collection\", \"properties\": \"(field ASC, __name__ ASC)\" } ] }, \"executionStats\": { \"resultsReturned\": 50, \"readOperations\": 50, \"executionDuration\": \"120ms\", \"debugStats\": { \"indexes_entries_scanned\": \"1000\", \"documents_scanned\": \"50\", \"billing_details\": { \"documents_billable\": \"50\", \"index_entries_billable\": \"1000\", \"min_query_cost\": \"0\" } } } } } Error Handling The tool will return errors for:\nInvalid collection path Malformed filter JSON Unsupported operators Query execution failures Invalid orderBy format ","categories":"","description":"A \"firestore-query-collection\" tool allow to query collections in Firestore.\n","excerpt":"A \"firestore-query-collection\" tool allow to query collections in …","ref":"/genai-toolbox/resources/tools/firestore/firestore-query-collection/","tags":"","title":"firestore-query-collection"},{"body":"Description The firestore-update-document tool allows you to update existing documents in Firestore. It supports all Firestore data types using Firestore’s native JSON format. The tool can perform both full document updates (replacing all fields) or selective field updates using an update mask. When using an update mask, fields referenced in the mask but not present in the document data will be deleted from the document, following Firestore’s native behavior.\nParameters Parameter Type Required Description documentPath string Yes The path of the document which needs to be updated documentData map Yes The data to update in the document. Must use Firestore’s native JSON format with typed values updateMask array No The selective fields to update. If not provided, all fields in documentData will be updated. When provided, only the specified fields will be updated. Fields referenced in the mask but not present in documentData will be deleted from the document returnData boolean No If set to true, the output will include the data of the updated document. Defaults to false to help avoid overloading the context Output The tool returns a map containing:\nField Type Description documentPath string The full path of the updated document updateTime string The timestamp when the document was updated documentData map The current data of the document after the update (only included when returnData is true) Data Type Format The tool requires Firestore’s native JSON format for document data. Each field must be wrapped with its type indicator:\nBasic Types String: {\"stringValue\": \"your string\"} Integer: {\"integerValue\": \"123\"} or {\"integerValue\": 123} Double: {\"doubleValue\": 123.45} Boolean: {\"booleanValue\": true} Null: {\"nullValue\": null} Bytes: {\"bytesValue\": \"base64EncodedString\"} Timestamp: {\"timestampValue\": \"2025-01-07T10:00:00Z\"} (RFC3339 format) Complex Types GeoPoint: {\"geoPointValue\": {\"latitude\": 34.052235, \"longitude\": -118.243683}} Array: {\"arrayValue\": {\"values\": [{\"stringValue\": \"item1\"}, {\"integerValue\": \"2\"}]}} Map: {\"mapValue\": {\"fields\": {\"key1\": {\"stringValue\": \"value1\"}, \"key2\": {\"booleanValue\": true}}}} Reference: {\"referenceValue\": \"collection/document\"} Update Modes Full Document Update (Merge All) When updateMask is not provided, the tool performs a merge operation that updates all fields specified in documentData while preserving other existing fields in the document.\nSelective Field Update When updateMask is provided, only the fields listed in the mask are updated. This allows for precise control over which fields are modified, added, or deleted. To delete a field, include it in the updateMask but omit it from documentData.\nReference field type required description kind string true Must be “firestore-update-document”. source string true Name of the Firestore source to update documents in. description string true Description of the tool that is passed to the LLM. Examples Basic Document Update (Full Merge) tools: update-user-doc: kind: firestore-update-document source: my-firestore description: Update a user document Usage:\n{ \"documentPath\": \"users/user123\", \"documentData\": { \"name\": { \"stringValue\": \"Jane Doe\" }, \"lastUpdated\": { \"timestampValue\": \"2025-01-15T10:30:00Z\" }, \"status\": { \"stringValue\": \"active\" }, \"score\": { \"integerValue\": \"150\" } } } Selective Field Update with Update Mask { \"documentPath\": \"users/user123\", \"documentData\": { \"email\": { \"stringValue\": \"newemail@example.com\" }, \"profile\": { \"mapValue\": { \"fields\": { \"bio\": { \"stringValue\": \"Updated bio text\" }, \"avatar\": { \"stringValue\": \"https://example.com/new-avatar.jpg\" } } } } }, \"updateMask\": [\"email\", \"profile.bio\", \"profile.avatar\"] } Update with Field Deletion To delete fields, include them in the updateMask but omit them from documentData:\n{ \"documentPath\": \"users/user123\", \"documentData\": { \"name\": { \"stringValue\": \"John Smith\" } }, \"updateMask\": [\"name\", \"temporaryField\", \"obsoleteData\"], \"returnData\": true } In this example:\nname will be updated to “John Smith” temporaryField and obsoleteData will be deleted from the document (they are in the mask but not in the data) Complex Update with Nested Data { \"documentPath\": \"companies/company456\", \"documentData\": { \"metadata\": { \"mapValue\": { \"fields\": { \"lastModified\": { \"timestampValue\": \"2025-01-15T14:30:00Z\" }, \"modifiedBy\": { \"stringValue\": \"admin@company.com\" } } } }, \"locations\": { \"arrayValue\": { \"values\": [ { \"mapValue\": { \"fields\": { \"city\": { \"stringValue\": \"San Francisco\" }, \"coordinates\": { \"geoPointValue\": { \"latitude\": 37.7749, \"longitude\": -122.4194 } } } } }, { \"mapValue\": { \"fields\": { \"city\": { \"stringValue\": \"New York\" }, \"coordinates\": { \"geoPointValue\": { \"latitude\": 40.7128, \"longitude\": -74.0060 } } } } } ] } }, \"revenue\": { \"doubleValue\": 5678901.23 } }, \"updateMask\": [\"metadata\", \"locations\", \"revenue\"] } Update with All Data Types { \"documentPath\": \"test-documents/doc789\", \"documentData\": { \"stringField\": { \"stringValue\": \"Updated string\" }, \"integerField\": { \"integerValue\": \"999\" }, \"doubleField\": { \"doubleValue\": 2.71828 }, \"booleanField\": { \"booleanValue\": false }, \"nullField\": { \"nullValue\": null }, \"timestampField\": { \"timestampValue\": \"2025-01-15T16:45:00Z\" }, \"geoPointField\": { \"geoPointValue\": { \"latitude\": 51.5074, \"longitude\": -0.1278 } }, \"bytesField\": { \"bytesValue\": \"VXBkYXRlZCBkYXRh\" }, \"arrayField\": { \"arrayValue\": { \"values\": [ { \"stringValue\": \"updated1\" }, { \"integerValue\": \"200\" }, { \"booleanValue\": true } ] } }, \"mapField\": { \"mapValue\": { \"fields\": { \"nestedString\": { \"stringValue\": \"updated nested value\" }, \"nestedNumber\": { \"doubleValue\": 88.88 } } } }, \"referenceField\": { \"referenceValue\": \"users/updatedUser\" } }, \"returnData\": true } Authentication The tool can be configured to require authentication:\ntools: secure-update-doc: kind: firestore-update-document source: prod-firestore description: Update documents with authentication required authRequired: - google-oauth - api-key Error Handling Common errors include:\nDocument not found (when using update with a non-existent document) Invalid document path Missing or invalid document data Permission denied (if Firestore security rules block the operation) Invalid data type conversions Best Practices Use update masks for precision: When you only need to update specific fields, use the updateMask parameter to avoid unintended changes Always use typed values: Every field must be wrapped with its appropriate type indicator (e.g., {\"stringValue\": \"text\"}) Integer values can be strings: The tool accepts integer values as strings (e.g., {\"integerValue\": \"1500\"}) Use returnData sparingly: Only set to true when you need to verify the exact data after the update Validate data before sending: Ensure your data matches Firestore’s native JSON format Handle timestamps properly: Use RFC3339 format for timestamp strings Base64 encode binary data: Binary data must be base64 encoded in the bytesValue field Consider security rules: Ensure your Firestore security rules allow document updates Delete fields using update mask: To delete fields, include them in the updateMask but omit them from documentData Test with non-production data first: Always test your updates on non-critical documents first Differences from Add Documents Purpose: Updates existing documents vs. creating new ones Document must exist: For standard updates (though not using updateMask will create if missing with given document id) Update mask support: Allows selective field updates Field deletion: Supports removing specific fields by including them in the mask but not in the data Returns updateTime: Instead of createTime Related Tools firestore-add-documents - Add new documents to Firestore firestore-get-documents - Retrieve documents by their paths firestore-query-collection - Query documents in a collection firestore-delete-documents - Delete documents from Firestore ","categories":"","description":"A \"firestore-update-document\" tool updates an existing document in Firestore.\n","excerpt":"A \"firestore-update-document\" tool updates an existing document in …","ref":"/genai-toolbox/resources/tools/firestore/firestore-update-document/","tags":"","title":"firestore-update-document"},{"body":"Overview The firestore-validate-rules tool validates Firestore security rules syntax and semantic correctness without deploying them. It provides detailed error reporting with source positions and code snippets.\nConfiguration tools: firestore-validate-rules: kind: firestore-validate-rules source: \u003cfirestore-source-name\u003e description: \"Checks the provided Firestore Rules source for syntax and validation errors\" Authentication This tool requires authentication if the source requires authentication.\nParameters parameters type required description source string true The Firestore Rules source code to validate Response The tool returns a ValidationResult object containing:\n{ \"valid\": \"boolean\", \"issueCount\": \"number\", \"formattedIssues\": \"string\", \"rawIssues\": [ { \"sourcePosition\": { \"fileName\": \"string\", \"line\": \"number\", \"column\": \"number\", \"currentOffset\": \"number\", \"endOffset\": \"number\" }, \"description\": \"string\", \"severity\": \"string\" } ] } Example Usage Validate simple rules { \"source\": \"rules_version = '2';\\nservice cloud.firestore {\\n match /databases/{database}/documents {\\n match /{document=**} {\\n allow read, write: if true;\\n }\\n }\\n}\" } Example response for valid rules { \"valid\": true, \"issueCount\": 0, \"formattedIssues\": \"✓ No errors detected. Rules are valid.\" } Example response with errors { \"valid\": false, \"issueCount\": 1, \"formattedIssues\": \"Found 1 issue(s) in rules source:\\n\\nERROR: Unexpected token ';' [Ln 4, Col 32]\\n```\\n allow read, write: if true;;\\n ^\\n```\", \"rawIssues\": [ { \"sourcePosition\": { \"line\": 4, \"column\": 32, \"currentOffset\": 105, \"endOffset\": 106 }, \"description\": \"Unexpected token ';'\", \"severity\": \"ERROR\" } ] } Error Handling The tool will return errors for:\nMissing or empty source parameter API errors when calling the Firebase Rules service Network connectivity issues Use Cases Pre-deployment validation: Validate rules before deploying to production CI/CD integration: Integrate rules validation into your build pipeline Development workflow: Quickly check rules syntax while developing Error debugging: Get detailed error locations with code snippets Related Tools firestore-get-rules: Retrieve current active rules firestore-query-collection: Test rules by querying collections ","categories":"","description":"A \"firestore-validate-rules\" tool validates Firestore security rules syntax and semantic correctness without deploying them. It provides detailed error reporting with source positions and code snippets.\n","excerpt":"A \"firestore-validate-rules\" tool validates Firestore security rules …","ref":"/genai-toolbox/resources/tools/firestore/firestore-validate-rules/","tags":"","title":"firestore-validate-rules"},{"body":"","categories":"","description":"How to get started with Toolbox.\n","excerpt":"How to get started with Toolbox.\n","ref":"/genai-toolbox/getting-started/","tags":"","title":"Getting Started"},{"body":"Getting Started Google Sign-In manages the OAuth 2.0 flow and token lifecycle. To integrate the Google Sign-In workflow to your web app follow this guide.\nAfter setting up the Google Sign-In workflow, you should have registered your application and retrieved a Client ID. Configure your auth service in with the Client ID.\nBehavior Authorized Invocations When using Authorized Invocations, a tool will be considered authorized if it has a valid Oauth 2.0 token that matches the Client ID.\nAuthenticated Parameters When using Authenticated Parameters, any claim provided by the id-token can be used for the parameter.\nExample authServices: my-google-auth: kind: google clientId: ${YOUR_GOOGLE_CLIENT_ID} Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “google”. clientId string true Client ID of your application from registering your application. ","categories":"","description":"Use Google Sign-In for Oauth 2.0 flow and token lifecycle.\n","excerpt":"Use Google Sign-In for Oauth 2.0 flow and token lifecycle.\n","ref":"/genai-toolbox/resources/authservices/google/","tags":"","title":"Google Sign-In"},{"body":"About The http tool allows you to make HTTP requests to APIs to retrieve data. An HTTP request is the method by which a client communicates with a server to retrieve or manipulate resources. Toolbox allows you to configure the request URL, method, headers, query parameters, and the request body for an HTTP Tool.\nURL An HTTP request URL identifies the target the client wants to access. Toolbox composes the request URL from 3 places:\nThe HTTP Source’s baseUrl. The HTTP Tool’s path field. The HTTP Tool’s pathParams for dynamic path composed during Tool invocation. For example, the following config allows you to reach different paths of the same server using multiple Tools:\nsources: my-http-source: kind: http baseUrl: https://api.example.com tools: my-post-tool: kind: http source: my-http-source method: POST path: /update description: Tool to update information to the example API my-get-tool: kind: http source: my-http-source method: GET path: /search description: Tool to search information from the example API my-dynamic-path-tool: kind: http source: my-http-source method: GET path: /{{.myPathParam}}/search description: Tool to reach endpoint based on the input to `myPathParam` pathParams: - name: myPathParam type: string description: The dynamic path parameter Headers An HTTP request header is a key-value pair sent by a client to a server, providing additional information about the request, such as the client’s preferences, the request body content type, and other metadata. Headers specified by the HTTP Tool are combined with its HTTP Source headers for the resulting HTTP request, and override the Source headers in case of conflict. The HTTP Tool allows you to specify headers in two different ways:\nStatic headers can be specified using the headers field, and will be the same for every invocation: my-http-tool: kind: http source: my-http-source method: GET path: /search description: Tool to search data from API headers: Authorization: API_KEY Content-Type: application/json Dynamic headers can be specified as parameters in the headerParams field. The name of the headerParams will be used as the header key, and the value is determined by the LLM input upon Tool invocation: my-http-tool: kind: http source: my-http-source method: GET path: /search description: some description headerParams: - name: Content-Type # Example LLM input: \"application/json\" description: request content type type: string Query parameters Query parameters are key-value pairs appended to a URL after a question mark (?) to provide additional information to the server for processing the request, like filtering or sorting data.\nStatic request query parameters should be specified in the path as part of the URL itself: my-http-tool: kind: http source: my-http-source method: GET path: /search?language=en\u0026id=1 description: Tool to search for item with ID 1 in English Dynamic request query parameters should be specified as parameters in the queryParams section: my-http-tool: kind: http source: my-http-source method: GET path: /search description: Tool to search for item with ID queryParams: - name: id description: item ID type: integer Request body The request body payload is a string that supports parameter replacement following Go template’s annotations. The parameter names in the requestBody should be preceded by “.” and enclosed by double curly brackets “{{}}”. The values will be populated into the request body payload upon Tool invocation.\nExample:\nmy-http-tool: kind: http source: my-http-source method: GET path: /search description: Tool to search for person with name and age requestBody: | { \"age\": {{.age}}, \"name\": \"{{.name}}\" } bodyParams: - name: age description: age number type: integer - name: name description: name string type: string Formatting Parameters Some complex parameters (such as arrays) may require additional formatting to match the expected output. For convenience, you can specify one of the following pre-defined functions before the parameter name to format it:\nJSON The json keyword converts a parameter into a JSON format.\nNote\nUsing JSON may add quotes to the variable name for certain types (such as strings).\nExample:\nrequestBody: | { \"age\": {{json .age}}, \"name\": {{json .name}}, \"nickname\": \"{{json .nickname}}\", \"nameArray\": {{json .nameArray}} } will send the following output:\n{ \"age\": 18, \"name\": \"Katherine\", \"nickname\": \"\"Kat\"\", # Duplicate quotes \"nameArray\": [\"A\", \"B\", \"C\"] } Example my-http-tool: kind: http source: my-http-source method: GET path: /search description: some description authRequired: - my-google-auth-service - other-auth-service queryParams: - name: country description: some description type: string requestBody: | { \"age\": {{.age}}, \"city\": \"{{.city}}\" } bodyParams: - name: age description: age number type: integer - name: city description: city string type: string headers: Authorization: API_KEY Content-Type: application/json headerParams: - name: Language description: language string type: string Reference field type required description kind string true Must be “http”. source string true Name of the source the HTTP request should be sent to. description string true Description of the tool that is passed to the LLM. path string true The path of the HTTP request. You can include static query parameters in the path string. method string true The HTTP method to use (e.g., GET, POST, PUT, DELETE). headers map[string]string false A map of headers to include in the HTTP request (overrides source headers). requestBody string false The request body payload. Use go template with the parameter name as the placeholder (e.g., {{.id}} will be replaced with the value of the parameter that has name id in the bodyParams section). queryParams parameters false List of parameters that will be inserted into the query string. bodyParams parameters false List of parameters that will be inserted into the request body payload. headerParams parameters false List of parameters that will be inserted as the request headers. ","categories":"","description":"A \"http\" tool sends out an HTTP request to an HTTP endpoint.\n","excerpt":"A \"http\" tool sends out an HTTP request to an HTTP endpoint.\n","ref":"/genai-toolbox/resources/tools/http/http/","tags":"","title":"http"},{"body":"About The HTTP Source allows Toolbox to retrieve data from arbitrary HTTP endpoints. This enables Generative AI applications to access data from web APIs and other HTTP-accessible resources.\nAvailable Tools http\nMake HTTP requests to REST APIs or other web services. Example sources: my-http-source: kind: http baseUrl: https://api.example.com/data timeout: 10s # default to 30s headers: Authorization: Bearer ${API_KEY} Content-Type: application/json queryParams: param1: value1 param2: value2 # disableSslVerification: false Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “http”. baseUrl string true The base URL for the HTTP requests (e.g., https://api.example.com). timeout string false The timeout for HTTP requests (e.g., “5s”, “1m”, refer to ParseDuration for more examples). Defaults to 30s. headers map[string]string false Default headers to include in the HTTP requests. queryParams map[string]string false Default query parameters to include in the HTTP requests. disableSslVerification bool false Disable SSL certificate verification. This should only be used for local development. Defaults to false. ","categories":"","description":"The HTTP source enables the Toolbox to retrieve data from a remote server using HTTP requests.\n","excerpt":"The HTTP source enables the Toolbox to retrieve data from a remote …","ref":"/genai-toolbox/resources/sources/http/","tags":"","title":"HTTP"},{"body":"","categories":"","description":"Tools that work with HTTP Sources.\n","excerpt":"Tools that work with HTTP Sources.\n","ref":"/genai-toolbox/resources/tools/http/","tags":"","title":"HTTP"},{"body":"MCP Toolbox for Databases is an open source MCP server for databases. It enables you to develop tools easier, faster, and more securely by handling the complexities such as connection pooling, authentication, and more.\nNote\nThis solution was originally named “Gen AI Toolbox for Databases” as its initial development predated MCP, but was renamed to align with recently added MCP compatibility.\nWhy Toolbox? Toolbox helps you build Gen AI tools that let your agents access data in your database. Toolbox provides:\nSimplified development: Integrate tools to your agent in less than 10 lines of code, reuse tools between multiple agents or frameworks, and deploy new versions of tools more easily. Better performance: Best practices such as connection pooling, authentication, and more. Enhanced security: Integrated auth for more secure access to your data End-to-end observability: Out of the box metrics and tracing with built-in support for OpenTelemetry. ⚡ Supercharge Your Workflow with an AI Database Assistant ⚡\nStop context-switching and let your AI assistant become a true co-developer. By connecting your IDE to your databases with MCP Toolbox, you can delegate complex and time-consuming database tasks, allowing you to build faster and focus on what matters. This isn’t just about code completion; it’s about giving your AI the context it needs to handle the entire development lifecycle.\nHere’s how it will save you time:\nQuery in Plain English: Interact with your data using natural language right from your IDE. Ask complex questions like, “How many orders were delivered in 2024, and what items were in them?” without writing any SQL. Automate Database Management: Simply describe your data needs, and let the AI assistant manage your database for you. It can handle generating queries, creating tables, adding indexes, and more. Generate Context-Aware Code: Empower your AI assistant to generate application code and tests with a deep understanding of your real-time database schema. This accelerates the development cycle by ensuring the generated code is directly usable. Slash Development Overhead: Radically reduce the time spent on manual setup and boilerplate. MCP Toolbox helps streamline lengthy database configurations, repetitive code, and error-prone schema migrations. Learn how to connect your AI tools (IDEs) to Toolbox using MCP.\nGeneral Architecture Toolbox sits between your application’s orchestration framework and your database, providing a control plane that is used to modify, distribute, or invoke tools. It simplifies the management of your tools by providing you with a centralized location to store and update tools, allowing you to share tools between agents and applications and update those tools without necessarily redeploying your application.\nGetting Started Installing the server For the latest version, check the releases page and use the following instructions for your OS and CPU architecture.\nBinary Container image Homebrew Compile from source Linux (AMD64) macOS (Apple Silicon) macOS (Intel) Windows (AMD64) To install Toolbox as a binary on Linux (AMD64):\n# see releases page for other versions export VERSION=0.16.0 curl -L -o toolbox https://storage.googleapis.com/genai-toolbox/v$VERSION/linux/amd64/toolbox chmod +x toolbox To install Toolbox as a binary on macOS (Apple Silicon):\n# see releases page for other versions export VERSION=0.16.0 curl -L -o toolbox https://storage.googleapis.com/genai-toolbox/v$VERSION/darwin/arm64/toolbox chmod +x toolbox To install Toolbox as a binary on macOS (Intel):\n# see releases page for other versions export VERSION=0.16.0 curl -L -o toolbox https://storage.googleapis.com/genai-toolbox/v$VERSION/darwin/amd64/toolbox chmod +x toolbox To install Toolbox as a binary on Windows (AMD64):\n# see releases page for other versions $VERSION = \"0.16.0\" Invoke-WebRequest -Uri \"https://storage.googleapis.com/genai-toolbox/v$VERSION/windows/amd64/toolbox.exe\" -OutFile \"toolbox.exe\" You can also install Toolbox as a container:\n# see releases page for other versions export VERSION=0.16.0 docker pull us-central1-docker.pkg.dev/database-toolbox/toolbox/toolbox:$VERSION To install Toolbox using Homebrew on macOS or Linux:\nbrew install mcp-toolbox To install from source, ensure you have the latest version of Go installed, and then run the following command:\ngo install github.com/googleapis/genai-toolbox@v0.16.0 Running the server Configure a tools.yaml to define your tools, and then execute toolbox to start the server:\n./toolbox --tools-file \"tools.yaml\" Note\nToolbox enables dynamic reloading by default. To disable, use the --disable-reload flag.\nLaunching Toolbox UI To launch Toolbox’s interactive UI, use the --ui flag. This allows you to test tools and toolsets with features such as authorized parameters. To learn more, visit Toolbox UI.\n./toolbox --ui Homebrew Users If you installed Toolbox using Homebrew, the toolbox binary is available in your system path. You can start the server with the same command:\ntoolbox --tools-file \"tools.yaml\" You can use toolbox help for a full list of flags! To stop the server, send a terminate signal (ctrl+c on most platforms).\nFor more detailed documentation on deploying to different environments, check out the resources in the How-to section\nIntegrating your application Once your server is up and running, you can load the tools into your application. See below the list of Client SDKs for using various frameworks:\nPython Core LangChain Llamaindex Once you’ve installed the Toolbox Core SDK, you can load tools:\nfrom toolbox_core import ToolboxClient # update the url to point to your server async with ToolboxClient(\"http://127.0.0.1:5000\") as client: # these tools can be passed to your application! tools = await client.load_toolset(\"toolset_name\") For more detailed instructions on using the Toolbox Core SDK, see the project’s README.\nOnce you’ve installed the Toolbox LangChain SDK, you can load tools:\nfrom toolbox_langchain import ToolboxClient # update the url to point to your server async with ToolboxClient(\"http://127.0.0.1:5000\") as client: # these tools can be passed to your application! tools = client.load_toolset() For more detailed instructions on using the Toolbox LangChain SDK, see the project’s README.\nOnce you’ve installed the Toolbox Llamaindex SDK, you can load tools:\nfrom toolbox_llamaindex import ToolboxClient # update the url to point to your server async with ToolboxClient(\"http://127.0.0.1:5000\") as client: # these tools can be passed to your application tools = client.load_toolset() For more detailed instructions on using the Toolbox Llamaindex SDK, see the project’s README.\nJavascript/Typescript Once you’ve installed the Toolbox Core SDK, you can load tools:\nCore LangChain/Langraph Genkit LlamaIndex import { ToolboxClient } from '@toolbox-sdk/core'; // update the url to point to your server const URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); // these tools can be passed to your application! const toolboxTools = await client.loadToolset('toolsetName'); import { ToolboxClient } from '@toolbox-sdk/core'; // update the url to point to your server const URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); // these tools can be passed to your application! const toolboxTools = await client.loadToolset('toolsetName'); // Define the basics of the tool: name, description, schema and core logic const getTool = (toolboxTool) =\u003e tool(currTool, { name: toolboxTool.getName(), description: toolboxTool.getDescription(), schema: toolboxTool.getParamSchema() }); // Use these tools in your Langchain/Langraph applications const tools = toolboxTools.map(getTool); import { ToolboxClient } from '@toolbox-sdk/core'; import { genkit } from 'genkit'; // Initialise genkit const ai = genkit({ plugins: [ googleAI({ apiKey: process.env.GEMINI_API_KEY || process.env.GOOGLE_API_KEY }) ], model: googleAI.model('gemini-2.0-flash'), }); // update the url to point to your server const URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); // these tools can be passed to your application! const toolboxTools = await client.loadToolset('toolsetName'); // Define the basics of the tool: name, description, schema and core logic const getTool = (toolboxTool) =\u003e ai.defineTool({ name: toolboxTool.getName(), description: toolboxTool.getDescription(), schema: toolboxTool.getParamSchema() }, toolboxTool) // Use these tools in your Genkit applications const tools = toolboxTools.map(getTool); import { ToolboxClient } from '@toolbox-sdk/core'; import { tool } from \"llamaindex\"; // update the url to point to your server const URL = 'http://127.0.0.1:5000'; let client = new ToolboxClient(URL); // these tools can be passed to your application! const toolboxTools = await client.loadToolset('toolsetName'); // Define the basics of the tool: name, description, schema and core logic const getTool = (toolboxTool) =\u003e tool({ name: toolboxTool.getName(), description: toolboxTool.getDescription(), parameters: toolboxTool.getParamSchema(), execute: toolboxTool });; // Use these tools in your LlamaIndex applications const tools = toolboxTools.map(getTool); For more detailed instructions on using the Toolbox Core SDK, see the project’s README.\nGo Once you’ve installed the Toolbox Go SDK, you can load tools:\nCore LangChain Go Genkit Go Go GenAI OpenAI Go package main import ( \"context\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" ) func main() { // update the url to point to your server URL := \"http://127.0.0.1:5000\" ctx := context.Background() client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Framework agnostic tools tools, err := client.LoadToolset(\"toolsetName\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\", err) } } package main import ( \"context\" \"encoding/json\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"github.com/tmc/langchaingo/llms\" ) func main() { // Make sure to add the error checks // update the url to point to your server URL := \"http://127.0.0.1:5000\" ctx := context.Background() client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Framework agnostic tool tool, err := client.LoadTool(\"toolName\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\", err) } // Fetch the tool's input schema inputschema, err := tool.InputSchema() if err != nil { log.Fatalf(\"Failed to fetch inputSchema: %v\", err) } var paramsSchema map[string]any _ = json.Unmarshal(inputschema, \u0026paramsSchema) // Use this tool with LangChainGo langChainTool := llms.Tool{ Type: \"function\", Function: \u0026llms.FunctionDefinition{ Name: tool.Name(), Description: tool.Description(), Parameters: paramsSchema, }, } } package main import ( \"context\" \"encoding/json\" \"log\" \"github.com/firebase/genkit/go/ai\" \"github.com/firebase/genkit/go/genkit\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"github.com/googleapis/mcp-toolbox-sdk-go/tbgenkit\" \"github.com/invopop/jsonschema\" ) func main() { // Make sure to add the error checks // Update the url to point to your server URL := \"http://127.0.0.1:5000\" ctx := context.Background() g, err := genkit.Init(ctx) client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Framework agnostic tool tool, err := client.LoadTool(\"toolName\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\", err) } // Convert the tool using the tbgenkit package // Use this tool with Genkit Go genkitTool, err := tbgenkit.ToGenkitTool(tool, g) if err != nil { log.Fatalf(\"Failed to convert tool: %v\\n\", err) } } package main import ( \"context\" \"encoding/json\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"google.golang.org/genai\" ) func main() { // Make sure to add the error checks // Update the url to point to your server URL := \"http://127.0.0.1:5000\" ctx := context.Background() client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Framework agnostic tool tool, err := client.LoadTool(\"toolName\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\", err) } // Fetch the tool's input schema inputschema, err := tool.InputSchema() if err != nil { log.Fatalf(\"Failed to fetch inputSchema: %v\", err) } var schema *genai.Schema _ = json.Unmarshal(inputschema, \u0026schema) funcDeclaration := \u0026genai.FunctionDeclaration{ Name: tool.Name(), Description: tool.Description(), Parameters: schema, } // Use this tool with Go GenAI genAITool := \u0026genai.Tool{ FunctionDeclarations: []*genai.FunctionDeclaration{funcDeclaration}, } } package main import ( \"context\" \"encoding/json\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" openai \"github.com/openai/openai-go\" ) func main() { // Make sure to add the error checks // Update the url to point to your server URL := \"http://127.0.0.1:5000\" ctx := context.Background() client, err := core.NewToolboxClient(URL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Framework agnostic tool tool, err := client.LoadTool(\"toolName\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\", err) } // Fetch the tool's input schema inputschema, err := tool.InputSchema() if err != nil { log.Fatalf(\"Failed to fetch inputSchema: %v\", err) } var paramsSchema openai.FunctionParameters _ = json.Unmarshal(inputschema, \u0026paramsSchema) // Use this tool with OpenAI Go openAITool := openai.ChatCompletionToolParam{ Function: openai.FunctionDefinitionParam{ Name: tool.Name(), Description: openai.String(tool.Description()), Parameters: paramsSchema, }, } } For more detailed instructions on using the Toolbox Go SDK, see the project’s README.\nFor end-to-end samples on using the Toolbox Go SDK with orchestration frameworks, see the project’s samples\n","categories":"","description":"An introduction to MCP Toolbox for Databases.\n","excerpt":"An introduction to MCP Toolbox for Databases.\n","ref":"/genai-toolbox/getting-started/introduction/","tags":"","title":"Introduction"},{"body":"About Looker is a web based business intelligence and data management tool that provides a semantic layer to facilitate querying. It can be deployed in the cloud, on GCP, or on premises.\nRequirements Looker User This source only uses API authentication. You will need to create an API user to login to Looker.\nNote\nTo use the Conversational Analytics API, you will need to have the following Google Cloud Project API enabled and IAM permissions.\nAPI Enablement in GCP Enable the following APIs in your Google Cloud Project:\ngcloud services enable geminidataanalytics.googleapis.com --project=$PROJECT_ID gcloud services enable cloudaicompanion.googleapis.com --project=$PROJECT_ID IAM Permissions in GCP In addition to setting the ADC for your server, you need to ensure the IAM identity has been given the following IAM roles (or corresponding permissions):\nroles/looker.instanceUser roles/cloudaicompanion.user roles/geminidataanalytics.dataAgentStatelessUser To initialize the application default credential run gcloud auth login --update-adc in your environment before starting MCP Toolbox.\nExample sources: my-looker-source: kind: looker base_url: http://looker.example.com client_id: ${LOOKER_CLIENT_ID} client_secret: ${LOOKER_CLIENT_SECRET} project: ${LOOKER_PROJECT} location: ${LOOKER_LOCATION} verify_ssl: true timeout: 600s The Looker base url will look like “https://looker.example.com”, don’t include a trailing “/”. In some cases, especially if your Looker is deployed on-premises, you may need to add the API port number like “https://looker.example.com:19999”.\nVerify ssl should almost always be “true” (all lower case) unless you are using a self-signed ssl certificate for the Looker server. Anything other than “true” will be interpreted as false.\nThe client id and client secret are seemingly random character sequences assigned by the looker server. If you are using Looker OAuth you don’t need these settings\nThe project and location fields are utilized only when using the conversational analytics tool.\nTip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “looker”. base_url string true The URL of your Looker server with no trailing /). client_id string false The client id assigned by Looker. client_secret string false The client secret assigned by Looker. verify_ssl string false Whether to check the ssl certificate of the server. project string false The project id to use in Google Cloud. location string false The location to use in Google Cloud. (default: us) timeout string false Maximum time to wait for query execution (e.g. “30s”, “2m”). By default, 120s is applied. use_client_oauth string false Use OAuth tokens instead of client_id and client_secret. (default: false) show_hidden_models string false Show or hide hidden models. (default: true) show_hidden_explores string false Show or hide hidden explores. (default: true) show_hidden_fields string false Show or hide hidden fields. (default: true) ","categories":"","description":"Looker is a business intelligence tool that also provides a semantic layer.\n","excerpt":"Looker is a business intelligence tool that also provides a semantic …","ref":"/genai-toolbox/resources/sources/looker/","tags":"","title":"Looker"},{"body":"","categories":"","description":"Tools that work with Looker Sources.\n","excerpt":"Tools that work with Looker Sources.\n","ref":"/genai-toolbox/resources/tools/looker/","tags":"","title":"Looker"},{"body":"","categories":"","description":"How to get started with Toolbox using Looker.\n","excerpt":"How to get started with Toolbox using Looker.\n","ref":"/genai-toolbox/samples/looker/","tags":"","title":"Looker"},{"body":"About The looker-add-dashboard-element creates a dashboard element in the given dashboard.\nIt’s compatible with the following sources:\nlooker looker-add-dashboard-element takes eleven parameters:\nthe model the explore the fields list an optional set of filters an optional set of pivots an optional set of sorts an optional limit an optional tz an optional vis_config the title the dashboard_id Example tools: add_dashboard_element: kind: looker-add-dashboard-element source: looker-source description: | add_dashboard_element Tool This tool creates a new tile in a Looker dashboard using the query parameters and the vis_config specified. Most of the parameters are the same as the query_url tool. In addition, there is a title that may be provided. The dashboard_id must be specified. That is obtained from calling make_dashboard. This tool can be called many times for one dashboard_id and the resulting tiles will be added in order. Reference field type required description kind string true Must be “looker-add-dashboard-element” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-add-dashboard-element\" creates a dashboard element in the given dashboard.\n","excerpt":"\"looker-add-dashboard-element\" creates a dashboard element in the …","ref":"/genai-toolbox/resources/tools/looker/looker-add-dashboard-element/","tags":"","title":"looker-add-dashboard-element"},{"body":"About A looker-conversational-analytics tool allows you to ask questions about your Looker data.\nIt’s compatible with the following sources:\nlooker looker-conversational-analytics accepts two parameters:\nuser_query_with_context: The question asked of the Conversational Analytics system. explore_references: A list of one to five explores that can be queried to answer the question. The form of the entry is [{\"model\": \"model name\", \"explore\": \"explore name\"}, ...] Example tools: ask_data_insights: kind: looker-conversational-analytics source: looker-source description: | Use this tool to perform data analysis, get insights, or answer complex questions about the contents of specific Looker explores. Reference field type required description kind string true Must be “lookerca-conversational-analytics”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"The \"looker-conversational-analytics\" tool will use the Conversational Analaytics API to analyze data from Looker\n","excerpt":"The \"looker-conversational-analytics\" tool will use the Conversational …","ref":"/genai-toolbox/resources/tools/looker/looker-conversational-analytics/","tags":"","title":"looker-conversational-analytics"},{"body":"About The looker-get-dashboards tool searches for a saved Dashboard by name or description.\nIt’s compatible with the following sources:\nlooker looker-get-dashboards takes four parameters, the title, desc, limit and offset.\nTitle and description use SQL style wildcards and are case insensitive.\nLimit and offset are used to page through a larger set of matches and default to 100 and 0.\nExample tools: get_dashboards: kind: looker-get-dashboards source: looker-source description: | get_dashboards Tool This tool is used to search for saved dashboards in a Looker instance. String search params use case-insensitive matching. String search params can contain % and '_' as SQL LIKE pattern match wildcard expressions. example=\"dan%\" will match \"danger\" and \"Danzig\" but not \"David\" example=\"D_m%\" will match \"Damage\" and \"dump\". Most search params can accept \"IS NULL\" and \"NOT NULL\" as special expressions to match or exclude (respectively) rows where the column is null. The limit and offset are used to paginate the results. The result of the get_dashboards tool is a list of json objects. Reference field type required description kind string true Must be “looker-get-dashboards” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-get-dashboards\" tool searches for a saved Dashboard by name or description.\n","excerpt":"\"looker-get-dashboards\" tool searches for a saved Dashboard by name or …","ref":"/genai-toolbox/resources/tools/looker/looker-get-dashboards/","tags":"","title":"looker-get-dashboards"},{"body":"About A looker-get-dimensions tool returns all the dimensions from a given explore in a given model in the source.\nIt’s compatible with the following sources:\nlooker looker-get-dimensions accepts two parameters, the model and the explore.\nExample tools: get_dimensions: kind: looker-get-dimensions source: looker-source description: | The get_dimensions tool retrieves the list of dimensions defined in an explore. It takes two parameters, the model_name looked up from get_models and the explore_name looked up from get_explores. If this returns a suggestions field for a dimension, the contents of suggestions can be used as filters for this field. If this returns a suggest_explore and suggest_dimension, a query against that explore and dimension can be used to find valid filters for this field. The response is a json array with the following elements:\n{ \"name\": \"field name\", \"description\": \"field description\", \"type\": \"field type\", \"label\": \"field label\", \"label_short\": \"field short label\", \"tags\": [\"tags\", ...], \"synonyms\": [\"synonyms\", ...], \"suggestions\": [\"suggestion\", ...], \"suggest_explore\": \"explore\", \"suggest_dimension\": \"dimension\" } Reference field type required description kind string true Must be “looker-get-dimensions”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-dimensions\" tool returns all the dimensions from a given explore in a given model in the source.\n","excerpt":"A \"looker-get-dimensions\" tool returns all the dimensions from a given …","ref":"/genai-toolbox/resources/tools/looker/looker-get-dimensions/","tags":"","title":"looker-get-dimensions"},{"body":"About A looker-get-explores tool returns all explores for a given model from the source.\nIt’s compatible with the following sources:\nlooker looker-get-explores accepts one parameter, the model id.\nThe return type is an array of maps, each map is formatted like:\n{ \"name\": \"explore name\", \"description\": \"explore description\", \"label\": \"explore label\", \"group_label\": \"group label\" } Example tools: get_explores: kind: looker-get-explores source: looker-source description: | The get_explores tool retrieves the list of explores defined in a LookML model in the Looker system. It takes one parameter, the model_name looked up from get_models. Reference field type required description kind string true Must be “looker-get-explores”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-explores\" tool returns all explores for the given model from the source.\n","excerpt":"A \"looker-get-explores\" tool returns all explores for the given model …","ref":"/genai-toolbox/resources/tools/looker/looker-get-explores/","tags":"","title":"looker-get-explores"},{"body":"About A looker-get-filters tool returns all the filters from a given explore in a given model in the source.\nIt’s compatible with the following sources:\nlooker looker-get-filters accepts two parameters, the model and the explore.\nExample tools: get_dimensions: kind: looker-get-filters source: looker-source description: | The get_filters tool retrieves the list of filters defined in an explore. It takes two parameters, the model_name looked up from get_models and the explore_name looked up from get_explores. The response is a json array with the following elements:\n{ \"name\": \"field name\", \"description\": \"field description\", \"type\": \"field type\", \"label\": \"field label\", \"label_short\": \"field short label\", \"tags\": [\"tags\", ...], \"synonyms\": [\"synonyms\", ...], \"suggestions\": [\"suggestion\", ...], \"suggest_explore\": \"explore\", \"suggest_dimension\": \"dimension\" } Reference field type required description kind string true Must be “looker-get-filters”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-filters\" tool returns all the filters from a given explore in a given model in the source.\n","excerpt":"A \"looker-get-filters\" tool returns all the filters from a given …","ref":"/genai-toolbox/resources/tools/looker/looker-get-filters/","tags":"","title":"looker-get-filters"},{"body":"About The looker-get-looks tool searches for a saved Look by name or description.\nIt’s compatible with the following sources:\nlooker looker-get-looks takes four parameters, the title, desc, limit and offset.\nTitle and description use SQL style wildcards and are case insensitive.\nLimit and offset are used to page through a larger set of matches and default to 100 and 0.\nExample tools: get_looks: kind: looker-get-looks source: looker-source description: | get_looks Tool This tool is used to search for saved looks in a Looker instance. String search params use case-insensitive matching. String search params can contain % and '_' as SQL LIKE pattern match wildcard expressions. example=\"dan%\" will match \"danger\" and \"Danzig\" but not \"David\" example=\"D_m%\" will match \"Damage\" and \"dump\". Most search params can accept \"IS NULL\" and \"NOT NULL\" as special expressions to match or exclude (respectively) rows where the column is null. The limit and offset are used to paginate the results. The result of the get_looks tool is a list of json objects. Reference field type required description kind string true Must be “looker-get-looks” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-get-looks\" searches for saved Looks in a Looker source.\n","excerpt":"\"looker-get-looks\" searches for saved Looks in a Looker source.\n","ref":"/genai-toolbox/resources/tools/looker/looker-get-looks/","tags":"","title":"looker-get-looks"},{"body":"About A looker-get-measures tool returns all the measures from a given explore in a given model in the source.\nIt’s compatible with the following sources:\nlooker looker-get-measures accepts two parameters, the model and the explore.\nExample tools: get_measures: kind: looker-get-measures source: looker-source description: | The get_measures tool retrieves the list of measures defined in an explore. It takes two parameters, the model_name looked up from get_models and the explore_name looked up from get_explores. If this returns a suggestions field for a measure, the contents of suggestions can be used as filters for this field. If this returns a suggest_explore and suggest_dimension, a query against that explore and dimension can be used to find valid filters for this field. The response is a json array with the following elements:\n{ \"name\": \"field name\", \"description\": \"field description\", \"type\": \"field type\", \"label\": \"field label\", \"label_short\": \"field short label\", \"tags\": [\"tags\", ...], \"synonyms\": [\"synonyms\", ...], \"suggestions\": [\"suggestion\", ...], \"suggest_explore\": \"explore\", \"suggest_dimension\": \"dimension\" } Reference field type required description kind string true Must be “looker-get-measures”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-measures\" tool returns all the measures from a given explore in a given model in the source.\n","excerpt":"A \"looker-get-measures\" tool returns all the measures from a given …","ref":"/genai-toolbox/resources/tools/looker/looker-get-measures/","tags":"","title":"looker-get-measures"},{"body":"About A looker-get-models tool returns all the models in the source.\nIt’s compatible with the following sources:\nlooker looker-get-models accepts no parameters.\nExample tools: get_models: kind: looker-get-models source: looker-source description: | The get_models tool retrieves the list of LookML models in the Looker system. It takes no parameters. Reference field type required description kind string true Must be “looker-get-models”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-models\" tool returns all the models in the source.\n","excerpt":"A \"looker-get-models\" tool returns all the models in the source.\n","ref":"/genai-toolbox/resources/tools/looker/looker-get-models/","tags":"","title":"looker-get-models"},{"body":"About A looker-get-parameters tool returns all the parameters from a given explore in a given model in the source.\nIt’s compatible with the following sources:\nlooker looker-get-parameters accepts two parameters, the model and the explore.\nExample tools: get_parameters: kind: looker-get-parameters source: looker-source description: | The get_parameters tool retrieves the list of parameters defined in an explore. It takes two parameters, the model_name looked up from get_models and the explore_name looked up from get_explores. The response is a json array with the following elements:\n{ \"name\": \"field name\", \"description\": \"field description\", \"type\": \"field type\", \"label\": \"field label\", \"label_short\": \"field short label\", \"tags\": [\"tags\", ...], \"synonyms\": [\"synonyms\", ...], \"suggestions\": [\"suggestion\", ...], \"suggest_explore\": \"explore\", \"suggest_dimension\": \"dimension\" } Reference field type required description kind string true Must be “looker-get-parameters”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"looker-get-parameters\" tool returns all the parameters from a given explore in a given model in the source.\n","excerpt":"A \"looker-get-parameters\" tool returns all the parameters from a given …","ref":"/genai-toolbox/resources/tools/looker/looker-get-parameters/","tags":"","title":"looker-get-parameters"},{"body":"About The looker-health-analyze tool performs various analysis tasks on a Looker instance. The action parameter selects the type of analysis to perform:\nprojects: Analyzes all projects or a specified project, reporting on the number of models and view files, as well as Git connection and validation status. models: Analyzes all models or a specified model, providing a count of explores, unused explores, and total query counts. explores: Analyzes all explores or a specified explore, reporting on the number of joins, unused joins, fields, unused fields, and query counts. Being classified as Unused is determined by whether a field has been used as a field or filter within the past 90 days in production. Parameters field type required description kind string true Must be “looker-health-analyze” source string true Looker source name action string true The analysis to perform: projects, models, or explores. project string false The name of the Looker project to analyze. model string false The name of the Looker model to analyze. Required for explores actions. explore string false The name of the Looker explore to analyze. Required for the explores action. timeframe int false The timeframe in days to analyze. Defaults to 90. min_queries int false The minimum number of queries for a model or explore to be considered used. Defaults to 1. Example Analyze all models in thelook project.\ntools: analyze-tool: kind: looker-health-analyze source: looker-source description: | Analyzes Looker projects, models, and explores. Specify the `action` parameter to select the type of analysis. parameters: action: models project: \"thelook\" Analyze all the explores in the `ecomm` model of `thelook` project. Specifically look at usage within the past 20 days. Usage minimum should be at least 10 queries. ```yaml tools: analyze-tool: kind: looker-health-analyze source: looker-source description: | Analyzes Looker projects, models, and explores. Specify the `action` parameter to select the type of analysis. parameters: action: explores project: \"thelook\" model: \"ecomm\" timeframe: 20 min_queries: 10 ","categories":"","description":"\"looker-health-analyze\" provides a set of analytical commands for a Looker instance, allowing users to analyze projects, models, and explores.\n","excerpt":"\"looker-health-analyze\" provides a set of analytical commands for a …","ref":"/genai-toolbox/resources/tools/looker/looker-health-analyze/","tags":"","title":"looker-health-analyze"},{"body":"About The looker-health-pulse tool performs health checks on a Looker instance. The action parameter selects the type of check to perform:\ncheck_db_connections: Checks all database connections, runs supported tests, and reports query counts. check_dashboard_performance: Finds dashboards with slow running queries in the last 7 days. check_dashboard_errors: Lists dashboards with erroring queries in the last 7 days. check_explore_performance: Lists the slowest explores in the last 7 days and reports average query runtime. check_schedule_failures: Lists schedules that have failed in the last 7 days. check_legacy_features: Lists enabled legacy features. (To note, this function is not available in Looker Core. You will get an error running this command with a Core instance configured.) Parameters field type required description kind string true Must be “looker-health-pulse” source string true Looker source name action string true The health check to perform Example tools: pulse: kind: looker-health-pulse source: looker-source description: | Pulse Tool Performs health checks on Looker instance. Specify the `action` parameter to select the check. parameters: action: check_dashboard_performance Reference action description check_db_connections Checks all database connections and reports query counts and errors check_dashboard_performance Finds dashboards with slow queries (\u003e30s) in the last 7 days check_dashboard_errors Lists dashboards with erroring queries in the last 7 days check_explore_performance Lists slowest explores and average query runtime check_schedule_failures Lists failed schedules in the last 7 days check_legacy_features Lists enabled legacy features ","categories":"","description":"\"looker-health-pulse\" performs health checks on a Looker instance, with multiple actions available (e.g., checking database connections, dashboard performance, etc).\n","excerpt":"\"looker-health-pulse\" performs health checks on a Looker instance, …","ref":"/genai-toolbox/resources/tools/looker/looker-health-pulse/","tags":"","title":"looker-health-pulse"},{"body":"About The looker-health-vacuum tool helps you identify unused LookML objects such as models, explores, joins, and fields. The action parameter selects the type of vacuum to perform:\nmodels: Identifies unused explores within a model. explores: Identifies unused joins and fields within an explore. Parameters field type required description kind string true Must be “looker-health-vacuum” source string true Looker source name action string true The vacuum to perform: models, or explores. project string false The name of the Looker project to vacuum. model string false The name of the Looker model to vacuum. explore string false The name of the Looker explore to vacuum. timeframe int false The timeframe in days to analyze for usage. Defaults to 90. min_queries int false The minimum number of queries for an object to be considered used. Defaults to 1. Example Identify unnused fields (in this case, less than 1 query in the last 20 days) and joins in the order_items explore and thelook model\ntools: vacuum-tool: kind: looker-health-vacuum source: looker-source description: | Vacuums the Looker instance by identifying unused explores, fields, and joins. parameters: action: explores project: \"thelook_core\" model: \"thelook\" explore: \"order_items\" timeframe: 20 min_queries: 1 Identify unnused explores across all models in thelook_core project.\ntools: vacuum-tool: kind: looker-health-vacuum source: looker-source description: | Vacuums the Looker instance by identifying unused explores, fields, and joins. parameters: action: models project: \"thelook_core\" ","categories":"","description":"\"looker-health-vacuum\" provides a set of commands to audit and identify unused LookML objects in a Looker instance.\n","excerpt":"\"looker-health-vacuum\" provides a set of commands to audit and …","ref":"/genai-toolbox/resources/tools/looker/looker-health-vacuum/","tags":"","title":"looker-health-vacuum"},{"body":"About The looker-make-dashboard creates a dashboard in the user’s Looker personal folder.\nIt’s compatible with the following sources:\nlooker looker-make-dashboard takes one parameter:\nthe title Example tools: make_dashboard: kind: looker-make-dashboard source: looker-source description: | make_dashboard Tool This tool creates a new dashboard in Looker. The dashboard is initially empty and the add_dashboard_element tool is used to add content to the dashboard. The newly created dashboard will be created in the user's personal folder in looker. The dashboard name must be unique. The result is a json document with a link to the newly created dashboard and the id of the dashboard. Use the id when calling add_dashboard_element. Reference field type required description kind string true Must be “looker-make-dashboard” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-make-dashboard\" generates a Looker dashboard in the users personal folder in Looker\n","excerpt":"\"looker-make-dashboard\" generates a Looker dashboard in the users …","ref":"/genai-toolbox/resources/tools/looker/looker-make-dashboard/","tags":"","title":"looker-make-dashboard"},{"body":"About The looker-make-look creates a saved Look in the user’s Looker personal folder.\nIt’s compatible with the following sources:\nlooker looker-make-look takes eleven parameters:\nthe model the explore the fields list an optional set of filters an optional set of pivots an optional set of sorts an optional limit an optional tz an optional vis_config the title an optional description Example tools: make_look: kind: looker-make-look source: looker-source description: | make_look Tool This tool creates a new look in Looker, using the query parameters and the vis_config specified. Most of the parameters are the same as the query_url tool. In addition, there is a title and a description that must be provided. The newly created look will be created in the user's personal folder in looker. The look name must be unique. The result is a json document with a link to the newly created look. Reference field type required description kind string true Must be “looker-make-look” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-make-look\" generates a Looker look in the users personal folder in Looker\n","excerpt":"\"looker-make-look\" generates a Looker look in the users personal …","ref":"/genai-toolbox/resources/tools/looker/looker-make-look/","tags":"","title":"looker-make-look"},{"body":"About The looker-query tool runs a query using the Looker semantic model.\nIt’s compatible with the following sources:\nlooker looker-query takes eight parameters:\nthe model the explore the fields list an optional set of filters an optional set of pivots an optional set of sorts an optional limit an optional tz Starting in Looker v25.18, these queries can be identified in Looker’s System Activity. In the History explore, use the field API Client Name to find MCP Toolbox queries.\nExample tools: query: kind: looker-query source: looker-source description: | Query Tool This tool is used to run a query against the LookML model. The model, explore, and fields list must be specified. Pivots, filters and sorts are optional. The model can be found from the get_models tool. The explore can be found from the get_explores tool passing in the model. The fields can be found from the get_dimensions, get_measures, get_filters, and get_parameters tools, passing in the model and the explore. Provide a model_id and explore_name, then a list of fields. Optionally a list of pivots can be provided. The pivots must also be included in the fields list. Filters are provided as a map of {\"field.id\": \"condition\", \"field.id2\": \"condition2\", ...}. Do not put the field.id in quotes. Filter expressions can be found at https://cloud.google.com/looker/docs/filter-expressions. Sorts can be specified like [ \"field.id desc 0\" ]. An optional row limit can be added. If not provided the limit will default to 500. \"-1\" can be specified for unlimited. An optional query timezone can be added. The query_timezone to will default to that of the workstation where this MCP server is running, or Etc/UTC if that can't be determined. Not all models support custom timezones. The result of the query tool is JSON Reference field type required description kind string true Must be “looker-query” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-query\" runs an inline query using the Looker semantic model.\n","excerpt":"\"looker-query\" runs an inline query using the Looker semantic model.\n","ref":"/genai-toolbox/resources/tools/looker/looker-query/","tags":"","title":"looker-query"},{"body":"About The looker-query-sql generates a sql query using the Looker semantic model.\nIt’s compatible with the following sources:\nlooker looker-query-sql takes eight parameters:\nthe model the explore the fields list an optional set of filters an optional set of pivots an optional set of sorts an optional limit an optional tz Starting in Looker v25.18, these queries can be identified in Looker’s System Activity. In the History explore, use the field API Client Name to find MCP Toolbox queries.\nExample tools: query_sql: kind: looker-query-sql source: looker-source description: | Query SQL Tool This tool is used to generate a sql query against the LookML model. The model, explore, and fields list must be specified. Pivots, filters and sorts are optional. The model can be found from the get_models tool. The explore can be found from the get_explores tool passing in the model. The fields can be found from the get_dimensions, get_measures, get_filters, and get_parameters tools, passing in the model and the explore. Provide a model_id and explore_name, then a list of fields. Optionally a list of pivots can be provided. The pivots must also be included in the fields list. Filters are provided as a map of {\"field.id\": \"condition\", \"field.id2\": \"condition2\", ...}. Do not put the field.id in quotes. Filter expressions can be found at https://cloud.google.com/looker/docs/filter-expressions. Sorts can be specified like [ \"field.id desc 0\" ]. An optional row limit can be added. If not provided the limit will default to 500. \"-1\" can be specified for unlimited. An optional query timezone can be added. The query_timezone to will default to that of the workstation where this MCP server is running, or Etc/UTC if that can't be determined. Not all models support custom timezones. The result of the query tool is the sql string. Reference field type required description kind string true Must be “looker-query-sql” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-query-sql\" generates a sql query using the Looker semantic model.\n","excerpt":"\"looker-query-sql\" generates a sql query using the Looker semantic …","ref":"/genai-toolbox/resources/tools/looker/looker-query-sql/","tags":"","title":"looker-query-sql"},{"body":"About The looker-query-url generates a url link to an explore in Looker so the query can be investigated further.\nIt’s compatible with the following sources:\nlooker looker-query-url takes nine parameters:\nthe model the explore the fields list an optional set of filters an optional set of pivots an optional set of sorts an optional limit an optional tz an optional vis_config Example tools: query_url: kind: looker-query-url source: looker-source description: | Query URL Tool This tool is used to generate the URL of a query in Looker. The user can then explore the query further inside Looker. The tool also returns the query_id and slug. The parameters are the same as the query tool with an additional vis_config parameter. The vis_config is optional. If provided, it will be used to control the default visualization for the query. Here are some notes on making visualizations. ### Cartesian Charts (Area, Bar, Column, Line, Scatter) These chart types share a large number of configuration options. **General** * `type`: The type of visualization (`looker_area`, `looker_bar`, `looker_column`, `looker_line`, `looker_scatter`). * `series_types`: Override the chart type for individual series. * `show_view_names`: Display view names in labels and tooltips (`true`/`false`). * `series_labels`: Provide custom names for series. **Styling \u0026 Colors** * `colors`: An array of color values to be used for the chart series. * `series_colors`: A mapping of series names to specific color values. * `color_application`: Advanced controls for color palette application (collection, palette, reverse, etc.). * `font_size`: Font size for labels (e.g., '12px'). **Legend** * `hide_legend`: Show or hide the chart legend (`true`/`false`). * `legend_position`: Placement of the legend (`'center'`, `'left'`, `'right'`). **Axes** * `swap_axes`: Swap the X and Y axes (`true`/`false`). * `x_axis_scale`: Scale of the x-axis (`'auto'`, `'ordinal'`, `'linear'`, `'time'`). * `x_axis_reversed`, `y_axis_reversed`: Reverse the direction of an axis (`true`/`false`). * `x_axis_gridlines`, `y_axis_gridlines`: Display gridlines for an axis (`true`/`false`). * `show_x_axis_label`, `show_y_axis_label`: Show or hide the axis title (`true`/`false`). * `show_x_axis_ticks`, `show_y_axis_ticks`: Show or hide axis tick marks (`true`/`false`). * `x_axis_label`, `y_axis_label`: Set a custom title for an axis. * `x_axis_datetime_label`: A format string for datetime labels on the x-axis (e.g., `'%Y-%m'`). * `x_padding_left`, `x_padding_right`: Adjust padding on the ends of the x-axis. * `x_axis_label_rotation`, `x_axis_label_rotation_bar`: Set rotation for x-axis labels. * `x_axis_zoom`, `y_axis_zoom`: Enable zooming on an axis (`true`/`false`). * `y_axes`: An array of configuration objects for multiple y-axes. **Data \u0026 Series** * `stacking`: How to stack series (`''` for none, `'normal'`, `'percent'`). * `ordering`: Order of series in a stack (`'none'`, etc.). * `limit_displayed_rows`: Enable or disable limiting the number of rows displayed (`true`/`false`). * `limit_displayed_rows_values`: Configuration for the row limit (e.g., `{ \"first_last\": \"first\", \"show_hide\": \"show\", \"num_rows\": 10 }`). * `discontinuous_nulls`: How to render null values in line charts (`true`/`false`). * `point_style`: Style for points on line and area charts (`'none'`, `'circle'`, `'circle_outline'`). * `series_point_styles`: Override point styles for individual series. * `interpolation`: Line interpolation style (`'linear'`, `'monotone'`, `'step'`, etc.). * `show_value_labels`: Display values on data points (`true`/`false`). * `label_value_format`: A format string for value labels. * `show_totals_labels`: Display total labels on stacked charts (`true`/`false`). * `totals_color`: Color for total labels. * `show_silhouette`: Display a \"silhouette\" of hidden series in stacked charts (`true`/`false`). * `hidden_series`: An array of series names to hide from the visualization. **Scatter/Bubble Specific** * `size_by_field`: The field used to determine the size of bubbles. * `color_by_field`: The field used to determine the color of bubbles. * `plot_size_by_field`: Whether to display the size-by field in the legend. * `cluster_points`: Group nearby points into clusters (`true`/`false`). * `quadrants_enabled`: Display quadrants on the chart (`true`/`false`). * `quadrant_properties`: Configuration for quadrant labels and colors. * `custom_quadrant_value_x`, `custom_quadrant_value_y`: Set quadrant boundaries as a percentage. * `custom_quadrant_point_x`, `custom_quadrant_point_y`: Set quadrant boundaries to a specific value. **Miscellaneous** * `reference_lines`: Configuration for displaying reference lines. * `trend_lines`: Configuration for displaying trend lines. * `trellis`: Configuration for creating trellis (small multiple) charts. * `crossfilterEnabled`, `crossfilters`: Configuration for cross-filtering interactions. ### Boxplot * Inherits most of the Cartesian chart options. * `type`: Must be `looker_boxplot`. ### Funnel * `type`: Must be `looker_funnel`. * `orientation`: How data is read (`'automatic'`, `'dataInRows'`, `'dataInColumns'`). * `percentType`: How percentages are calculated (`'percentOfMaxValue'`, `'percentOfPriorRow'`). * `labelPosition`, `valuePosition`, `percentPosition`: Placement of labels (`'left'`, `'right'`, `'inline'`, `'hidden'`). * `labelColor`, `labelColorEnabled`: Set a custom color for labels. * `labelOverlap`: Allow labels to overlap (`true`/`false`). * `barColors`: An array of colors for the funnel steps. * `color_application`: Advanced color palette controls. * `crossfilterEnabled`, `crossfilters`: Configuration for cross-filtering. ### Pie / Donut * `type`: Must be `looker_pie`. * `value_labels`: Where to display values (`'legend'`, `'labels'`). * `label_type`: The format of data labels (`'labPer'`, `'labVal'`, `'lab'`, `'val'`, `'per'`). * `start_angle`, `end_angle`: The start and end angles of the pie chart. * `inner_radius`: The inner radius, used to create a donut chart. * `series_colors`, `series_labels`: Override colors and labels for specific slices. * `color_application`: Advanced color palette controls. * `crossfilterEnabled`, `crossfilters`: Configuration for cross-filtering. * `advanced_vis_config`: A string containing JSON for advanced Highcharts configuration. ### Waterfall * Inherits most of the Cartesian chart options. * `type`: Must be `looker_waterfall`. * `up_color`: Color for positive (increasing) values. * `down_color`: Color for negative (decreasing) values. * `total_color`: Color for the total bar. ### Word Cloud * `type`: Must be `looker_wordcloud`. * `rotation`: Enable random word rotation (`true`/`false`). * `colors`: An array of colors for the words. * `color_application`: Advanced color palette controls. * `crossfilterEnabled`, `crossfilters`: Configuration for cross-filtering. These are some sample vis_config settings. A bar chart - {{ \"defaults_version\": 1, \"label_density\": 25, \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"ordering\": \"none\", \"plot_size_by_field\": false, \"point_style\": \"none\", \"show_null_labels\": false, \"show_silhouette\": false, \"show_totals_labels\": false, \"show_value_labels\": false, \"show_view_names\": false, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"stacking\": \"normal\", \"totals_color\": \"#808080\", \"trellis\": \"\", \"type\": \"looker_bar\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"x_axis_zoom\": true, \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5, \"y_axis_zoom\": true }} A column chart with an option advanced_vis_config - {{ \"advanced_vis_config\": \"{ chart: { type: 'pie', spacingBottom: 50, spacingLeft: 50, spacingRight: 50, spacingTop: 50, }, legend: { enabled: false, }, plotOptions: { pie: { dataLabels: { enabled: true, format: '\\u003cb\\u003e{key}\\u003c/b\\u003e\\u003cspan style=\\\"font-weight: normal\\\"\\u003e - {percentage:.2f}%\\u003c/span\\u003e', }, showInLegend: false, }, }, series: [], }\", \"colors\": [ \"grey\" ], \"defaults_version\": 1, \"hidden_fields\": [], \"label_density\": 25, \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"note_display\": \"below\", \"note_state\": \"collapsed\", \"note_text\": \"Unsold inventory only\", \"ordering\": \"none\", \"plot_size_by_field\": false, \"point_style\": \"none\", \"series_colors\": {}, \"show_null_labels\": false, \"show_silhouette\": false, \"show_totals_labels\": false, \"show_value_labels\": true, \"show_view_names\": false, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"stacking\": \"normal\", \"totals_color\": \"#808080\", \"trellis\": \"\", \"type\": \"looker_column\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"x_axis_zoom\": true, \"y_axes\": [], \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5, \"y_axis_zoom\": true }} A line chart - {{ \"defaults_version\": 1, \"hidden_pivots\": {}, \"hidden_series\": [], \"interpolation\": \"linear\", \"label_density\": 25, \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"plot_size_by_field\": false, \"point_style\": \"none\", \"series_types\": {}, \"show_null_points\": true, \"show_value_labels\": false, \"show_view_names\": false, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"stacking\": \"\", \"trellis\": \"\", \"type\": \"looker_line\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5 }} An area chart - {{ \"defaults_version\": 1, \"interpolation\": \"linear\", \"label_density\": 25, \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"plot_size_by_field\": false, \"point_style\": \"none\", \"series_types\": {}, \"show_null_points\": true, \"show_silhouette\": false, \"show_totals_labels\": false, \"show_value_labels\": false, \"show_view_names\": false, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"stacking\": \"normal\", \"totals_color\": \"#808080\", \"trellis\": \"\", \"type\": \"looker_area\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"x_axis_zoom\": true, \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5, \"y_axis_zoom\": true }} A scatter plot - {{ \"cluster_points\": false, \"custom_quadrant_point_x\": 5, \"custom_quadrant_point_y\": 5, \"custom_value_label_column\": \"\", \"custom_x_column\": \"\", \"custom_y_column\": \"\", \"defaults_version\": 1, \"hidden_fields\": [], \"hidden_pivots\": {}, \"hidden_points_if_no\": [], \"hidden_series\": [], \"interpolation\": \"linear\", \"label_density\": 25, \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"limit_displayed_rows_values\": { \"first_last\": \"first\", \"num_rows\": 0, \"show_hide\": \"hide\" }, \"plot_size_by_field\": false, \"point_style\": \"circle\", \"quadrant_properties\": { \"0\": { \"color\": \"\", \"label\": \"Quadrant 1\" }, \"1\": { \"color\": \"\", \"label\": \"Quadrant 2\" }, \"2\": { \"color\": \"\", \"label\": \"Quadrant 3\" }, \"3\": { \"color\": \"\", \"label\": \"Quadrant 4\" } }, \"quadrants_enabled\": false, \"series_labels\": {}, \"series_types\": {}, \"show_null_points\": false, \"show_value_labels\": false, \"show_view_names\": true, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"size_by_field\": \"roi\", \"stacking\": \"normal\", \"swap_axes\": true, \"trellis\": \"\", \"type\": \"looker_scatter\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"x_axis_zoom\": true, \"y_axes\": [ { \"label\": \"\", \"orientation\": \"bottom\", \"series\": [ { \"axisId\": \"Channel_0 - average_of_roi_first\", \"id\": \"Channel_0 - average_of_roi_first\", \"name\": \"Channel_0\" }, { \"axisId\": \"Channel_1 - average_of_roi_first\", \"id\": \"Channel_1 - average_of_roi_first\", \"name\": \"Channel_1\" }, { \"axisId\": \"Channel_2 - average_of_roi_first\", \"id\": \"Channel_2 - average_of_roi_first\", \"name\": \"Channel_2\" }, { \"axisId\": \"Channel_3 - average_of_roi_first\", \"id\": \"Channel_3 - average_of_roi_first\", \"name\": \"Channel_3\" }, { \"axisId\": \"Channel_4 - average_of_roi_first\", \"id\": \"Channel_4 - average_of_roi_first\", \"name\": \"Channel_4\" } ], \"showLabels\": true, \"showValues\": true, \"tickDensity\": \"custom\", \"tickDensityCustom\": 100, \"type\": \"linear\", \"unpinAxis\": false } ], \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5, \"y_axis_zoom\": true }} A single record visualization - {{ \"defaults_version\": 1, \"show_view_names\": false, \"type\": \"looker_single_record\" }} A single value visualization - {{ \"comparison_reverse_colors\": false, \"comparison_type\": \"value\", \"conditional_formatting_include_nulls\": false, \"conditional_formatting_include_totals\": false, \"custom_color\": \"#1A73E8\", \"custom_color_enabled\": true, \"defaults_version\": 1, \"enable_conditional_formatting\": false, \"series_types\": {}, \"show_comparison\": false, \"show_comparison_label\": true, \"show_single_value_title\": true, \"single_value_title\": \"Total Clicks\", \"type\": \"single_value\" }} A Pie chart - {{ \"defaults_version\": 1, \"label_density\": 25, \"label_type\": \"labPer\", \"legend_position\": \"center\", \"limit_displayed_rows\": false, \"ordering\": \"none\", \"plot_size_by_field\": false, \"point_style\": \"none\", \"series_types\": {}, \"show_null_labels\": false, \"show_silhouette\": false, \"show_totals_labels\": false, \"show_value_labels\": false, \"show_view_names\": false, \"show_x_axis_label\": true, \"show_x_axis_ticks\": true, \"show_y_axis_labels\": true, \"show_y_axis_ticks\": true, \"stacking\": \"\", \"totals_color\": \"#808080\", \"trellis\": \"\", \"type\": \"looker_pie\", \"value_labels\": \"legend\", \"x_axis_gridlines\": false, \"x_axis_reversed\": false, \"x_axis_scale\": \"auto\", \"y_axis_combined\": true, \"y_axis_gridlines\": true, \"y_axis_reversed\": false, \"y_axis_scale_mode\": \"linear\", \"y_axis_tick_density\": \"default\", \"y_axis_tick_density_custom\": 5 }} The result is a JSON object with the id, slug, the url, and the long_url. Reference field type required description kind string true Must be “looker-query-url” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-query-url\" generates a url link to a Looker explore.\n","excerpt":"\"looker-query-url\" generates a url link to a Looker explore.\n","ref":"/genai-toolbox/resources/tools/looker/looker-query-url/","tags":"","title":"looker-query-url"},{"body":"About The looker-run-look tool runs the query associated with a saved Look.\nIt’s compatible with the following sources:\nlooker looker-run-look takes one parameter, the look_id.\nExample tools: run_look: kind: looker-run-look source: looker-source description: | run_look Tool This tool runs the query associated with a look and returns the data in a JSON structure. It accepts the look_id as the parameter. Reference field type required description kind string true Must be “looker-run-look” source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"\"looker-run-look\" runs the query associated with a saved Look.\n","excerpt":"\"looker-run-look\" runs the query associated with a saved Look.\n","ref":"/genai-toolbox/resources/tools/looker/looker-run-look/","tags":"","title":"looker-run-look"},{"body":"About MongoDB is a popular NoSQL database that stores data in flexible, JSON-like documents, making it easy to develop and scale applications.\nExample sources: my-mongodb: kind: mongodb uri: \"mongodb+srv://username:password@host.mongodb.net\" Reference field type required description kind string true Must be “mongodb”. uri string true connection string to connect to MongoDB ","categories":"","description":"MongoDB is a no-sql data platform that can not only serve general purpose data requirements also perform VectorSearch where both operational data and embeddings used of search can reside in same document.\n","excerpt":"MongoDB is a no-sql data platform that can not only serve general …","ref":"/genai-toolbox/resources/sources/mongodb/","tags":"","title":"MongoDB"},{"body":"","categories":"","description":"Tools that work with the MongoDB Source.\n","excerpt":"Tools that work with the MongoDB Source.\n","ref":"/genai-toolbox/resources/tools/mongodb/","tags":"","title":"MongoDB"},{"body":"About The mongodb-aggregate tool is the most powerful query tool for MongoDB, allowing you to process data through a multi-stage pipeline. Each stage transforms the documents as they pass through, enabling complex operations like grouping, filtering, reshaping documents, and performing calculations.\nThe core of this tool is the pipelinePayload, which must be a string containing a JSON array of pipeline stage documents. The tool returns a JSON array of documents produced by the final stage of the pipeline.\nA readOnly flag can be set to true as a safety measure to ensure the pipeline does not contain any write stages (like $out or $merge).\nThis tool is compatible with the following source kind:\nmongodb Example Here is an example that calculates the average price and total count of products for each category, but only for products with an “active” status.\ntools: get_category_stats: kind: mongodb-aggregate source: my-mongo-source description: Calculates average price and count of products, grouped by category. database: ecommerce collection: products readOnly: true pipelinePayload: | [ { \"$match\": { \"status\": {{json .status_filter}} } }, { \"$group\": { \"_id\": \"$category\", \"average_price\": { \"$avg\": \"$price\" }, \"item_count\": { \"$sum\": 1 } } }, { \"$sort\": { \"average_price\": -1 } } ] pipelineParams: - name: status_filter type: string description: The product status to filter by (e.g., \"active\"). Reference field type required description kind string true Must be mongodb-aggregate. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection to run the aggregation on. pipelinePayload string true A JSON array of aggregation stage documents, provided as a string. Uses {{json .param_name}} for templating. pipelineParams list true A list of parameter objects that define the variables used in the pipelinePayload. canonical bool false Determines if the pipeline string is parsed using MongoDB’s Canonical or Relaxed Extended JSON format. readOnly bool false If true, the tool will fail if the pipeline contains write stages ($out or $merge). Defaults to false. ","categories":"","description":"A \"mongodb-aggregate\" tool executes a multi-stage aggregation pipeline against a MongoDB collection.\n","excerpt":"A \"mongodb-aggregate\" tool executes a multi-stage aggregation pipeline …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-aggregate/","tags":"","title":"mongodb-aggregate"},{"body":"About The mongodb-delete-many tool performs a bulk destructive operation, deleting ALL documents from a collection that match a specified filter.\nThe tool returns the total count of documents that were deleted. If the filter does not match any documents (i.e., the deleted count is 0), the tool will return an error.\nThis tool is compatible with the following source kind:\nmongodb Example Here is an example that performs a cleanup task by deleting all products from the inventory collection that belong to a discontinued brand.\ntools: retire_brand_products: kind: mongodb-delete-many source: my-mongo-source description: Deletes all products from a specified discontinued brand. database: ecommerce collection: inventory filterPayload: | { \"brand_name\": {{json .brand_to_delete}} } filterParams: - name: brand_to_delete type: string description: The name of the discontinued brand whose products should be deleted. Reference field type required description kind string true Must be mongodb-delete-many. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection from which to delete documents. filterPayload string true The MongoDB query filter document to select the documents for deletion. Uses {{json .param_name}} for templating. filterParams list true A list of parameter objects that define the variables used in the filterPayload. ","categories":"","description":"A \"mongodb-delete-many\" tool deletes all documents from a MongoDB collection that match a filter.\n","excerpt":"A \"mongodb-delete-many\" tool deletes all documents from a MongoDB …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-delete-many/","tags":"","title":"mongodb-delete-many"},{"body":"About The mongodb-delete-one tool performs a destructive operation, deleting the first single document that matches a specified filter from a MongoDB collection.\nIf the filter matches multiple documents, only the first one found by the database will be deleted. This tool is useful for removing specific entries, such as a user account or a single item from an inventory based on a unique ID.\nThe tool returns the number of documents deleted, which will be either 1 if a document was found and deleted, or 0 if no matching document was found.\nThis tool is compatible with the following source kind:\nmongodb Example Here is an example that deletes a specific user account from the users collection by matching their unique email address. This is a permanent action.\ntools: delete_user_account: kind: mongodb-delete-one source: my-mongo-source description: Permanently deletes a user account by their email address. database: user_data collection: users filterPayload: | { \"email\": {{json .email_address}} } filterParams: - name: email_address type: string description: The email of the user account to delete. Reference field type required description kind string true Must be mongodb-delete-one. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection from which to delete a document. filterPayload string true The MongoDB query filter document to select the document for deletion. Uses {{json .param_name}} for templating. filterParams list true A list of parameter objects that define the variables used in the filterPayload. ","categories":"","description":"A \"mongodb-delete-one\" tool deletes a single document from a MongoDB collection.\n","excerpt":"A \"mongodb-delete-one\" tool deletes a single document from a MongoDB …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-delete-one/","tags":"","title":"mongodb-delete-one"},{"body":"About A mongodb-find tool is used to query a MongoDB collection and retrieve documents that match a specified filter. It’s a flexible tool that allows you to shape the output by selecting specific fields (projection), ordering the results (sorting), and restricting the number of documents returned (limiting).\nThe tool returns a JSON array of the documents found.\nThis tool is compatible with the following source kind:\nmongodb Example Here’s an example that finds up to 10 users from the customers collection who live in a specific city. The results are sorted by their last name, and only their first name, last name, and email are returned.\ntools: find_local_customers: kind: mongodb-find source: my-mongo-source description: Finds customers by city, sorted by last name. database: crm collection: customers limit: 10 filterPayload: | { \"address.city\": {{json .city}} } filterParams: - name: city type: string description: The city to search for customers in. projectPayload: | { \"first_name\": 1, \"last_name\": 1, \"email\": 1, \"_id\": 0 } sortPayload: | { \"last_name\": {{json .sort_order}} } sortParams: - name: sort_order type: integer description: The sort order (1 for ascending, -1 for descending). Reference field type required description kind string true Must be mongodb-find. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database to query. collection string true The name of the MongoDB collection to query. filterPayload string true The MongoDB query filter document to select which documents to return. Uses {{json .param_name}} for templating. filterParams list true A list of parameter objects that define the variables used in the filterPayload. projectPayload string false An optional MongoDB projection document to specify which fields to include (1) or exclude (0) in the results. projectParams list false A list of parameter objects for the projectPayload. sortPayload string false An optional MongoDB sort document to define the order of the returned documents. Use 1 for ascending and -1 for descending. sortParams list false A list of parameter objects for the sortPayload. limit integer false An optional integer specifying the maximum number of documents to return. ","categories":"","description":"A \"mongodb-find\" tool finds and retrieves documents from a MongoDB collection.\n","excerpt":"A \"mongodb-find\" tool finds and retrieves documents from a MongoDB …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-find/","tags":"","title":"mongodb-find"},{"body":"About A mongodb-find-one tool is used to retrieve the first single document that matches a specified filter from a MongoDB collection. If multiple documents match the filter, you can use sort options to control which document is returned. Otherwise, the selection is not guaranteed.\nThe tool returns a single JSON object representing the document, wrapped in a JSON array.\nThis tool is compatible with the following source kind:\nmongodb Example Here’s a common use case: finding a specific user by their unique email address and returning their profile information, while excluding sensitive fields like the password hash.\ntools: get_user_profile: kind: mongodb-find-one source: my-mongo-source description: Retrieves a user's profile by their email address. database: user_data collection: profiles filterPayload: | { \"email\": {{json .email}} } filterParams: - name: email type: string description: The email address of the user to find. projectPayload: | { \"password_hash\": 0, \"login_history\": 0 } Reference field type required description kind string true Must be mongodb-find-one. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database to query. collection string true The name of the MongoDB collection to query. filterPayload string true The MongoDB query filter document to select the document. Uses {{json .param_name}} for templating. filterParams list true A list of parameter objects that define the variables used in the filterPayload. projectPayload string false An optional MongoDB projection document to specify which fields to include (1) or exclude (0) in the result. projectParams list false A list of parameter objects for the projectPayload. sortPayload string false An optional MongoDB sort document. Useful for selecting which document to return if the filter matches multiple (e.g., get the most recent). sortParams list false A list of parameter objects for the sortPayload. ","categories":"","description":"A \"mongodb-find-one\" tool finds and retrieves a single document from a MongoDB collection.\n","excerpt":"A \"mongodb-find-one\" tool finds and retrieves a single document from a …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-find-one/","tags":"","title":"mongodb-find-one"},{"body":"About The mongodb-insert-many tool inserts multiple new documents into a specified MongoDB collection in a single bulk operation. This is highly efficient for adding large amounts of data at once.\nThis tool takes one required parameter named data. This data parameter must be a string containing a JSON array of document objects. Upon successful insertion, the tool returns a JSON array containing the unique _id of each new document that was created.\nThis tool is compatible with the following source kind:\nmongodb Example Here is an example configuration for a tool that logs multiple events at once.\ntools: log_batch_events: kind: mongodb-insert-many source: my-mongo-source description: Inserts a batch of event logs into the database. database: logging collection: events canonical: true An LLM would call this tool by providing an array of documents as a JSON string in the data parameter, like this: tool_code: log_batch_events(data='[{\"event\": \"login\", \"user\": \"user1\"}, {\"event\": \"click\", \"user\": \"user2\"}, {\"event\": \"logout\", \"user\": \"user1\"}]')\nReference field type required description kind string true Must be mongodb-insert-many. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection into which the documents will be inserted. canonical bool true Determines if the data string is parsed using MongoDB’s Canonical or Relaxed Extended JSON format. ","categories":"","description":"A \"mongodb-insert-many\" tool inserts multiple new documents into a MongoDB collection.\n","excerpt":"A \"mongodb-insert-many\" tool inserts multiple new documents into a …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-insert-many/","tags":"","title":"mongodb-insert-many"},{"body":"About The mongodb-insert-one tool inserts a single new document into a specified MongoDB collection.\nThis tool takes one required parameter named data, which must be a string containing the JSON object you want to insert. Upon successful insertion, the tool returns the unique _id of the newly created document.\nThis tool is compatible with the following source kind:\nmongodb Example Here is an example configuration for a tool that adds a new user to a users collection.\ntools: create_new_user: kind: mongodb-insert-one source: my-mongo-source description: Creates a new user record in the database. database: user_data collection: users canonical: false An LLM would call this tool by providing the document as a JSON string in the data parameter, like this: tool_code: create_new_user(data='{\"email\": \"new.user@example.com\", \"name\": \"Jane Doe\", \"status\": \"active\"}')\nReference field type required description kind string true Must be mongodb-insert-one. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection into which the document will be inserted. canonical bool true Determines if the data string is parsed using MongoDB’s Canonical or Relaxed Extended JSON format. ","categories":"","description":"A \"mongodb-insert-one\" tool inserts a single new document into a MongoDB collection.\n","excerpt":"A \"mongodb-insert-one\" tool inserts a single new document into a …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-insert-one/","tags":"","title":"mongodb-insert-one"},{"body":"About A mongodb-update-many tool updates all documents within a specified MongoDB collection that match a given filter. It locates the documents using a filterPayload and applies the modifications defined in an updatePayload.\nThe tool returns an array of three integers: [ModifiedCount, UpsertedCount, MatchedCount].\nThis tool is compatible with the following source kind:\nmongodb Example Here’s an example configuration. This tool applies a discount to all items within a specific category and also marks them as being on sale.\ntools: apply_category_discount: kind: mongodb-update-many source: my-mongo-source description: Use this tool to apply a discount to all items in a given category. database: products collection: inventory filterPayload: | { \"category\": {{json .category_name}} } filterParams: - name: category_name type: string description: The category of items to update. updatePayload: | { \"$mul\": { \"price\": {{json .discount_multiplier}} }, \"$set\": { \"on_sale\": true } } updateParams: - name: discount_multiplier type: number description: The multiplier to apply to the price (e.g., 0.8 for a 20% discount). canonical: false upsert: false Reference field type required description kind string true Must be mongodb-update-many. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection in which to update documents. filterPayload string true The MongoDB query filter document to select the documents for updating. It’s written as a Go template, using {{json .param_name}} to insert parameters. filterParams list true A list of parameter objects that define the variables used in the filterPayload. updatePayload string true The MongoDB update document, It’s written as a Go template, using {{json .param_name}} to insert parameters. updateParams list true A list of parameter objects that define the variables used in the updatePayload. canonical bool true Determines if the filterPayload and updatePayload strings are parsed using MongoDB’s Canonical or Relaxed Extended JSON format. Canonical is stricter about type representation, while Relaxed is more lenient. upsert bool false If true, a new document is created if no document matches the filterPayload. Defaults to false. ","categories":"","description":"A \"mongodb-update-many\" tool updates all documents in a MongoDB collection that match a filter.\n","excerpt":"A \"mongodb-update-many\" tool updates all documents in a MongoDB …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-update-many/","tags":"","title":"mongodb-update-many"},{"body":"About A mongodb-update-one tool updates a single document within a specified MongoDB collection. It locates the document to be updated using a filterPayload and applies modifications defined in an updatePayload. If the filter matches multiple documents, only the first one found will be updated.\nThis tool is compatible with the following source kind:\nmongodb Example Here’s an example of a mongodb-update-one tool configuration. This tool updates the stock and status fields of a document in the inventory collection where the item field matches a provided value. If no matching document is found, the upsert: true option will create a new one.\ntools: update_inventory_item: kind: mongodb-update-one source: my-mongo-source description: Use this tool to update an item's stock and status in the inventory. database: products collection: inventory filterPayload: | { \"item\": {{json .item_name}} } filterParams: - name: item_name type: string description: The name of the item to update. updatePayload: | { \"$set\": { \"stock\": {{json .new_stock}}, \"status\": {{json .new_status}} } } updateParams: - name: new_stock type: integer description: The new stock quantity. - name: new_status type: string description: The new status of the item (e.g., \"In Stock\", \"Backordered\"). canonical: false upsert: true Reference field type required description kind string true Must be mongodb-update-one. source string true The name of the mongodb source to use. description string true A description of the tool that is passed to the LLM. database string true The name of the MongoDB database containing the collection. collection string true The name of the MongoDB collection to update a document in. filterPayload string true The MongoDB query filter document to select the document for updating. It’s written as a Go template, using {{json .param_name}} to insert parameters. filterParams list true A list of parameter objects that define the variables used in the filterPayload. updatePayload string true The MongoDB update document, which specifies the modifications. This often uses update operators like $set. It’s written as a Go template, using {{json .param_name}} to insert parameters. updateParams list true A list of parameter objects that define the variables used in the updatePayload. canonical bool true Determines if the updatePayload string is parsed using MongoDB’s Canonical or Relaxed Extended JSON format. Canonical is stricter about type representation (e.g., {\"$numberInt\": \"42\"}), while Relaxed is more lenient (e.g., 42). upsert bool false If true, a new document is created if no document matches the filterPayload. Defaults to false. ","categories":"","description":"A \"mongodb-update-one\" tool updates a single document in a MongoDB collection.\n","excerpt":"A \"mongodb-update-one\" tool updates a single document in a MongoDB …","ref":"/genai-toolbox/resources/tools/mongodb/mongodb-update-one/","tags":"","title":"mongodb-update-one"},{"body":"About A mssql-execute-sql tool executes a SQL statement against a SQL Server database. It’s compatible with any of the following sources:\ncloud-sql-mssql mssql mssql-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: mssql-execute-sql source: my-mssql-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “mssql-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"mssql-execute-sql\" tool executes a SQL statement against a SQL Server database.\n","excerpt":"A \"mssql-execute-sql\" tool executes a SQL statement against a SQL …","ref":"/genai-toolbox/resources/tools/mssql/mssql-execute-sql/","tags":"","title":"mssql-execute-sql"},{"body":"About The mssql-list-tables tool retrieves schema information for all or specified tables in a SQL server database. It is compatible with any of the following sources:\ncloud-sql-mssql mssql mssql-list-tables lists detailed schema information (object type, columns, constraints, indexes, triggers, owner, comment) as JSON for user-created tables (ordinary or partitioned).\nThe tool takes the following input parameters:\ntable_names (string, optional): Filters by a comma-separated list of names. By default, it lists all tables in user schemas. Default: \"\". output_format (string, optional): Indicate the output format of table schema. simple will return only the table names, detailed will return the full table information. Default: detailed. Example tools: mssql_list_tables: kind: mssql-list-tables source: mssql-source description: Use this tool to retrieve schema information for all or specified tables. Output format can be simple (only table names) or detailed. Reference field type required description kind string true Must be “mssql-list-tables”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the agent. ","categories":"","description":"The \"mssql-list-tables\" tool lists schema information for all or specified tables in a SQL server database.\n","excerpt":"The \"mssql-list-tables\" tool lists schema information for all or …","ref":"/genai-toolbox/resources/tools/mssql/mssql-list-tables/","tags":"","title":"mssql-list-tables"},{"body":"About A mssql-sql tool executes a pre-defined SQL statement against a SQL Server database. It’s compatible with any of the following sources:\ncloud-sql-mssql mssql Toolbox supports the prepare statement syntax of MS SQL Server and expects parameters in the SQL query to be in the form of either @Name or @p1 to @pN (ordinal position).\ndb.QueryContext(ctx, `select * from t where ID = @ID and Name = @p2;`, sql.Named(\"ID\", 6), \"Bob\") Example Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: mssql-sql source: my-instance statement: | SELECT * FROM flights WHERE airline = @airline AND flight_number = @flight_number LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: mssql-sql source: my-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “mssql-sql”. source string true Name of the source the T-SQL statement should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"mssql-sql\" tool executes a pre-defined SQL statement against a SQL Server database.\n","excerpt":"A \"mssql-sql\" tool executes a pre-defined SQL statement against a SQL …","ref":"/genai-toolbox/resources/tools/mssql/mssql-sql/","tags":"","title":"mssql-sql"},{"body":"About MySQL is a relational database management system (RDBMS) that stores and manages data. It’s a popular choice for developers because of its reliability, performance, and ease of use.\nAvailable Tools mysql-sql Execute pre-defined prepared SQL queries in MySQL.\nmysql-execute-sql Run parameterized SQL queries in MySQL.\nmysql-list-active-queries List active queries in MySQL.\nmysql-list-tables List tables in a MySQL database.\nmysql-list-tables-missing-unique-indexes List tables in a MySQL database that do not have primary or unique indices.\nmysql-list-table-fragmentation List table fragmentation in MySQL tables.\nRequirements Database User This source only uses standard authentication. You will need to create a MySQL user to login to the database with.\nExample sources: my-mysql-source: kind: mysql host: 127.0.0.1 port: 3306 database: my_db user: ${USER_NAME} password: ${PASSWORD} # Optional TLS and other driver parameters. For example, enable preferred TLS: # queryParams: # tls: preferred queryTimeout: 30s # Optional: query timeout duration Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “mysql”. host string true IP address to connect to (e.g. “127.0.0.1”). port string true Port to connect to (e.g. “3306”). database string true Name of the MySQL database to connect to (e.g. “my_db”). user string true Name of the MySQL user to connect as (e.g. “my-mysql-user”). password string true Password of the MySQL user (e.g. “my-password”). queryTimeout string false Maximum time to wait for query execution (e.g. “30s”, “2m”). By default, no timeout is applied. queryParams map\u003cstring,string\u003e false Arbitrary DSN parameters passed to the driver (e.g. tls: preferred, charset: utf8mb4). Useful for enabling TLS or other connection options. ","categories":"","description":"MySQL is a relational database management system that stores and manages data.\n","excerpt":"MySQL is a relational database management system that stores and …","ref":"/genai-toolbox/resources/sources/mysql/","tags":"","title":"MySQL"},{"body":"","categories":"","description":"Tools that work with MySQL Sources, such as Cloud SQL for MySQL.\n","excerpt":"Tools that work with MySQL Sources, such as Cloud SQL for MySQL.\n","ref":"/genai-toolbox/resources/tools/mysql/","tags":"","title":"MySQL"},{"body":"About A mysql-execute-sql tool executes a SQL statement against a MySQL database. It’s compatible with any of the following sources:\ncloud-sql-mysql mysql mysql-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: mysql-execute-sql source: my-mysql-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “mysql-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"mysql-execute-sql\" tool executes a SQL statement against a MySQL database.\n","excerpt":"A \"mysql-execute-sql\" tool executes a SQL statement against a MySQL …","ref":"/genai-toolbox/resources/tools/mysql/mysql-execute-sql/","tags":"","title":"mysql-execute-sql"},{"body":"About A mysql-list-active-queries tool retrieves information about active queries in a MySQL database. It’s compatible with:\ncloud-sql-mysql mysql mysql-list-active-queries outputs detailed information as JSON for current active queries, ordered by execution time in descending order. This tool takes 2 optional input parameters:\nmin_duration_secs (optional): Only show queries running for at least this long in seconds, default 0. limit (optional): max number of queries to return, default 10. Example tools: list_active_queries: kind: mysql-list-active-queries source: my-mysql-instance description: Lists top N (default 10) ongoing queries from processlist and innodb_trx, ordered by execution time in descending order. Returns detailed information of those queries in json format, including process id, query, transaction duration, transaction wait duration, process time, transaction state, process state, username with host, transaction rows locked, transaction rows modified, and db schema. The response is a json array with the following fields:\n{ \"proccess_id\": \"id of the MySQL process/connection this query belongs to\", \"query\": \"query text\", \"trx_started\": \"the time when the transaction (this query belongs to) started\", \"trx_duration_seconds\": \"the total elapsed time (in seconds) of the owning transaction so far\", \"trx_wait_duration_seconds\": \"the total wait time (in seconds) of the owning transaction so far\", \"query_time\": \"the time (in seconds) that the owning connection has been in its current state\", \"trx_state\": \"the transaction execution state\", \"proces_state\": \"the current state of the owning connection\", \"user\": \"the user who issued this query\", \"trx_rows_locked\": \"the approximate number of rows locked by the owning transaction\", \"trx_rows_modified\": \"the approximate number of rows modified by the owning transaction\", \"db\": \"the default database for the owning connection\" } Reference field type required description kind string true Must be “mysql-list-active-queries”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"mysql-list-active-queries\" tool lists active queries in a MySQL database.\n","excerpt":"A \"mysql-list-active-queries\" tool lists active queries in a MySQL …","ref":"/genai-toolbox/resources/tools/mysql/mysql-list-active-queries/","tags":"","title":"mysql-list-active-queries"},{"body":"About A mysql-list-table-fragmentation tool checks table fragmentation of MySQL tables by calculating the size of the data and index files in bytes and comparing with free space allocated to each table. This tool calculates fragmentation_percentage which represents the proportion of free space relative to the total data and index size. It’s compatible with\ncloud-sql-mysql mysql mysql-list-table-fragmentation outputs detailed information as JSON , ordered by the fragmentation percentage in descending order. This tool takes 4 optional input parameters:\ntable_schema (optional): The database where fragmentation check is to be executed. Check all tables visible to the current user if not specified. table_name (optional): Name of the table to be checked. Check all tables visible to the current user if not specified. data_free_threshold_bytes (optional): Only show tables with at least this much free space in bytes. Default 1. limit (optional): Max rows to return, default 10. Example tools: list_table_fragmentation: kind: mysql-list-table-fragmentation source: my-mysql-instance description: List table fragmentation in MySQL, by calculating the size of the data and index files and free space allocated to each table. The query calculates fragmentation percentage which represents the proportion of free space relative to the total data and index size. Storage can be reclaimed for tables with high fragmentation using OPTIMIZE TABLE. The response is a json array with the following fields:\n{ \"table_schema\": \"The schema/database this table belongs to\", \"table_name\": \"Name of this table\", \"data_size\": \"Size of the table data in bytes\", \"index_size\": \"Size of the table's indexes in bytes\", \"data_free\": \"Free space (bytes) available in the table's data file\", \"fragmentation_percentage\": \"How much fragementation this table has\", } Reference field type required description kind string true Must be “mysql-list-table-fragmentation”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"mysql-list-table-fragmentation\" tool lists top N fragemented tables in MySQL.\n","excerpt":"A \"mysql-list-table-fragmentation\" tool lists top N fragemented tables …","ref":"/genai-toolbox/resources/tools/mysql/mysql-list-table-fragmentation/","tags":"","title":"mysql-list-table-fragmentation"},{"body":"About The mysql-list-tables tool retrieves schema information for all or specified tables in a MySQL database. It is compatible with any of the following sources:\ncloud-sql-mysql mysql mysql-list-tables lists detailed schema information (object type, columns, constraints, indexes, triggers, owner, comment) as JSON for user-created tables (ordinary or partitioned). Filters by a comma-separated list of names. If names are omitted, it lists all tables in user schemas. The output format can be set to simple which will return only the table names or detailed which is the default.\nThe tool takes the following input parameters:\nParameter Type Description Required table_names string Filters by a comma-separated list of names. By default, it lists all tables in user schemas. Default: \"\" No output_format string Indicate the output format of table schema. simple will return only the table names, detailed will return the full table information. Default: detailed. No Example tools: mysql_list_tables: kind: mysql-list-tables source: mysql-source description: Use this tool to retrieve schema information for all or specified tables. Output format can be simple (only table names) or detailed. Reference field type required description kind string true Must be “mysql-list-tables”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the agent. ","categories":"","description":"The \"mysql-list-tables\" tool lists schema information for all or specified tables in a MySQL database.\n","excerpt":"The \"mysql-list-tables\" tool lists schema information for all or …","ref":"/genai-toolbox/resources/tools/mysql/mysql-list-tables/","tags":"","title":"mysql-list-tables"},{"body":"About A mysql-list-tables-missing-unique-indexes tool searches tables that do not have primary or unique indices in a MySQL database. It’s compatible with:\ncloud-sql-mysql mysql mysql-list-tables-missing-unique-indexes outputs table names, including table_schema and table_name in JSON format. It takes 2 optional input parameters:\ntable_schema (optional): Only check tables in this specific schema/database. Search all visible tables in all visible databases if not specified. limit (optional): max number of queries to return, default 50. Example tools: list_tables_missing_unique_indexes: kind: mysql-list-tables-missing-unique-indexes source: my-mysql-instance description: Find tables that do not have primary or unique key constraint. A primary key or unique key is the only mechanism that guaranttes a row is unique. Without them, the database-level protection against data integrity issues will be missing. The response is a json array with the following fields:\n{ \"table_schema\": \"the schema/database this table belongs to\", \"table_name\": \"name of the table\", } Reference field type required description kind string true Must be “mysql-list-active-queries”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"mysql-list-tables-missing-unique-indexes\" tool lists tables that do not have primary or unique indices in a MySQL instance.\n","excerpt":"A \"mysql-list-tables-missing-unique-indexes\" tool lists tables that do …","ref":"/genai-toolbox/resources/tools/mysql/mysql-list-tables-missing-unique-indexes/","tags":"","title":"mysql-list-tables-missing-unique-indexes"},{"body":"About A mysql-sql tool executes a pre-defined SQL statement against a MySQL database. It’s compatible with any of the following sources:\ncloud-sql-mysql mysql The specified SQL statement is executed as a prepared statement, and expects parameters in the SQL query to be in the form of placeholders ?.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: mysql-sql source: my-mysql-instance statement: | SELECT * FROM flights WHERE airline = ? AND flight_number = ? LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: mysql-sql source: my-mysql-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “mysql-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"mysql-sql\" tool executes a pre-defined SQL statement against a MySQL database.\n","excerpt":"A \"mysql-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/mysql/mysql-sql/","tags":"","title":"mysql-sql"},{"body":"About Neo4j is a powerful, open source graph database system with over 15 years of active development that has earned it a strong reputation for reliability, feature robustness, and performance.\nAvailable Tools neo4j-cypher\nRun Cypher queries against your Neo4j graph database. Requirements Database User This source only uses standard authentication. You will need to create a Neo4j user to log in to the database with, or use the default neo4j user if available.\nExample sources: my-neo4j-source: kind: neo4j uri: neo4j+s://xxxx.databases.neo4j.io:7687 user: ${USER_NAME} password: ${PASSWORD} database: \"neo4j\" Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “neo4j”. uri string true Connect URI (“bolt://localhost”, “neo4j+s://xxx.databases.neo4j.io”) user string true Name of the Neo4j user to connect as (e.g. “neo4j”). password string true Password of the Neo4j user (e.g. “my-password”). database string true Name of the Neo4j database to connect to (e.g. “neo4j”). ","categories":"","description":"Neo4j is a powerful, open source graph database system\n","excerpt":"Neo4j is a powerful, open source graph database system\n","ref":"/genai-toolbox/resources/sources/neo4j/","tags":"","title":"Neo4j"},{"body":"","categories":"","description":"Tools that work with Neo4j Sources.\n","excerpt":"Tools that work with Neo4j Sources.\n","ref":"/genai-toolbox/resources/tools/neo4j/","tags":"","title":"Neo4j"},{"body":"About A neo4j-cypher tool executes a pre-defined Cypher statement against a Neo4j database. It’s compatible with any of the following sources:\nneo4j The specified Cypher statement is executed as a parameterized statement, and specified parameters will be used according to their name: e.g. $id.\nNote: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\nExample tools: search_movies_by_actor: kind: neo4j-cypher source: my-neo4j-movies-instance statement: | MATCH (m:Movie)\u003c-[:ACTED_IN]-(p:Person) WHERE p.name = $name AND m.year \u003e $year RETURN m.title, m.year LIMIT 10 description: | Use this tool to get a list of movies for a specific actor and a given minimum release year. Takes a full actor name, e.g. \"Tom Hanks\" and a year e.g 1993 and returns a list of movie titles and release years. Do NOT use this tool with a movie title. Do NOT guess an actor name, Do NOT guess a year. A actor name is a fully qualified name with first and last name separated by a space. For example, if given \"Hanks, Tom\" the actor name is \"Tom Hanks\". If the tool returns more than one option choose the most recent movies. Example: {{ \"name\": \"Meg Ryan\", \"year\": 1993 }} Example: {{ \"name\": \"Clint Eastwood\", \"year\": 2000 }} parameters: - name: name type: string description: Full actor name, \"firstname lastname\" - name: year type: integer description: 4 digit number starting in 1900 up to the current year Reference field type required description kind string true Must be “neo4j-cypher”. source string true Name of the source the Cypher query should execute on. description string true Description of the tool that is passed to the LLM. statement string true Cypher statement to execute parameters parameters false List of parameters that will be used with the Cypher statement. ","categories":"","description":"A \"neo4j-cypher\" tool executes a pre-defined cypher statement against a Neo4j database.\n","excerpt":"A \"neo4j-cypher\" tool executes a pre-defined cypher statement against …","ref":"/genai-toolbox/resources/tools/neo4j/neo4j-cypher/","tags":"","title":"neo4j-cypher"},{"body":"About A neo4j-execute-cypher tool executes an arbitrary Cypher query provided as a string parameter against a Neo4j database. It’s designed to be a flexible tool for interacting with the database when a pre-defined query is not sufficient. This tool is compatible with any of the following sources:\nneo4j For security, the tool can be configured to be read-only. If the readOnly flag is set to true, the tool will analyze the incoming Cypher query and reject any write operations (like CREATE, MERGE, DELETE, etc.) before execution.\nThe Cypher query uses standard Neo4j Cypher syntax and supports all Cypher features, including pattern matching, filtering, and aggregation.\nneo4j-execute-cypher takes one input parameter cypher and run the cypher query against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: query_neo4j: kind: neo4j-execute-cypher source: my-neo4j-prod-db readOnly: true description: | Use this tool to execute a Cypher query against the production database. Only read-only queries are allowed. Takes a single 'cypher' parameter containing the full query string. Example: {{ \"cypher\": \"MATCH (m:Movie {title: 'The Matrix'}) RETURN m.released\" }} Reference field type required description kind string true Must be “neo4j-cypher”. source string true Name of the source the Cypher query should execute on. description string true Description of the tool that is passed to the LLM. readOnly boolean false If set to true, the tool will reject any write operations in the Cypher query. Default is false. ","categories":"","description":"A \"neo4j-execute-cypher\" tool executes any arbitrary Cypher statement against a Neo4j database.\n","excerpt":"A \"neo4j-execute-cypher\" tool executes any arbitrary Cypher statement …","ref":"/genai-toolbox/resources/tools/neo4j/neo4j-execute-cypher/","tags":"","title":"neo4j-execute-cypher"},{"body":"About A neo4j-schema tool connects to a Neo4j database and extracts its complete schema information. It runs multiple queries concurrently to efficiently gather details about node labels, relationships, properties, constraints, and indexes.\nThe tool automatically detects if the APOC (Awesome Procedures on Cypher) library is available. If so, it uses APOC procedures like apoc.meta.schema for a highly detailed overview of the database structure; otherwise, it falls back to using native Cypher queries.\nThe extracted schema is cached to improve performance for subsequent requests. The output is a structured JSON object containing all the schema details, which can be invaluable for providing database context to an LLM. This tool is compatible with a neo4j source and takes no parameters.\nExample tools: get_movie_db_schema: kind: neo4j-schema source: my-neo4j-movies-instance description: | Use this tool to get the full schema of the movie database. This provides information on all available node labels (like Movie, Person), relationships (like ACTED_IN), and the properties on each. This tool takes no parameters. # Optional configuration to cache the schema for 2 hours cacheExpireMinutes: 120 Reference field type required description kind string true Must be neo4j-schema. source string true Name of the source the schema should be extracted from. description string true Description of the tool that is passed to the LLM. cacheExpireMinutes integer false Cache expiration time in minutes. Defaults to 60. ","categories":"","description":"A \"neo4j-schema\" tool extracts a comprehensive schema from a Neo4j database.\n","excerpt":"A \"neo4j-schema\" tool extracts a comprehensive schema from a Neo4j …","ref":"/genai-toolbox/resources/tools/neo4j/neo4j-schema/","tags":"","title":"neo4j-schema"},{"body":"About OceanBase is a distributed relational database management system (RDBMS) that provides high availability, scalability, and strong consistency. It’s designed to handle large-scale data processing and is compatible with MySQL, making it easy for developers to migrate from MySQL to OceanBase.\nRequirements Database User This source only uses standard authentication. You will need to create an OceanBase user to login to the database with. OceanBase supports MySQL-compatible user management syntax.\nNetwork Connectivity Ensure that your application can connect to the OceanBase cluster. OceanBase typically runs on ports 2881 (for MySQL protocol) or 3881 (for MySQL protocol with SSL).\nExample sources: my-oceanbase-source: kind: oceanbase host: 127.0.0.1 port: 2881 database: my_db user: ${USER_NAME} password: ${PASSWORD} queryTimeout: 30s # Optional: query timeout duration Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “oceanbase”. host string true IP address to connect to (e.g. “127.0.0.1”). port string true Port to connect to (e.g. “2881”). database string true Name of the OceanBase database to connect to (e.g. “my_db”). user string true Name of the OceanBase user to connect as (e.g. “my-oceanbase-user”). password string true Password of the OceanBase user (e.g. “my-password”). queryTimeout string false Maximum time to wait for query execution (e.g. “30s”, “2m”). By default, no timeout is applied. Features MySQL Compatibility OceanBase is highly compatible with MySQL, supporting most MySQL SQL syntax, data types, and functions. This makes it easy to migrate existing MySQL applications to OceanBase.\nHigh Availability OceanBase provides automatic failover and data replication across multiple nodes, ensuring high availability and data durability.\nScalability OceanBase can scale horizontally by adding more nodes to the cluster, making it suitable for large-scale applications.\nStrong Consistency OceanBase provides strong consistency guarantees, ensuring that all transactions are ACID compliant.\n","categories":"","description":"OceanBase is a distributed relational database that provides high availability, scalability, and compatibility with MySQL.\n","excerpt":"OceanBase is a distributed relational database that provides high …","ref":"/genai-toolbox/resources/sources/oceanbase/","tags":"","title":"OceanBase"},{"body":"","categories":"","description":"Tools that work with OceanBase Sources.\n","excerpt":"Tools that work with OceanBase Sources.\n","ref":"/genai-toolbox/resources/tools/oceanbase/","tags":"","title":"OceanBase"},{"body":"About An oceanbase-execute-sql tool executes a SQL statement against an OceanBase database. It’s compatible with the following source:\noceanbase oceanbase-execute-sql takes one input parameter sql and runs the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: oceanbase-execute-sql source: my-oceanbase-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “oceanbase-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"An \"oceanbase-execute-sql\" tool executes a SQL statement against an OceanBase database.\n","excerpt":"An \"oceanbase-execute-sql\" tool executes a SQL statement against an …","ref":"/genai-toolbox/resources/tools/oceanbase/oceanbase-execute-sql/","tags":"","title":"oceanbase-execute-sql"},{"body":"About An oceanbase-sql tool executes a pre-defined SQL statement against an OceanBase database. It’s compatible with the following source:\noceanbase The specified SQL statement is executed as a prepared statement, and expects parameters in the SQL query to be in the form of placeholders ?.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: oceanbase-sql source: my-oceanbase-instance statement: | SELECT * FROM flights WHERE airline = ? AND flight_number = ? LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons.\ntools: list_table: kind: oceanbase-sql source: my-oceanbase-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Example with Array Parameters tools: search_flights_by_ids: kind: oceanbase-sql source: my-oceanbase-instance statement: | SELECT * FROM flights WHERE id IN (?) AND status IN (?) description: | Use this tool to get information for multiple flights by their IDs and statuses. Example: {{ \"flight_ids\": [1, 2, 3], \"statuses\": [\"active\", \"scheduled\"] }} parameters: - name: flight_ids type: array description: List of flight IDs to search for items: name: flight_id type: integer description: Individual flight ID - name: statuses type: array description: List of flight statuses to filter by items: name: status type: string description: Individual flight status Reference field type required description kind string true Must be “oceanbase-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"An \"oceanbase-sql\" tool executes a pre-defined SQL statement against an OceanBase database.\n","excerpt":"An \"oceanbase-sql\" tool executes a pre-defined SQL statement against …","ref":"/genai-toolbox/resources/tools/oceanbase/oceanbase-sql/","tags":"","title":"oceanbase-sql"},{"body":"","categories":"","description":"Tools that work with Postgres Sources, such as Cloud SQL for Postgres and AlloyDB. \n","excerpt":"Tools that work with Postgres Sources, such as Cloud SQL for Postgres …","ref":"/genai-toolbox/resources/tools/postgres/","tags":"","title":"Postgres"},{"body":"About A postgres-execute-sql tool executes a SQL statement against a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres postgres-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: postgres-execute-sql source: my-pg-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “postgres-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"postgres-execute-sql\" tool executes a SQL statement against a Postgres database.\n","excerpt":"A \"postgres-execute-sql\" tool executes a SQL statement against a …","ref":"/genai-toolbox/resources/tools/postgres/postgres-execute-sql/","tags":"","title":"postgres-execute-sql"},{"body":"About The postgres-list-active-queries tool retrieves information about currently active queries in a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres postgres-list-active-queries lists detailed information as JSON for currently active queries. The tool takes the following input parameters:\nmin_duraton (optional): Only show queries running at least this long (e.g., ‘1 minute’, ‘1 second’, ‘2 seconds’). Default: ‘1 minute’. exclude_application_names (optional): A comma-separated list of application names to exclude from the query results. This is useful for filtering out queries from specific applications (e.g., ‘psql’, ‘pgAdmin’, ‘DBeaver’). The match is case-sensitive. Whitespace around commas and names is automatically handled. If this parameter is omitted, no applications are excluded. limit (optional): The maximum number of rows to return. Default: 50. Example tools: list_active_queries: kind: postgres-list-active-queries source: postgres-source description: List the top N (default 50) currently running queries (state='active') from pg_stat_activity, ordered by longest-running first. Returns pid, user, database, application_name, client_addr, state, wait_event_type/wait_event, backend/xact/query start times, computed query_duration, and the SQL text. The response is a json array with the following elements:\n{ \"pid\": \"process id\", \"user\": \"database user name\", \"datname\": \"database name\", \"application_name\": \"connecting application name\", \"client_addr\": \"connecting client ip address\", \"state\": \"connection state\", \"wait_event_type\": \"connection wait event type\", \"wait_event\": \"connection wait event\", \"backend_start\": \"connection start time\", \"xact_start\": \"transaction start time\", \"query_start\": \"query start time\", \"query_duration\": \"query duration\", \"query\": \"query text\" } Reference field type required description kind string true Must be “postgres-list-active-queries”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"The \"postgres-list-active-queries\" tool lists currently active queries in a Postgres database.\n","excerpt":"The \"postgres-list-active-queries\" tool lists currently active queries …","ref":"/genai-toolbox/resources/tools/postgres/postgres-list-active-queries/","tags":"","title":"postgres-list-active-queries"},{"body":"About The postgres-list-available-extensions tool retrieves all PostgreSQL extensions available for installation on a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres postgres-list-available-extensions lists all PostgreSQL extensions available for installation (extension name, default version description) as JSON. The does not support any input parameter.\nExample tools: list_available_extensions: kind: postgres-list-available-extensions source: postgres-source description: Discover all PostgreSQL extensions available for installation on this server, returning name, default_version, and description. Reference name default_version description address_standardizer 3.5.2 Used to parse an address into constituent elements. Generally used to support geocoding address normalization step. amcheck 1.4 functions for verifying relation integrity anon 1.0.0 Data anonymization tools autoinc 1.0 functions for autoincrementing fields ","categories":"","description":"The \"postgres-list-available-extensions\" tool retrieves all PostgreSQL extensions available for installation on a Postgres database.\n","excerpt":"The \"postgres-list-available-extensions\" tool retrieves all PostgreSQL …","ref":"/genai-toolbox/resources/tools/postgres/postgres-list-available-extensions/","tags":"","title":"postgres-list-available-extensions"},{"body":"About The postgres-list-installed-extensions tool retrieves all PostgreSQL extensions installed on a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres postgres-list-installed-extensions lists all installed PostgreSQL extensions (extension name, version, schema, owner, description) as JSON. The does not support any input parameter.\nExample tools: list_installed_extensions: kind: postgres-list-installed-extensions source: postgres-source description: List all installed PostgreSQL extensions with their name, version, schema, owner, and description. Reference field type required description kind string true Must be “postgres-list-active-queries”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"The \"postgres-list-installed-extensions\" tool retrieves all PostgreSQL extensions installed on a Postgres database.\n","excerpt":"The \"postgres-list-installed-extensions\" tool retrieves all PostgreSQL …","ref":"/genai-toolbox/resources/tools/postgres/postgres-list-installed-extensions/","tags":"","title":"postgres-list-installed-extensions"},{"body":"About The postgres-list-tables tool retrieves schema information for all or specified tables in a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres postgres-list-tables lists detailed schema information (object type, columns, constraints, indexes, triggers, owner, comment) as JSON for user-created tables (ordinary or partitioned). The tool takes the following input parameters: * table_names (optional): Filters by a comma-separated list of names. By default, it lists all tables in user schemas. * output_format (optional): Indicate the output format of table schema. simple will return only the table names, detailed will return the full table information. Default: detailed.\nExample tools: postgres_list_tables: kind: postgres-list-tables source: postgres-source description: Use this tool to retrieve schema information for all or specified tables. Output format can be simple (only table names) or detailed. Reference field type required description kind string true Must be “postgres-list-tables”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the agent. ","categories":"","description":"The \"postgres-list-tables\" tool lists schema information for all or specified tables in a Postgres database.\n","excerpt":"The \"postgres-list-tables\" tool lists schema information for all or …","ref":"/genai-toolbox/resources/tools/postgres/postgres-list-tables/","tags":"","title":"postgres-list-tables"},{"body":"About A postgres-sql tool executes a pre-defined SQL statement against a Postgres database. It’s compatible with any of the following sources:\nalloydb-postgres cloud-sql-postgres postgres The specified SQL statement is executed as a prepared statement, and specified parameters will be inserted according to their position: e.g. $1 will be the first parameter specified, $2 will be the second parameter, and so on. If template parameters are included, they will be resolved before execution of the prepared statement.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: postgres-sql source: my-pg-instance statement: | SELECT * FROM flights WHERE airline = $1 AND flight_number = $2 LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: postgres-sql source: my-pg-instance statement: | SELECT * FROM {{.tableName}} description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “postgres-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"postgres-sql\" tool executes a pre-defined SQL statement against a Postgres database.\n","excerpt":"A \"postgres-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/postgres/postgres-sql/","tags":"","title":"postgres-sql"},{"body":"About PostgreSQL is a powerful, open source object-relational database system with over 35 years of active development that has earned it a strong reputation for reliability, feature robustness, and performance.\nAvailable Tools postgres-sql Execute SQL queries as prepared statements in PostgreSQL.\npostgres-execute-sql Run parameterized SQL statements in PostgreSQL.\npostgres-list-tables List tables in a PostgreSQL database.\npostgres-list-active-queries List active queries in a PostgreSQL database.\npostgres-list-available-extensions List available extensions for installation in a PostgreSQL database.\npostgres-list-installed-extensions List installed extensions in a PostgreSQL database.\nPre-built Configurations PostgreSQL using MCP Connect your IDE to PostgreSQL using Toolbox. Requirements Database User This source only uses standard authentication. You will need to create a PostgreSQL user to login to the database with.\nExample sources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: my_db user: ${USER_NAME} password: ${PASSWORD} Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “postgres”. host string true IP address to connect to (e.g. “127.0.0.1”) port string true Port to connect to (e.g. “5432”) database string true Name of the Postgres database to connect to (e.g. “my_db”). user string true Name of the Postgres user to connect as (e.g. “my-pg-user”). password string true Password of the Postgres user (e.g. “my-password”). queryParams map[string]string false Raw query to be added to the db connection string. ","categories":"","description":"PostgreSQL is a powerful, open source object-relational database.\n","excerpt":"PostgreSQL is a powerful, open source object-relational database.\n","ref":"/genai-toolbox/resources/sources/postgres/","tags":"","title":"PostgreSQL"},{"body":"Prebuilt tools are reusable, pre-packaged toolsets that are designed to extend the capabilities of agents. These tools are built to be generic and adaptable, allowing developers to interact with and take action on databases.\nSee guides, Connect from your IDE, for details on how to connect your AI tools (IDEs) to databases via Toolbox and MCP.\nAlloyDB Postgres --prebuilt value: alloydb-postgres Environment Variables: ALLOYDB_POSTGRES_PROJECT: The GCP project ID. ALLOYDB_POSTGRES_REGION: The region of your AlloyDB instance. ALLOYDB_POSTGRES_CLUSTER: The ID of your AlloyDB cluster. ALLOYDB_POSTGRES_INSTANCE: The ID of your AlloyDB instance. ALLOYDB_POSTGRES_DATABASE: The name of the database to connect to. ALLOYDB_POSTGRES_USER: (Optional) The database username. Defaults to IAM authentication if unspecified. ALLOYDB_POSTGRES_PASSWORD: (Optional) The password for the database user. Defaults to IAM authentication if unspecified. ALLOYDB_POSTGRES_IP_TYPE: (Optional) The IP type i.e. “Public” or “Private” (Default: Public). Permissions: AlloyDB Client (roles/alloydb.client) to connect to the instance. Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. list_autovacuum_configurations: Lists autovacuum configurations in the database. list_memory_configurations: Lists memory-related configurations in the database. list_top_bloated_tables: List top bloated tables in the database. list_replication_slots: Lists replication slots in the database. list_invalid_indexes: Lists invalid indexes in the database. get_query_plan: Generate the execution plan of a statement. AlloyDB Postgres Admin --prebuilt value: alloydb-postgres-admin Permissions: AlloyDB Viewer (roles/alloydb.viewer) is required for list and get tools. AlloyDB Admin (roles/alloydb.admin) is required for create tools. Tools: create_cluster: Creates a new AlloyDB cluster. list_clusters: Lists all AlloyDB clusters in a project. get_cluster: Gets information about a specified AlloyDB cluster. create_instance: Creates a new AlloyDB instance within a cluster. list_instances: Lists all instances within an AlloyDB cluster. get_instance: Gets information about a specified AlloyDB instance. create_user: Creates a new database user in an AlloyDB cluster. list_users: Lists all database users within an AlloyDB cluster. get_user: Gets information about a specified database user in an AlloyDB cluster. wait_for_operation: Polls the operations API to track the status of long-running operations. AlloyDB Postgres Observability --prebuilt value: alloydb-postgres-observability Permissions: Monitoring Viewer (roles/monitoring.viewer) is required on the project to view monitoring data. Tools: get_system_metrics: Fetches system level cloud monitoring data (timeseries metrics) for an AlloyDB instance using a PromQL query. get_query_metrics: Fetches query level cloud monitoring data (timeseries metrics) for queries running in an AlloyDB instance using a PromQL query. BigQuery --prebuilt value: bigquery Environment Variables: BIGQUERY_PROJECT: The GCP project ID. BIGQUERY_LOCATION: (Optional) The dataset location. Permissions: BigQuery User (roles/bigquery.user) to execute queries and view metadata. BigQuery Metadata Viewer (roles/bigquery.metadataViewer) to view all datasets. BigQuery Data Editor (roles/bigquery.dataEditor) to create or modify datasets and tables. Gemini for Google Cloud (roles/cloudaicompanion.user) to use the conversational analytics API. Tools: analyze_contribution: Use this tool to perform contribution analysis, also called key driver analysis. ask_data_insights: Use this tool to perform data analysis, get insights, or answer complex questions about the contents of specific BigQuery tables. For more information on required roles, API setup, and IAM configuration, see the setup and authentication section of the Conversational Analytics API documentation. execute_sql: Executes a SQL statement. forecast: Use this tool to forecast time series data. get_dataset_info: Gets dataset metadata. get_table_info: Gets table metadata. list_dataset_ids: Lists datasets. list_table_ids: Lists tables. search_catalog: Search for entries based on the provided query. Cloud SQL for MySQL --prebuilt value: cloud-sql-mysql Environment Variables: CLOUD_SQL_MYSQL_PROJECT: The GCP project ID. CLOUD_SQL_MYSQL_REGION: The region of your Cloud SQL instance. CLOUD_SQL_MYSQL_INSTANCE: The ID of your Cloud SQL instance. CLOUD_SQL_MYSQL_DATABASE: The name of the database to connect to. CLOUD_SQL_MYSQL_USER: The database username. CLOUD_SQL_MYSQL_PASSWORD: The password for the database user. CLOUD_SQL_MYSQL_IP_TYPE: The IP type i.e. “Public or “Private” (Default: Public). Permissions: Cloud SQL Client (roles/cloudsql.client) to connect to the instance. Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. get_query_plan: Provides information about how MySQL executes a SQL statement. list_active_queries: Lists ongoing queries. list_tables_missing_unique_indexes: Looks for tables that do not have primary or unique key contraint. list_table_fragmentation: Displays table fragmentation in MySQL. Cloud SQL for MySQL Observability --prebuilt value: cloud-sql-mysql-observability Permissions: Monitoring Viewer (roles/monitoring.viewer) is required on the project to view monitoring data. Tools: get_system_metrics: Fetches system level cloud monitoring data (timeseries metrics) for a MySQL instance using a PromQL query. get_query_metrics: Fetches query level cloud monitoring data (timeseries metrics) for queries running in a MySQL instance using a PromQL query. Cloud SQL for MySQL Admin --prebuilt value: cloud-sql-mysql-admin Permissions: Cloud SQL Viewer (roles/cloudsql.viewer): Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation Cloud SQL Editor (roles/cloudsql.editor): Provides permissions to manage existing resources. All viewer tools create_database Cloud SQL Admin (roles/cloudsql.admin): Provides full control over all resources. All editor and viewer tools create_instance create_user Tools: create_instance: Creates a new Cloud SQL for MySQL instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Cloud SQL for PostgreSQL --prebuilt value: cloud-sql-postgres Environment Variables: CLOUD_SQL_POSTGRES_PROJECT: The GCP project ID. CLOUD_SQL_POSTGRES_REGION: The region of your Cloud SQL instance. CLOUD_SQL_POSTGRES_INSTANCE: The ID of your Cloud SQL instance. CLOUD_SQL_POSTGRES_DATABASE: The name of the database to connect to. CLOUD_SQL_POSTGRES_USER: (Optional) The database username. Defaults to IAM authentication if unspecified. CLOUD_SQL_POSTGRES_PASSWORD: (Optional) The password for the database user. Defaults to IAM authentication if unspecified. CLOUD_SQL_POSTGRES_IP_TYPE: (Optional) The IP type i.e. “Public” or “Private” (Default: Public). Permissions: Cloud SQL Client (roles/cloudsql.client) to connect to the instance. Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. list_autovacuum_configurations: Lists autovacuum configurations in the database. list_memory_configurations: Lists memory-related configurations in the database. list_top_bloated_tables: List top bloated tables in the database. list_replication_slots: Lists replication slots in the database. list_invalid_indexes: Lists invalid indexes in the database. get_query_plan: Generate the execution plan of a statement. Cloud SQL for PostgreSQL Observability --prebuilt value: cloud-sql-postgres-observability Permissions: Monitoring Viewer (roles/monitoring.viewer) is required on the project to view monitoring data. Tools: get_system_metrics: Fetches system level cloud monitoring data (timeseries metrics) for a Postgres instance using a PromQL query. get_query_metrics: Fetches query level cloud monitoring data (timeseries metrics) for queries running in Postgres instance using a PromQL query. Cloud SQL for PostgreSQL Admin --prebuilt value: cloud-sql-postgres-admin Permissions: Cloud SQL Viewer (roles/cloudsql.viewer): Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation Cloud SQL Editor (roles/cloudsql.editor): Provides permissions to manage existing resources. All viewer tools create_database Cloud SQL Admin (roles/cloudsql.admin): Provides full control over all resources. All editor and viewer tools create_instance create_user Tools: create_instance: Creates a new Cloud SQL for PostgreSQL instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Cloud SQL for SQL Server --prebuilt value: cloud-sql-mssql Environment Variables: CLOUD_SQL_MSSQL_PROJECT: The GCP project ID. CLOUD_SQL_MSSQL_REGION: The region of your Cloud SQL instance. CLOUD_SQL_MSSQL_INSTANCE: The ID of your Cloud SQL instance. CLOUD_SQL_MSSQL_DATABASE: The name of the database to connect to. CLOUD_SQL_MSSQL_IP_ADDRESS: The IP address of the Cloud SQL instance. CLOUD_SQL_MSSQL_USER: The database username. CLOUD_SQL_MSSQL_PASSWORD: The password for the database user. CLOUD_SQL_MSSQL_IP_TYPE: (Optional) The IP type i.e. “Public” or “Private” (Default: Public). Permissions: Cloud SQL Client (roles/cloudsql.client) to connect to the instance. Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. Cloud SQL for SQL Server Observability --prebuilt value: cloud-sql-mssql-observability Permissions: Monitoring Viewer (roles/monitoring.viewer) is required on the project to view monitoring data. Tools: get_system_metrics: Fetches system level cloud monitoring data (timeseries metrics) for a SQL Server instance using a PromQL query. Cloud SQL for SQL Server Admin --prebuilt value: cloud-sql-mssql-admin Permissions: Cloud SQL Viewer (roles/cloudsql.viewer): Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation Cloud SQL Editor (roles/cloudsql.editor): Provides permissions to manage existing resources. All viewer tools create_database Cloud SQL Admin (roles/cloudsql.admin): Provides full control over all resources. All editor and viewer tools create_instance create_user Tools: create_instance: Creates a new Cloud SQL for SQL Server instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Dataplex --prebuilt value: dataplex Environment Variables: DATAPLEX_PROJECT: The GCP project ID. Permissions: Dataplex Reader (roles/dataplex.viewer) to search and look up entries. Dataplex Editor (roles/dataplex.editor) to modify entries. Tools: dataplex_search_entries: Searches for entries in Dataplex Catalog. dataplex_lookup_entry: Retrieves a specific entry from Dataplex Catalog. dataplex_search_aspect_types: Finds aspect types relevant to the query. Firestore --prebuilt value: firestore Environment Variables: FIRESTORE_PROJECT: The GCP project ID. FIRESTORE_DATABASE: (Optional) The Firestore database ID. Defaults to “(default)”. Permissions: Cloud Datastore User (roles/datastore.user) to get documents, list collections, and query collections. Firebase Rules Viewer (roles/firebaserules.viewer) to get and validate Firestore rules. Tools: get_documents: Gets multiple documents from Firestore by their paths. add_documents: Adds a new document to a Firestore collection. update_document: Updates an existing document in Firestore. list_collections: Lists Firestore collections for a given parent path. delete_documents: Deletes multiple documents from Firestore. query_collection: Retrieves one or more Firestore documents from a collection. get_rules: Retrieves the active Firestore security rules. validate_rules: Checks the provided Firestore Rules source for syntax and validation errors. Looker --prebuilt value: looker Environment Variables: LOOKER_BASE_URL: The URL of your Looker instance. LOOKER_CLIENT_ID: The client ID for the Looker API. LOOKER_CLIENT_SECRET: The client secret for the Looker API. LOOKER_VERIFY_SSL: Whether to verify SSL certificates. LOOKER_USE_CLIENT_OAUTH: Whether to use OAuth for authentication. LOOKER_SHOW_HIDDEN_MODELS: Whether to show hidden models. LOOKER_SHOW_HIDDEN_EXPLORES: Whether to show hidden explores. LOOKER_SHOW_HIDDEN_FIELDS: Whether to show hidden fields. Permissions: A Looker account with permissions to access the desired models, explores, and data is required. Tools: get_models: Retrieves the list of LookML models. get_explores: Retrieves the list of explores in a model. get_dimensions: Retrieves the list of dimensions in an explore. get_measures: Retrieves the list of measures in an explore. get_filters: Retrieves the list of filters in an explore. get_parameters: Retrieves the list of parameters in an explore. query: Runs a query against the LookML model. query_sql: Generates the SQL for a query. query_url: Generates a URL for a query in Looker. get_looks: Searches for saved looks. run_look: Runs the query associated with a look. make_look: Creates a new look. get_dashboards: Searches for saved dashboards. make_dashboard: Creates a new dashboard. add_dashboard_element: Adds a tile to a dashboard. health_pulse: Test the health of a Looker instance. health_analyze: Analyze the LookML usage of a Looker instance. health_vacuum: Suggest LookML elements that can be removed. Looker Conversational Analytics --prebuilt value: looker-conversational-analytics Environment Variables: LOOKER_BASE_URL: The URL of your Looker instance. LOOKER_CLIENT_ID: The client ID for the Looker API. LOOKER_CLIENT_SECRET: The client secret for the Looker API. LOOKER_VERIFY_SSL: Whether to verify SSL certificates. LOOKER_USE_CLIENT_OAUTH: Whether to use OAuth for authentication. LOOKER_PROJECT: The GCP Project to use for Conversational Analytics. LOOKER_LOCATION: The GCP Location to use for Conversational Analytics. Permissions: A Looker account with permissions to access the desired models, explores, and data is required. Looker Instance User (roles/looker.instanceUser): IAM role to access Looker. Gemini for Google Cloud User (roles/cloudaicompanion.user): IAM role to access Conversational Analytics. Gemini Data Analytics Stateless Chat User (Beta) (roles/geminidataanalytics.dataAgentStatelessUser): IAM role to access Conversational Analytics. Tools: ask_data_insights: Ask a question of the data. get_models: Retrieves the list of LookML models. get_explores: Retrieves the list of explores in a model. Microsoft SQL Server --prebuilt value: mssql Environment Variables: MSSQL_HOST: The hostname or IP address of the SQL Server instance. MSSQL_PORT: The port number for the SQL Server instance. MSSQL_DATABASE: The name of the database to connect to. MSSQL_USER: The database username. MSSQL_PASSWORD: The password for the database user. Permissions: Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. MySQL --prebuilt value: mysql Environment Variables: MYSQL_HOST: The hostname or IP address of the MySQL server. MYSQL_PORT: The port number for the MySQL server. MYSQL_DATABASE: The name of the database to connect to. MYSQL_USER: The database username. MYSQL_PASSWORD: The password for the database user. Permissions: Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. get_query_plan: Provides information about how MySQL executes a SQL statement. list_active_queries: Lists ongoing queries. list_tables_missing_unique_indexes: Looks for tables that do not have primary or unique key contraint. list_table_fragmentation: Displays table fragmentation in MySQL. OceanBase --prebuilt value: oceanbase Environment Variables: OCEANBASE_HOST: The hostname or IP address of the OceanBase server. OCEANBASE_PORT: The port number for the OceanBase server. OCEANBASE_DATABASE: The name of the database to connect to. OCEANBASE_USER: The database username. OCEANBASE_PASSWORD: The password for the database user. Permissions: Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. PostgreSQL --prebuilt value: postgres Environment Variables: POSTGRES_HOST: The hostname or IP address of the PostgreSQL server. POSTGRES_PORT: The port number for the PostgreSQL server. POSTGRES_DATABASE: The name of the database to connect to. POSTGRES_USER: The database username. POSTGRES_PASSWORD: The password for the database user. POSTGRES_QUERY_PARAMS: (Optional) Raw query to be added to the db connection string. Permissions: Database-level permissions (e.g., SELECT, INSERT) are required to execute queries. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. list_autovacuum_configurations: Lists autovacuum configurations in the database. list_memory_configurations: Lists memory-related configurations in the database. list_top_bloated_tables: List top bloated tables in the database. list_replication_slots: Lists replication slots in the database. list_invalid_indexes: Lists invalid indexes in the database. get_query_plan: Generate the execution plan of a statement. Spanner (GoogleSQL dialect) --prebuilt value: spanner Environment Variables: SPANNER_PROJECT: The GCP project ID. SPANNER_INSTANCE: The Spanner instance ID. SPANNER_DATABASE: The Spanner database ID. Permissions: Cloud Spanner Database Reader (roles/spanner.databaseReader) to execute DQL queries and list tables. Cloud Spanner Database User (roles/spanner.databaseUser) to execute DML queries. Tools: execute_sql: Executes a DML SQL query. execute_sql_dql: Executes a DQL SQL query. list_tables: Lists tables in the database. Spanner (PostgreSQL dialect) --prebuilt value: spanner-postgres Environment Variables: SPANNER_PROJECT: The GCP project ID. SPANNER_INSTANCE: The Spanner instance ID. SPANNER_DATABASE: The Spanner database ID. Permissions: Cloud Spanner Database Reader (roles/spanner.databaseReader) to execute DQL queries and list tables. Cloud Spanner Database User (roles/spanner.databaseUser) to execute DML queries. Tools: execute_sql: Executes a DML SQL query using the PostgreSQL interface for Spanner. execute_sql_dql: Executes a DQL SQL query using the PostgreSQL interface for Spanner. list_tables: Lists tables in the database. SQLite --prebuilt value: sqlite Environment Variables: SQLITE_DATABASE: The path to the SQLite database file (e.g., ./sample.db). Permissions: File system read/write permissions for the specified database file. Tools: execute_sql: Executes a SQL query. list_tables: Lists tables in the database. Neo4j --prebuilt value: neo4j Environment Variables: NEO4J_URI: The URI of the Neo4j instance (e.g., bolt://localhost:7687). NEO4J_DATABASE: The name of the Neo4j database to connect to. NEO4J_USERNAME: The username for the Neo4j instance. NEO4J_PASSWORD: The password for the Neo4j instance. Permissions: Database-level permissions are required to execute Cypher queries. Tools: execute_cypher: Executes a Cypher query. get_schema: Retrieves the schema of the Neo4j database. ","categories":"","description":"This page lists all the prebuilt tools available.\n","excerpt":"This page lists all the prebuilt tools available.\n","ref":"/genai-toolbox/reference/prebuilt-tools/","tags":"","title":"Prebuilt Tools"},{"body":"\nBefore you begin This guide assumes you have already done the following:\nInstalled Python 3.9+ (including pip and your preferred virtual environment tool for managing dependencies e.g. venv).\nInstalled and configured the Google Cloud SDK (gcloud CLI).\nAuthenticated with Google Cloud for Application Default Credentials (ADC):\ngcloud auth login --update-adc Set your default Google Cloud project (replace YOUR_PROJECT_ID with your actual project ID):\ngcloud config set project YOUR_PROJECT_ID export GOOGLE_CLOUD_PROJECT=YOUR_PROJECT_ID Toolbox and the client libraries will use this project for BigQuery, unless overridden in configurations.\nEnabled the BigQuery API in your Google Cloud project.\nInstalled the BigQuery client library for Python:\npip install google-cloud-bigquery Completed setup for usage with an LLM model such as Core LangChain LlamaIndex ADK langchain-vertexai package.\nlangchain-google-genai package.\nlangchain-anthropic package.\nlangchain-vertexai package.\nlangchain-google-genai package.\nlangchain-anthropic package.\nllama-index-llms-google-genai package.\nllama-index-llms-anthropic package.\ngoogle-adk package. Step 1: Set up your BigQuery Dataset and Table In this section, we will create a BigQuery dataset and a table, then insert some data that needs to be accessed by our agent. BigQuery operations are performed against your configured Google Cloud project.\nCreate a new BigQuery dataset (replace YOUR_DATASET_NAME with your desired dataset name, e.g., toolbox_ds, and optionally specify a location like US or EU):\nexport BQ_DATASET_NAME=\"YOUR_DATASET_NAME\" # e.g., toolbox_ds export BQ_LOCATION=\"US\" # e.g., US, EU, asia-northeast1 bq --location=$BQ_LOCATION mk $BQ_DATASET_NAME You can also do this through the Google Cloud Console.\nTip\nFor a real application, ensure that the service account or user running Toolbox has the necessary IAM permissions (e.g., BigQuery Data Editor, BigQuery User) on the dataset or project. For this local quickstart with user credentials, your own permissions will apply.\nThe hotels table needs to be defined in your new dataset for use with the bq query command. First, create a file named create_hotels_table.sql with the following content:\nCREATE TABLE IF NOT EXISTS `YOUR_PROJECT_ID.YOUR_DATASET_NAME.hotels` ( id INT64 NOT NULL, name STRING NOT NULL, location STRING NOT NULL, price_tier STRING NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BOOLEAN NOT NULL ); Note: Replace YOUR_PROJECT_ID and YOUR_DATASET_NAME in the SQL with your actual project ID and dataset name.\nThen run the command below to execute the sql query:\nbq query --project_id=$GOOGLE_CLOUD_PROJECT --dataset_id=$BQ_DATASET_NAME --use_legacy_sql=false \u003c create_hotels_table.sql Next, populate the hotels table with some initial data. To do this, create a file named insert_hotels_data.sql and add the following SQL INSERT statement to it.\nINSERT INTO `YOUR_PROJECT_ID.YOUR_DATASET_NAME.hotels` (id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-20', '2024-04-22', FALSE), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', FALSE), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', FALSE), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-05', '2024-04-24', FALSE), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-01', '2024-04-23', FALSE), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', FALSE), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-02', '2024-04-27', FALSE), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-09', '2024-04-24', FALSE), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', FALSE), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', FALSE); Note: Replace YOUR_PROJECT_ID and YOUR_DATASET_NAME in the SQL with your actual project ID and dataset name.\nThen run the command below to execute the sql query:\nbq query --project_id=$GOOGLE_CLOUD_PROJECT --dataset_id=$BQ_DATASET_NAME --use_legacy_sql=false \u003c insert_hotels_data.sql Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml to use BigQuery, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. You must replace the YOUR_PROJECT_ID and YOUR_DATASET_NAME placeholder in the config with your actual BigQuery project and dataset name. The location field is optional; if not specified, it defaults to ‘us’. The table name hotels is used directly in the statements.\nTip\nAuthentication with BigQuery is handled via Application Default Credentials (ADC). Ensure you have run gcloud auth application-default login.\nsources: my-bigquery-source: kind: bigquery project: YOUR_PROJECT_ID location: us tools: search-hotels-by-name: kind: bigquery-sql source: my-bigquery-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM `YOUR_DATASET_NAME.hotels` WHERE LOWER(name) LIKE LOWER(CONCAT('%', @name, '%')); search-hotels-by-location: kind: bigquery-sql source: my-bigquery-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM `YOUR_DATASET_NAME.hotels` WHERE LOWER(location) LIKE LOWER(CONCAT('%', @location, '%')); book-hotel: kind: bigquery-sql source: my-bigquery-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: integer description: The ID of the hotel to book. statement: UPDATE `YOUR_DATASET_NAME.hotels` SET booked = TRUE WHERE id = @hotel_id; update-hotel: kind: bigquery-sql source: my-bigquery-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. - name: hotel_id type: integer description: The ID of the hotel to update. statement: \u003e- UPDATE `YOUR_DATASET_NAME.hotels` SET checkin_date = PARSE_DATE('%Y-%m-%d', @checkin_date), checkout_date = PARSE_DATE('%Y-%m-%d', @checkout_date) WHERE id = @hotel_id; cancel-hotel: kind: bigquery-sql source: my-bigquery-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: integer description: The ID of the hotel to cancel. statement: UPDATE `YOUR_DATASET_NAME.hotels` SET booked = FALSE WHERE id = @hotel_id; Important Note on toolsets: The tools.yaml content above does not include a toolsets section. The Python agent examples in Step 3 (e.g., await toolbox_client.load_toolset(\"my-toolset\")) rely on a toolset named my-toolset. To make those examples work, you will need to add a toolsets section to your tools.yaml file, for example:\n# Add this to your tools.yaml if using load_toolset(\"my-toolset\") # Ensure it's at the same indentation level as 'sources:' and 'tools:' toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel Alternatively, you can modify the agent code to load tools individually (e.g., using await toolbox_client.load_tool(\"search-hotels-by-name\")).\nFor more info on tools, check out the Resources section of the docs.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Note\nToolbox enables dynamic reloading by default. To disable, use the `--disable-reload` flag. Step 3: Connect your agent to Toolbox In this section, we will write and run an agent that will load the Tools from Toolbox.\nTip\nIf you prefer to experiment within a Google Colab environment, you can connect to a local runtime.\nIn a new terminal, install the SDK package.\nCore Langchain LlamaIndex ADK pip install toolbox-core pip install toolbox-langchain pip install toolbox-llamaindex pip install google-adk Install other required dependencies:\nCore Langchain LlamaIndex ADK # TODO(developer): replace with correct package if needed pip install langgraph langchain-google-vertexai # pip install langchain-google-genai # pip install langchain-anthropic # TODO(developer): replace with correct package if needed pip install langgraph langchain-google-vertexai # pip install langchain-google-genai # pip install langchain-anthropic # TODO(developer): replace with correct package if needed pip install llama-index-llms-google-genai # pip install llama-index-llms-anthropic pip install toolbox-core Create a new file named hotel_agent.py and copy the following code to create an agent: Core LangChain LlamaIndex ADK import asyncio from google import genai from google.genai.types import ( Content, FunctionDeclaration, GenerateContentConfig, Part, Tool, ) from toolbox_core import ToolboxClient prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel id while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in it's name.\", \"Please book the hotel Hilton Basel for me.\", \"This is too expensive. Please cancel it.\", \"Please book Hyatt Regency for me\", \"My check in dates for my booking would be from April 10, 2024 to April 19, 2024.\", ] async def run_application(): async with ToolboxClient(\"\u003chttp://127.0.0.1:5000\u003e\") as toolbox_client: # The toolbox_tools list contains Python callables (functions/methods) designed for LLM tool-use # integration. While this example uses Google's genai client, these callables can be adapted for # various function-calling or agent frameworks. For easier integration with supported frameworks # (https://github.com/googleapis/mcp-toolbox-python-sdk/tree/main/packages), use the # provided wrapper packages, which handle framework-specific boilerplate. toolbox_tools = await toolbox_client.load_toolset(\"my-toolset\") genai_client = genai.Client( vertexai=True, project=\"project-id\", location=\"us-central1\" ) genai_tools = [ Tool( function_declarations=[ FunctionDeclaration.from_callable_with_api_option(callable=tool) ] ) for tool in toolbox_tools ] history = [] for query in queries: user_prompt_content = Content( role=\"user\", parts=[Part.from_text(text=query)], ) history.append(user_prompt_content) response = genai_client.models.generate_content( model=\"gemini-2.0-flash-001\", contents=history, config=GenerateContentConfig( system_instruction=prompt, tools=genai_tools, ), ) history.append(response.candidates[0].content) function_response_parts = [] for function_call in response.function_calls: fn_name = function_call.name # The tools are sorted alphabetically if fn_name == \"search-hotels-by-name\": function_result = await toolbox_tools[3](**function_call.args) elif fn_name == \"search-hotels-by-location\": function_result = await toolbox_tools[2](**function_call.args) elif fn_name == \"book-hotel\": function_result = await toolbox_tools[0](**function_call.args) elif fn_name == \"update-hotel\": function_result = await toolbox_tools[4](**function_call.args) elif fn_name == \"cancel-hotel\": function_result = await toolbox_tools[1](**function_call.args) else: raise ValueError(\"Function name not present.\") function_response = {\"result\": function_result} function_response_part = Part.from_function_response( name=function_call.name, response=function_response, ) function_response_parts.append(function_response_part) if function_response_parts: tool_response_content = Content(role=\"tool\", parts=function_response_parts) history.append(tool_response_content) response2 = genai_client.models.generate_content( model=\"gemini-2.0-flash-001\", contents=history, config=GenerateContentConfig( tools=genai_tools, ), ) final_model_response_content = response2.candidates[0].content history.append(final_model_response_content) print(response2.text) asyncio.run(run_application()) import asyncio from langgraph.prebuilt import create_react_agent # TODO(developer): replace this with another import if needed from langchain_google_vertexai import ChatVertexAI # from langchain_google_genai import ChatGoogleGenerativeAI # from langchain_anthropic import ChatAnthropic from langgraph.checkpoint.memory import MemorySaver from toolbox_langchain import ToolboxClient prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] async def main(): # TODO(developer): replace this with another model if needed model = ChatVertexAI(model_name=\"gemini-2.0-flash-001\") # model = ChatGoogleGenerativeAI(model=\"gemini-2.0-flash-001\") # model = ChatAnthropic(model=\"claude-3-5-sonnet-20240620\") # Load the tools from the Toolbox server client = ToolboxClient(\"http://127.0.0.1:5000\") tools = await client.aload_toolset() agent = create_react_agent(model, tools, checkpointer=MemorySaver()) config = {\"configurable\": {\"thread_id\": \"thread-1\"}} for query in queries: inputs = {\"messages\": [(\"user\", prompt + query)]} response = await agent.ainvoke(inputs, stream_mode=\"values\", config=config) print(response[\"messages\"][-1].content) asyncio.run(main()) import asyncio import os from llama_index.core.agent.workflow import AgentWorkflow from llama_index.core.workflow import Context # TODO(developer): replace this with another import if needed from llama_index.llms.google_genai import GoogleGenAI # from llama_index.llms.anthropic import Anthropic from toolbox_llamaindex import ToolboxClient prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in it's name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] async def main(): # TODO(developer): replace this with another model if needed llm = GoogleGenAI( model=\"gemini-2.0-flash-001\", vertexai_config={\"location\": \"us-central1\"}, ) # llm = GoogleGenAI( # api_key=os.getenv(\"GOOGLE_API_KEY\"), # model=\"gemini-2.0-flash-001\", # ) # llm = Anthropic( # model=\"claude-3-7-sonnet-latest\", # api_key=os.getenv(\"ANTHROPIC_API_KEY\") # ) # Load the tools from the Toolbox server client = ToolboxClient(\"http://127.0.0.1:5000\") tools = await client.aload_toolset() agent = AgentWorkflow.from_tools_or_functions( tools, llm=llm, system_prompt=prompt, ) ctx = Context(agent) for query in queries: response = await agent.arun(user_msg=query, ctx=ctx) print(f\"---- {query} ----\") print(str(response)) asyncio.run(main()) from google.adk.agents import Agent from google.adk.runners import Runner from google.adk.sessions import InMemorySessionService from google.adk.artifacts.in_memory_artifact_service import InMemoryArtifactService from google.genai import types # For constructing message content from toolbox_core import ToolboxSyncClient import os os.environ['GOOGLE_GENAI_USE_VERTEXAI'] = 'True' # TODO(developer): Replace 'YOUR_PROJECT_ID' with your Google Cloud Project ID os.environ['GOOGLE_CLOUD_PROJECT'] = 'YOUR_PROJECT_ID' # TODO(developer): Replace 'us-central1' with your Google Cloud Location (region) os.environ['GOOGLE_CLOUD_LOCATION'] = 'us-central1' # --- Load Tools from Toolbox --- # TODO(developer): Ensure the Toolbox server is running at \u003chttp://127.0.0.1:5000\u003e with ToolboxSyncClient(\"\u003chttp://127.0.0.1:5000\u003e\") as toolbox_client: # TODO(developer): Replace \"my-toolset\" with the actual ID of your toolset as configured in your MCP Toolbox server. agent_toolset = toolbox_client.load_toolset(\"my-toolset\") # --- Define the Agent's Prompt --- prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" # --- Configure the Agent --- root_agent = Agent( model='gemini-2.0-flash-001', name='hotel_agent', description='A helpful AI assistant that can search and book hotels.', instruction=prompt, tools=agent_toolset, # Pass the loaded toolset ) # --- Initialize Services for Running the Agent --- session_service = InMemorySessionService() artifacts_service = InMemoryArtifactService() # Create a new session for the interaction. session = session_service.create_session( state={}, app_name='hotel_agent', user_id='123' ) runner = Runner( app_name='hotel_agent', agent=root_agent, artifact_service=artifacts_service, session_service=session_service, ) # --- Define Queries and Run the Agent --- queries = [ \"Find hotels in Basel with Basel in it's name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] for query in queries: content = types.Content(role='user', parts=[types.Part(text=query)]) events = runner.run(session_id=session.id, user_id='123', new_message=content) responses = ( part.text for event in events for part in event.content.parts if part.text is not None ) for text in responses: print(text) Core Langchain LlamaIndex ADK To learn more about the Core SDK, check out the Toolbox Core SDK documentation.\nTo learn more about Agents in LangChain, check out the LangGraph Agent documentation.\nTo learn more about Agents in LlamaIndex, check out the LlamaIndex AgentWorkflow documentation.\nTo learn more about Agents in ADK, check out the ADK documentation.\nRun your agent, and observe the results:\npython hotel_agent.py ","categories":"","description":"How to get started running Toolbox locally with Python, BigQuery, and LangGraph, LlamaIndex, or ADK.\n","excerpt":"How to get started running Toolbox locally with Python, BigQuery, and …","ref":"/genai-toolbox/samples/bigquery/local_quickstart/","tags":"","title":"Quickstart (Local with BigQuery)"},{"body":"Overview Model Context Protocol is an open protocol that standardizes how applications provide context to LLMs. Check out this page on how to connect to Toolbox via MCP.\nBefore you begin This guide assumes you have already done the following:\nCreate a AlloyDB cluster and instance with a database and user.\nConnect to the instance using AlloyDB Studio, psql command-line tool, or any other PostgreSQL client.\nEnable the pgvector and google_ml_integration extensions. These are required for Semantic Search and Natural Language to SQL tools. Run the following SQL commands:\nCREATE EXTENSION IF NOT EXISTS \"vector\"; CREATE EXTENSION IF NOT EXISTS \"google_ml_integration\"; CREATE EXTENSION IF NOT EXISTS alloydb_ai_nl cascade; CREATE EXTENSION IF NOT EXISTS parameterized_views; Step 1: Set up your AlloyDB database In this section, we will create the necessary tables and functions in your AlloyDB instance.\nCreate tables using the following commands:\nCREATE TABLE products ( product_id SERIAL PRIMARY KEY, name VARCHAR(255) NOT NULL, description TEXT, price DECIMAL(10, 2) NOT NULL, category_id INT, embedding vector(3072) -- Vector size for model(gemini-embedding-001) ); CREATE TABLE customers ( customer_id SERIAL PRIMARY KEY, name VARCHAR(255) NOT NULL, email VARCHAR(255) UNIQUE NOT NULL ); CREATE TABLE cart ( cart_id SERIAL PRIMARY KEY, customer_id INT UNIQUE NOT NULL, created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (customer_id) REFERENCES customers(customer_id) ); CREATE TABLE cart_items ( cart_item_id SERIAL PRIMARY KEY, cart_id INT NOT NULL, product_id INT NOT NULL, quantity INT NOT NULL, price DECIMAL(10, 2) NOT NULL, FOREIGN KEY (cart_id) REFERENCES cart(cart_id), FOREIGN KEY (product_id) REFERENCES products(product_id) ); CREATE TABLE categories ( category_id SERIAL PRIMARY KEY, name VARCHAR(255) NOT NULL ); Insert sample data into the tables:\nINSERT INTO categories (category_id, name) VALUES (1, 'Flowers'), (2, 'Vases'); INSERT INTO products (product_id, name, description, price, category_id, embedding) VALUES (1, 'Rose', 'A beautiful red rose', 2.50, 1, embedding('gemini-embedding-001', 'A beautiful red rose')), (2, 'Tulip', 'A colorful tulip', 1.50, 1, embedding('gemini-embedding-001', 'A colorful tulip')), (3, 'Glass Vase', 'A transparent glass vase', 10.00, 2, embedding('gemini-embedding-001', 'A transparent glass vase')), (4, 'Ceramic Vase', 'A handmade ceramic vase', 15.00, 2, embedding('gemini-embedding-001', 'A handmade ceramic vase')); INSERT INTO customers (customer_id, name, email) VALUES (1, 'John Doe', 'john.doe@example.com'), (2, 'Jane Smith', 'jane.smith@example.com'); INSERT INTO cart (cart_id, customer_id) VALUES (1, 1), (2, 2); INSERT INTO cart_items (cart_id, product_id, quantity, price) VALUES (1, 1, 2, 2.50), (1, 3, 1, 10.00), (2, 2, 5, 1.50); Step 2: Install Toolbox In this section, we will download and install the Toolbox binary.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 export VERSION=\"0.16.0\" curl -O https://storage.googleapis.com/genai-toolbox/v$VERSION/$OS/toolbox Make the binary executable:\nchmod +x toolbox Step 3: Configure the tools Create a tools.yaml file and add the following content. You must replace the placeholders with your actual AlloyDB configuration.\nFirst, define the data source for your tools. This tells Toolbox how to connect to your AlloyDB instance.\nsources: alloydb-pg-source: kind: alloydb-postgres project: YOUR_PROJECT_ID region: YOUR_REGION cluster: YOUR_CLUSTER instance: YOUR_INSTANCE database: YOUR_DATABASE user: YOUR_USER password: YOUR_PASSWORD Next, define the tools the agent can use. We will categorize them into three types:\n1. Structured Queries Tools These tools execute predefined SQL statements. They are ideal for common, structured queries like managing a shopping cart. Add the following to your tools.yaml file:\ntools: access-cart-information: kind: postgres-sql source: alloydb-pg-source description: \u003e- List items in customer cart. Use this tool to list items in a customer cart. This tool requires the cart ID. parameters: - name: cart_id type: integer description: The id of the cart. statement: | SELECT p.name AS product_name, ci.quantity, ci.price AS item_price, (ci.quantity * ci.price) AS total_item_price, c.created_at AS cart_created_at, ci.product_id AS product_id FROM cart_items ci JOIN cart c ON ci.cart_id = c.cart_id JOIN products p ON ci.product_id = p.product_id WHERE c.cart_id = $1; add-to-cart: kind: postgres-sql source: alloydb-pg-source description: \u003e- Add items to customer cart using the product ID and product prices from the product list. Use this tool to add items to a customer cart. This tool requires the cart ID, product ID, quantity, and price. parameters: - name: cart_id type: integer description: The id of the cart. - name: product_id type: integer description: The id of the product. - name: quantity type: integer description: The quantity of items to add. - name: price type: float description: The price of items to add. statement: | INSERT INTO cart_items (cart_id, product_id, quantity, price) VALUES($1,$2,$3,$4); delete-from-cart: kind: postgres-sql source: alloydb-pg-source description: \u003e- Remove products from customer cart. Use this tool to remove products from a customer cart. This tool requires the cart ID and product ID. parameters: - name: cart_id type: integer description: The id of the cart. - name: product_id type: integer description: The id of the product. statement: | DELETE FROM cart_items WHERE cart_id = $1 AND product_id = $2; 2. Semantic Search Tools These tools use vector embeddings to find the most relevant results based on the meaning of a user’s query, rather than just keywords. Append the following tools to the tools section in your tools.yaml:\nsearch-product-recommendations: kind: postgres-sql source: alloydb-pg-source description: \u003e- Search for products based on user needs. Use this tool to search for products. This tool requires the user's needs. parameters: - name: query type: string description: The product characteristics statement: | SELECT product_id, name, description, ROUND(CAST(price AS numeric), 2) as price FROM products ORDER BY embedding('gemini-embedding-001', $1)::vector \u003c=\u003e embedding LIMIT 5; 3. Natural Language to SQL (NL2SQL) Tools Create a natural language configuration for your AlloyDB cluster.\nTip\nBefore using NL2SQL tools, you must first install the alloydb_ai_nl extension and create the semantic layer under a configuration named flower_shop.\nConfigure your NL2SQL tool to use your configuration. These tools translate natural language questions into SQL queries, allowing users to interact with the database conversationally. Append the following tool to the tools section:\nask-questions-about-products: kind: alloydb-ai-nl source: alloydb-pg-source nlConfig: flower_shop description: \u003e- Ask questions related to products or brands. Use this tool to ask questions about products or brands. Always SELECT the IDs of objects when generating queries. Finally, group the tools into a toolset to make them available to the model. Add the following to the end of your tools.yaml file:\ntoolsets: flower_shop: - access-cart-information - search-product-recommendations - ask-questions-about-products - add-to-cart - delete-from-cart For more info on tools, check out the Tools section.\nStep 4: Run the Toolbox server Run the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Step 5: Connect to MCP Inspector Run the MCP Inspector:\nnpx @modelcontextprotocol/inspector Type y when it asks to install the inspector package.\nIt should show the following when the MCP Inspector is up and running (please take note of \u003cYOUR_SESSION_TOKEN\u003e):\nStarting MCP inspector... ⚙️ Proxy server listening on localhost:6277 🔑 Session token: \u003cYOUR_SESSION_TOKEN\u003e Use this token to authenticate requests or set DANGEROUSLY_OMIT_AUTH=true to disable auth 🚀 MCP Inspector is up and running at: http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=\u003cYOUR_SESSION_TOKEN\u003e Open the above link in your browser.\nFor Transport Type, select Streamable HTTP.\nFor URL, type in http://127.0.0.1:5000/mcp.\nFor Configuration -\u003e Proxy Session Token, make sure \u003cYOUR_SESSION_TOKEN\u003e is present.\nClick Connect.\nSelect List Tools, you will see a list of tools configured in tools.yaml.\nTest out your tools here!\nWhat’s next Learn more about MCP Inspector. Learn more about Toolbox Resources. Learn more about Toolbox How-to guides. ","categories":"","description":"How to get started running Toolbox with MCP Inspector and AlloyDB as the source.\n","excerpt":"How to get started running Toolbox with MCP Inspector and AlloyDB as …","ref":"/genai-toolbox/samples/alloydb/mcp_quickstart/","tags":"","title":"Quickstart (MCP with AlloyDB)"},{"body":"About A redis tool executes a series of pre-defined Redis commands against a Redis source.\nThe specified Redis commands are executed sequentially. Each command is represented as a string list, where the first element is the command name (e.g., SET, GET, HGETALL) and subsequent elements are its arguments.\nDynamic Command Parameters Command arguments can be templated using the $variableName annotation. The array type parameters will be expanded once into multiple arguments. Take the following config for example:\ncommands: - [SADD, userNames, $userNames] # Array will be flattened into multiple arguments. parameters: - name: userNames type: array description: The user names to be set. If the input is an array of strings [\"Alice\", \"Sid\", \"Bob\"], The final command to be executed after argument expansion will be [SADD, userNames, Alice, Sid, Bob].\nExample tools: user_data_tool: kind: redis source: my-redis-instance description: | Use this tool to interact with user data stored in Redis. It can set, retrieve, and delete user-specific information. commands: - [SADD, userNames, $userNames] # Array will be flattened into multiple arguments. - [GET, $userId] parameters: - name: userId type: string description: The unique identifier for the user. - name: userNames type: array description: The user names to be set. ","categories":"","description":"A \"redis\" tool executes a set of pre-defined Redis commands against a Redis instance.\n","excerpt":"A \"redis\" tool executes a set of pre-defined Redis commands against a …","ref":"/genai-toolbox/resources/tools/redis/redis/","tags":"","title":"redis"},{"body":"About Redis is a in-memory data structure store, used as a database, cache, and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, and geospatial indexes with radius queries.\nIf you are new to Redis, you can find installation and getting started guides on the official Redis website.\nAvailable Tools redis\nRun Redis commands and interact with key-value pairs. Requirements Redis AUTH string is a password for connection to Redis. If you have the requirepass directive set in your Redis configuration, incoming client connections must authenticate in order to connect.\nSpecify your AUTH string in the password field:\nsources: my-redis-instance: kind: redis address: - 127.0.0.1:6379 username: ${MY_USER_NAME} password: ${MY_AUTH_STRING} # Omit this field if you don't have a password. # database: 0 # clusterEnabled: false # useGCPIAM: false Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nMemorystore For Redis Memorystore standalone instances support authentication using an AUTH string.\nHere is an example tools.yaml config with AUTH enabled:\nsources: my-redis-cluster-instance: kind: memorystore-redis address: - 127.0.0.1:6379 password: ${MY_AUTH_STRING} # useGCPIAM: false # clusterEnabled: false Memorystore Redis Cluster supports IAM authentication instead. Grant your account the required IAM role and make sure to set useGCPIAM to true.\nHere is an example tools.yaml config for Memorystore Redis Cluster instances using IAM authentication:\nsources: my-redis-cluster-instance: kind: memorystore-redis address: - 127.0.0.1:6379 useGCPIAM: true clusterEnabled: true Reference field type required description kind string true Must be “memorystore-redis”. address string true Primary endpoint for the Memorystore Redis instance to connect to. username string false If you are using a non-default user, specify the user name here. If you are using Memorystore for Redis, leave this field blank password string false If you have Redis AUTH enabled, specify the AUTH string here database int false The Redis database to connect to. Not applicable for cluster enabled instances. The default database is 0. clusterEnabled bool false Set it to true if using a Redis Cluster instance. Defaults to false. useGCPIAM string false Set it to true if you are using GCP’s IAM authentication. Defaults to false. ","categories":"","description":"Redis is a in-memory data structure store.\n","excerpt":"Redis is a in-memory data structure store.\n","ref":"/genai-toolbox/resources/sources/redis/","tags":"","title":"Redis"},{"body":"","categories":"","description":"Tools that work with Redis Sources.\n","excerpt":"Tools that work with Redis Sources.\n","ref":"/genai-toolbox/resources/tools/redis/","tags":"","title":"Redis"},{"body":"A Source represents a data sources that a tool can interact with. You can define Sources as a map in the sources section of your tools.yaml file. Typically, a source configuration will contain any information needed to connect with and interact with the database.\nTip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nsources: my-cloud-sql-source: kind: cloud-sql-postgres project: my-project-id region: us-central1 instance: my-instance-name database: my_db user: ${USER_NAME} password: ${PASSWORD} In implementation, each source is a different connection pool or client that used to connect to the database and execute the tool.\nAvailable Sources ","categories":"","description":"Sources represent your different data sources that a tool can interact with.\n","excerpt":"Sources represent your different data sources that a tool can interact …","ref":"/genai-toolbox/resources/sources/","tags":"","title":"Sources"},{"body":"Spanner Source Spanner is a fully managed, mission-critical database service that brings together relational, graph, key-value, and search. It offers transactional consistency at global scale, automatic, synchronous replication for high availability, and support for two SQL dialects: GoogleSQL (ANSI 2011 with extensions) and PostgreSQL.\nIf you are new to Spanner, you can try to create and query a database using the Google Cloud console.\nAvailable Tools spanner-sql\nExecute SQL on Google Cloud Spanner.\nspanner-execute-sql\nRun structured and parameterized queries on Spanner.\nPre-built Configurations Spanner using MCP\nConnect your IDE to Spanner using Toolbox. Requirements IAM Permissions Spanner uses Identity and Access Management (IAM) to control user and group access to Spanner resources at the project, Spanner instance, and Spanner database levels. Toolbox will use your Application Default Credentials (ADC) to authorize and authenticate when interacting with Spanner.\nIn addition to setting the ADC for your server, you need to ensure the IAM identity has been given the correct IAM permissions for the query provided. See Apply IAM roles for more information on applying IAM permissions and roles to an identity.\nExample sources: my-spanner-source: kind: \"spanner\" project: \"my-project-id\" instance: \"my-instance\" database: \"my_db\" # dialect: \"googlesql\" Reference field type required description kind string true Must be “spanner”. project string true Id of the GCP project that the cluster was created in (e.g. “my-project-id”). instance string true Name of the Spanner instance. database string true Name of the database on the Spanner instance dialect string false Name of the dialect type of the Spanner database, must be either googlesql or postgresql. Default: googlesql. ","categories":"","description":"Spanner is a fully managed database service from Google Cloud that combines  relational, key-value, graph, and search capabilities.\n","excerpt":"Spanner is a fully managed database service from Google Cloud that …","ref":"/genai-toolbox/resources/sources/spanner/","tags":"","title":"Spanner"},{"body":"","categories":"","description":"Tools that work with Spanner Sources.\n","excerpt":"Tools that work with Spanner Sources.\n","ref":"/genai-toolbox/resources/tools/spanner/","tags":"","title":"Spanner"},{"body":"About A spanner-execute-sql tool executes a SQL statement against a Spanner database. It’s compatible with any of the following sources:\nspanner spanner-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: spanner-execute-sql source: my-spanner-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “spanner-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. readOnly bool false When set to true, the statement is run as a read-only transaction. Default: false. ","categories":"","description":"A \"spanner-execute-sql\" tool executes a SQL statement against a Spanner database.\n","excerpt":"A \"spanner-execute-sql\" tool executes a SQL statement against a …","ref":"/genai-toolbox/resources/tools/spanner/spanner-execute-sql/","tags":"","title":"spanner-execute-sql"},{"body":"About A spanner-sql tool executes a pre-defined SQL statement (either googlesql or postgresql) against a Cloud Spanner database. It’s compatible with any of the following sources:\nspanner GoogleSQL For the googlesql dialect, the specified SQL statement is executed as a data manipulation language (DML) statements, and specified parameters will inserted according to their name: e.g. @name.\nNote: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\nPostgreSQL For the postgresql dialect, the specified SQL statement is executed as a prepared statement, and specified parameters will be inserted according to their position: e.g. $1 will be the first parameter specified, $2 will be the second parameter, and so on.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\nGoogleSQL PostgreSQL tools: search_flights_by_number: kind: spanner-sql source: my-spanner-instance statement: | SELECT * FROM flights WHERE airline = @airline AND flight_number = @flight_number LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number tools: search_flights_by_number: kind: spanner source: my-spanner-instance statement: | SELECT * FROM flights WHERE airline = $1 AND flight_number = $2 LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: spanner source: my-spanner-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “spanner-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. readOnly bool false When set to true, the statement is run as a read-only transaction. Default: false. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"spanner-sql\" tool executes a pre-defined SQL statement against a Google Cloud Spanner database.\n","excerpt":"A \"spanner-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/spanner/spanner-sql/","tags":"","title":"spanner-sql"},{"body":"About SQL Server is a relational database management system (RDBMS) developed by Microsoft that allows users to store, retrieve, and manage large amount of data through a structured format.\nAvailable Tools mssql-sql\nExecute pre-defined SQL Server queries with placeholder parameters.\nmssql-execute-sql\nRun parameterized SQL Server queries in SQL Server.\nmssql-list-tables\nList tables in a SQL Server database.\nRequirements Database User This source only uses standard authentication. You will need to create a SQL Server user to login to the database with.\nExample sources: my-mssql-source: kind: mssql host: 127.0.0.1 port: 1433 database: my_db user: ${USER_NAME} password: ${PASSWORD} # encrypt: strict Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “mssql”. host string true IP address to connect to (e.g. “127.0.0.1”). port string true Port to connect to (e.g. “1433”). database string true Name of the SQL Server database to connect to (e.g. “my_db”). user string true Name of the SQL Server user to connect as (e.g. “my-user”). password string true Password of the SQL Server user (e.g. “my-password”). encrypt string false Encryption level for data transmitted between the client and server (e.g., “strict”). If not specified, defaults to the github.com/microsoft/go-mssqldb package’s default encrypt value. ","categories":"","description":"SQL Server is a relational database management system (RDBMS).\n","excerpt":"SQL Server is a relational database management system (RDBMS).\n","ref":"/genai-toolbox/resources/sources/mssql/","tags":"","title":"SQL Server"},{"body":"","categories":"","description":"Tools that work with SQL Server Sources, such as CloudSQL for SQL Server.\n","excerpt":"Tools that work with SQL Server Sources, such as CloudSQL for SQL …","ref":"/genai-toolbox/resources/tools/mssql/","tags":"","title":"SQL Server"},{"body":"About SQLite is a software library that provides a relational database management system. The lite in SQLite means lightweight in terms of setup, database administration, and required resources.\nSQLite has the following notable characteristics:\nSelf-contained with no external dependencies Serverless - the SQLite library accesses its storage files directly Single database file that can be easily copied or moved Zero-configuration - no setup or administration needed Transactional with ACID properties Available Tools sqlite-sql\nRun SQL queries against a local SQLite database.\nsqlite-execute-sql\nRun parameterized SQL statements in SQlite.\nPre-built Configurations SQLite using MCP\nConnect your IDE to SQlite using Toolbox. Requirements Database File You need a SQLite database file. This can be:\nAn existing database file A path where a new database file should be created :memory: for an in-memory database Example sources: my-sqlite-db: kind: \"sqlite\" database: \"/path/to/database.db\" For an in-memory database:\nsources: my-sqlite-memory-db: kind: \"sqlite\" database: \":memory:\" Reference Configuration Fields field type required description kind string true Must be “sqlite”. database string true Path to SQLite database file, or “:memory:” for an in-memory database. Connection Properties SQLite connections are configured with these defaults for optimal performance:\nMaxOpenConns: 1 (SQLite only supports one writer at a time) MaxIdleConns: 1 ","categories":"","description":"SQLite is a C-language library that implements a small, fast, self-contained,  high-reliability, full-featured, SQL database engine.\n","excerpt":"SQLite is a C-language library that implements a small, fast, …","ref":"/genai-toolbox/resources/sources/sqlite/","tags":"","title":"SQLite"},{"body":"","categories":"","description":"Tools that work with SQLite Sources.\n","excerpt":"Tools that work with SQLite Sources.\n","ref":"/genai-toolbox/resources/tools/sqlite/","tags":"","title":"SQLite"},{"body":"About A sqlite-execute-sql tool executes a single SQL statement against a SQLite database. It’s compatible with any of the following sources:\nsqlite This tool is designed for direct execution of SQL statements. It takes a single sql input parameter and runs the SQL statement against the configured SQLite source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: sqlite-execute-sql source: my-sqlite-db description: Use this tool to execute a SQL statement. Reference field type required description kind string true Must be “sqlite-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"sqlite-execute-sql\" tool executes a single SQL statement against a SQLite database.\n","excerpt":"A \"sqlite-execute-sql\" tool executes a single SQL statement against a …","ref":"/genai-toolbox/resources/tools/sqlite/sqlite-execute-sql/","tags":"","title":"sqlite-execute-sql"},{"body":"About A sqlite-sql tool executes SQL statements against a SQLite database. It’s compatible with any of the following sources:\nsqlite SQLite uses the ? placeholder for parameters in SQL statements. Parameters are bound in the order they are provided.\nThe statement field supports any valid SQLite SQL statement, including SELECT, INSERT, UPDATE, DELETE, CREATE/ALTER/DROP table statements, and other DDL statements.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search-users: kind: sqlite-sql source: my-sqlite-db description: Search users by name and age parameters: - name: name type: string description: The name to search for - name: min_age type: integer description: Minimum age statement: SELECT * FROM users WHERE name LIKE ? AND age \u003e= ? Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: sqlite-sql source: my-sqlite-db statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “sqlite-sql”. source string true Name of the source the SQLite source configuration. description string true Description of the tool that is passed to the LLM. statement string true The SQL statement to execute. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"Execute SQL statements against a SQLite database.\n","excerpt":"Execute SQL statements against a SQLite database.\n","ref":"/genai-toolbox/resources/tools/sqlite/sqlite-sql/","tags":"","title":"sqlite-sql"},{"body":"About TiDB is an open-source distributed SQL database that supports Hybrid Transactional and Analytical Processing (HTAP) workloads. It is MySQL-compatible and features horizontal scalability, strong consistency, and high availability.\nRequirements Database User This source uses standard MySQL protocol authentication. You will need to create a TiDB user to login to the database with.\nFor TiDB Cloud users, you can create database users through the TiDB Cloud console.\nSSL Configuration TiDB Cloud\nFor TiDB Cloud instances, SSL is automatically enabled when the hostname matches the TiDB Cloud pattern (gateway*.*.*.tidbcloud.com). You don’t need to explicitly set ssl: true for TiDB Cloud connections.\nSelf-Hosted TiDB\nFor self-hosted TiDB instances, you can optionally enable SSL by setting ssl: true in your configuration.\nExample TiDB Cloud\nsources: my-tidb-cloud-source: kind: tidb host: gateway01.us-west-2.prod.aws.tidbcloud.com port: 4000 database: my_db user: ${TIDB_USERNAME} password: ${TIDB_PASSWORD} # SSL is automatically enabled for TiDB Cloud Self-Hosted TiDB\nsources: my-tidb-source: kind: tidb host: 127.0.0.1 port: 4000 database: my_db user: ${TIDB_USERNAME} password: ${TIDB_PASSWORD} # ssl: true # Optional: enable SSL for secure connections Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “tidb”. host string true IP address or hostname to connect to (e.g. “127.0.0.1” or “gateway01.*.tidbcloud.com”). port string true Port to connect to (typically “4000” for TiDB). database string true Name of the TiDB database to connect to (e.g. “my_db”). user string true Name of the TiDB user to connect as (e.g. “my-tidb-user”). password string true Password of the TiDB user (e.g. “my-password”). ssl boolean false Whether to use SSL/TLS encryption. Automatically enabled for TiDB Cloud instances. ","categories":"","description":"TiDB is a distributed SQL database that combines the best of traditional RDBMS and NoSQL databases.\n","excerpt":"TiDB is a distributed SQL database that combines the best of …","ref":"/genai-toolbox/resources/sources/tidb/","tags":"","title":"TiDB"},{"body":"","categories":"","description":"Tools that work with TiDB Sources, such as TiDB Cloud and self-hosted TiDB.\n","excerpt":"Tools that work with TiDB Sources, such as TiDB Cloud and self-hosted …","ref":"/genai-toolbox/resources/tools/tidb/","tags":"","title":"TiDB"},{"body":"About A tidb-execute-sql tool executes a SQL statement against a TiDB database. It’s compatible with the following source:\ntidb tidb-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: tidb-execute-sql source: my-tidb-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “tidb-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"tidb-execute-sql\" tool executes a SQL statement against a TiDB database.\n","excerpt":"A \"tidb-execute-sql\" tool executes a SQL statement against a TiDB …","ref":"/genai-toolbox/resources/tools/tidb/tidb-execute-sql/","tags":"","title":"tidb-execute-sql"},{"body":"About A tidb-sql tool executes a pre-defined SQL statement against a TiDB database. It’s compatible with the following source:\ntidb The specified SQL statement is executed as a prepared statement, and expects parameters in the SQL query to be in the form of placeholders ?.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: tidb-sql source: my-tidb-instance statement: | SELECT * FROM flights WHERE airline = ? AND flight_number = ? LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: tidb-sql source: my-tidb-instance statement: | SELECT * FROM {{.tableName}}; description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “tidb-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"tidb-sql\" tool executes a pre-defined SQL statement against a TiDB database.\n","excerpt":"A \"tidb-sql\" tool executes a pre-defined SQL statement against a TiDB …","ref":"/genai-toolbox/resources/tools/tidb/tidb-sql/","tags":"","title":"tidb-sql"},{"body":"Toolbox UI is a built-in web interface that allows users to visually inspect and test out configured resources such as tools and toolsets.\nLaunching Toolbox UI To launch Toolbox’s interactive UI, use the --ui flag.\n./toolbox --ui Toolbox UI will be served from the same host and port as the Toolbox Server, with the /ui suffix. Once Toolbox is launched, the following INFO log with Toolbox UI’s url will be shown:\nINFO \"Toolbox UI is up and running at: http://localhost:5000/ui\" Navigating the Tools Page The tools page shows all tools loaded from your configuration file. This corresponds to the default toolset (represented by an empty string). Each tool’s name on this page will exactly match its name in the configuration file.\nTo view details for a specific tool, click on the tool name. The main content area will be populated with the tool name, description, and available parameters.\nInvoking a Tool Click on a Tool Enter appropriate parameters in each parameter field Click “Run Tool” Done! Your results will appear in the response field (Optional) Uncheck “Prettify JSON” to format the response as plain text Optional Parameters Toolbox allows users to add optional parameters with or without a default value.\nTo exclude a parameter, uncheck the box to the right of an associated parameter, and that parameter will not be included in the request body. If the parameter is not sent, Toolbox will either use it as nil value or the default value, if configured. If the parameter is required, Toolbox will throw an error.\nWhen the box is checked, parameter will be sent exactly as entered in the response field (e.g. empty string).\nEditing Headers To edit headers, press the “Edit Headers” button to display the header modal. Within this modal, users can make direct edits by typing into the header’s text area.\nToolbox UI validates that the headers are in correct JSON format. Other header-related errors (e.g., incorrect header names or values required by the tool) will be reported in the Response section after running the tool.\nGoogle OAuth Currently, Toolbox supports Google OAuth 2.0 as an AuthService, which allows tools to utilize authorized parameters. When a tool uses an authorized parameter, the parameter will be displayed but not editable, as it will be populated from the authentication token.\nTo provide the token, add your Google OAuth ID Token to the request header using the “Edit Headers” button and modal described above. The key should be the name of your AuthService as defined in your tool configuration file, suffixed with _token. The value should be your ID token as a string.\nSelect a tool that requires authenticated parameters The auth parameter’s text field is greyed out. This is because it cannot be entered manually and will be parsed from the resolved auth token To update request headers with the token, select “Edit Headers” (Optional) If you wish to manually edit the header, checkout the dropdown “How to extract Google OAuth ID Token manually” for guidance on retrieving ID token To edit the header automatically, click the “Auto Setup” button that is associated with your Auth Profile Enter the Client ID defined in your tools configuration file Click “Continue” Click “Sign in With Google” and login with your associated google account. This should automatically populate the header text area with your token Click “Save” Click “Run Tool” { \"Content-Type\": \"application/json\", \"my-google-auth_token\": \"YOUR_ID_TOKEN_HERE\" } Navigating the Toolsets Page Through the toolsets page, users can search for a specific toolset to retrieve tools from. Simply enter the toolset name in the search bar, and press “Enter” to retrieve the associated tools.\nIf the toolset name is not defined within the tools configuration file, an error message will be displayed.\n","categories":"","description":"How to effectively use Toolbox UI.\n","excerpt":"How to effectively use Toolbox UI.\n","ref":"/genai-toolbox/how-to/toolbox-ui/","tags":"","title":"Toolbox UI"},{"body":"About Trino is a distributed SQL query engine designed for fast analytic queries against data of any size. It allows you to query data where it lives, including Hive, Cassandra, relational databases or even proprietary data stores.\nAvailable Tools trino-sql\nExecute parameterized SQL queries against Trino.\ntrino-execute-sql\nExecute arbitrary SQL queries against Trino.\nRequirements Trino Cluster You need access to a running Trino cluster with appropriate user permissions for the catalogs and schemas you want to query.\nExample sources: my-trino-source: kind: trino host: trino.example.com port: \"8080\" user: ${TRINO_USER} # Optional for anonymous access password: ${TRINO_PASSWORD} # Optional catalog: hive schema: default Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nReference field type required description kind string true Must be “trino”. host string true Trino coordinator hostname (e.g. “trino.example.com”) port string true Trino coordinator port (e.g. “8080”, “8443”) user string false Username for authentication (e.g. “analyst”). Optional for anonymous access. password string false Password for basic authentication catalog string true Default catalog to use for queries (e.g. “hive”) schema string true Default schema to use for queries (e.g. “default”) queryTimeout string false Query timeout duration (e.g. “30m”, “1h”) accessToken string false JWT access token for authentication kerberosEnabled boolean false Enable Kerberos authentication (default: false) sslEnabled boolean false Enable SSL/TLS (default: false) ","categories":"","description":"Trino is a distributed SQL query engine for big data analytics.\n","excerpt":"Trino is a distributed SQL query engine for big data analytics.\n","ref":"/genai-toolbox/resources/sources/trino/","tags":"","title":"Trino"},{"body":"","categories":"","description":"Tools that work with Trino Sources, such as distributed SQL query engine.\n","excerpt":"Tools that work with Trino Sources, such as distributed SQL query …","ref":"/genai-toolbox/resources/tools/trino/","tags":"","title":"Trino"},{"body":"About A trino-execute-sql tool executes a SQL statement against a Trino database. It’s compatible with any of the following sources:\ntrino trino-execute-sql takes one input parameter sql and run the sql statement against the source.\nNote: This tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: execute_sql_tool: kind: trino-execute-sql source: my-trino-instance description: Use this tool to execute sql statement. Reference field type required description kind string true Must be “trino-execute-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. ","categories":"","description":"A \"trino-execute-sql\" tool executes a SQL statement against a Trino database.\n","excerpt":"A \"trino-execute-sql\" tool executes a SQL statement against a Trino …","ref":"/genai-toolbox/resources/tools/trino/trino-execute-sql/","tags":"","title":"trino-execute-sql"},{"body":"About A trino-sql tool executes a pre-defined SQL statement against a Trino database. It’s compatible with any of the following sources:\ntrino The specified SQL statement is executed as a prepared statement, and specified parameters will be inserted according to their position: e.g. $1 will be the first parameter specified, $2 will be the second parameter, and so on. If template parameters are included, they will be resolved before execution of the prepared statement.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_orders_by_region: kind: trino-sql source: my-trino-instance statement: | SELECT * FROM hive.sales.orders WHERE region = $1 AND order_date \u003e= DATE($2) LIMIT 10 description: | Use this tool to get information for orders in a specific region. Takes a region code and date and returns info on the orders. Do NOT use this tool with an order id. Do NOT guess a region code or date. A region code is a code for a geographic region consisting of two-character region designator and followed by optional subregion. For example, if given US-WEST, the region is \"US-WEST\". Another example for this is EU-CENTRAL, the region is \"EU-CENTRAL\". If the tool returns more than one option choose the date closest to today. Example: {{ \"region\": \"US-WEST\", \"order_date\": \"2024-01-01\", }} Example: {{ \"region\": \"EU-CENTRAL\", \"order_date\": \"2024-01-15\", }} parameters: - name: region type: string description: Region unique identifier - name: order_date type: string description: Order date in YYYY-MM-DD format Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: trino-sql source: my-trino-instance statement: | SELECT * FROM {{.tableName}} description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"hive.sales.orders\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “trino-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"trino-sql\" tool executes a pre-defined SQL statement against a Trino database.\n","excerpt":"A \"trino-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/trino/trino-sql/","tags":"","title":"trino-sql"},{"body":"","categories":"","description":"Tools that provide utility.\n","excerpt":"Tools that provide utility.\n","ref":"/genai-toolbox/resources/tools/utility/","tags":"","title":"Utility tools"},{"body":"About A valkey tool executes a series of pre-defined Valkey commands against a Valkey instance.\nThe specified Valkey commands are executed sequentially. Each command is represented as a string array, where the first element is the command name (e.g., SET, GET, HGETALL) and subsequent elements are its arguments.\nDynamic Command Parameters Command arguments can be templated using the $variableName annotation. The array type parameters will be expanded once into multiple arguments. Take the following config for example:\ncommands: - [SADD, userNames, $userNames] # Array will be flattened into multiple arguments. parameters: - name: userNames type: array description: The user names to be set. If the input is an array of strings [\"Alice\", \"Sid\", \"Bob\"], The final command to be executed after argument expansion will be [SADD, userNames, Alice, Sid, Bob].\nExample tools: user_data_tool: kind: valkey source: my-valkey-instance description: | Use this tool to interact with user data stored in Valkey. It can set, retrieve, and delete user-specific information. commands: - [SADD, userNames, $userNames] # Array will be flattened into multiple arguments. - [GET, $userId] parameters: - name: userId type: string description: The unique identifier for the user. - name: userNames type: array description: The user names to be set. ","categories":"","description":"A \"valkey\" tool executes a set of pre-defined Valkey commands against a Valkey instance.\n","excerpt":"A \"valkey\" tool executes a set of pre-defined Valkey commands against …","ref":"/genai-toolbox/resources/tools/valkey/valkey/","tags":"","title":"valkey"},{"body":"About Valkey is an open-source, in-memory data structure store that originated as a fork of Redis. It’s designed to be used as a database, cache, and message broker, supporting a wide range of data structures like strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, and geospatial indexes with radius queries.\nIf you’re new to Valkey, you can find installation and getting started guides on the official Valkey website.\nAvailable Tools valkey\nIssue Valkey (Redis-compatible) commands. Example sources: my-valkey-instance: kind: valkey address: - 127.0.0.1:6379 username: ${YOUR_USERNAME} password: ${YOUR_PASSWORD} # database: 0 # useGCPIAM: false # disableCache: false Tip\nUse environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nIAM Authentication If you are using GCP’s Memorystore for Valkey, you can connect using IAM authentication. Grant your account the required IAM role and set useGCPIAM to true:\nsources: my-valkey-instance: kind: valkey address: - 127.0.0.1:6379 useGCPIAM: true Reference field type required description kind string true Must be “valkey”. address []string true Endpoints for the Valkey instance to connect to. username string false If you are using a non-default user, specify the user name here. If you are using Memorystore for Valkey, leave this field blank password string false Password for the Valkey instance database int false The Valkey database to connect to. Not applicable for cluster enabled instances. The default database is 0. useGCPIAM bool false Set it to true if you are using GCP’s IAM authentication. Defaults to false. disableCache bool false Set it to true if you want to enable client-side caching. Defaults to false. ","categories":"","description":"Valkey is an open-source, in-memory data structure store, forked from Redis.\n","excerpt":"Valkey is an open-source, in-memory data structure store, forked from …","ref":"/genai-toolbox/resources/sources/valkey/","tags":"","title":"Valkey"},{"body":"","categories":"","description":"Tools that work with Valkey Sources.\n","excerpt":"Tools that work with Valkey Sources.\n","ref":"/genai-toolbox/resources/tools/valkey/","tags":"","title":"Valkey"},{"body":"About A wait tool pauses execution for a specified duration. This can be useful in workflows where a delay is needed between steps.\nwait takes one input parameter duration which is a string representing the time to wait (e.g., “10s”, “2m”, “1h”).\nInfo\nThis tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: wait_for_tool: kind: wait description: Use this tool to pause execution for a specified duration. timeout: 30s Reference field type required description kind string true Must be “wait”. description string true Description of the tool that is passed to the LLM. timeout string true The default duration the tool can wait for. ","categories":"","description":"A \"wait\" tool pauses execution for a specified duration.\n","excerpt":"A \"wait\" tool pauses execution for a specified duration.\n","ref":"/genai-toolbox/resources/tools/utility/wait/","tags":"","title":"wait"},{"body":"About YugabyteDB is a high-performance, distributed SQL database designed for global, internet-scale applications, with full PostgreSQL compatibility.\nExample sources: my-yb-source: kind: yugabytedb host: 127.0.0.1 port: 5433 database: yugabyte user: ${USER_NAME} password: ${PASSWORD} loadBalance: true topologyKeys: cloud.region.zone1:1,cloud.region.zone2:2 Reference field type required description kind string true Must be “yugabytedb”. host string true IP address to connect to. port integer true Port to connect to. The default port is 5433. database string true Name of the YugabyteDB database to connect to. The default database name is yugabyte. user string true Name of the YugabyteDB user to connect as. The default user is yugabyte. password string true Password of the YugabyteDB user. The default password is yugabyte. loadBalance boolean false If true, enable uniform load balancing. The default loadBalance value is false. topologyKeys string false Comma-separated geo-locations in the form cloud.region.zone:priority to enable topology-aware load balancing. Ignored if loadBalance is false. It is null by default. ybServersRefreshInterval integer false The interval (in seconds) to refresh the servers list; ignored if loadBalance is false. The default value of ybServersRefreshInterval is 300. fallbackToTopologyKeysOnly boolean false If set to true and topologyKeys are specified, only connect to nodes specified in topologyKeys. By defualt, this is set to false. failedHostReconnectDelaySecs integer false Time (in seconds) to wait before trying to connect to failed nodes. The default value of is 5. ","categories":"","description":"YugabyteDB is a high-performance, distributed SQL database. \n","excerpt":"YugabyteDB is a high-performance, distributed SQL database. \n","ref":"/genai-toolbox/resources/sources/yugabytedb/","tags":"","title":"YugabyteDB"},{"body":"About A yugabytedb-sql tool executes a pre-defined SQL statement against a YugabyteDB database.\nThe specified SQL statement is executed as a prepared statement, and specified parameters will inserted according to their position: e.g. 1 will be the first parameter specified, $@ will be the second parameter, and so on. If template parameters are included, they will be resolved before execution of the prepared statement.\nExample Note: This tool uses parameterized queries to prevent SQL injections. Query parameters can be used as substitutes for arbitrary expressions. Parameters cannot be used as substitutes for identifiers, column names, table names, or other parts of the query.\ntools: search_flights_by_number: kind: yugabytedb-sql source: my-yb-instance statement: | SELECT * FROM flights WHERE airline = $1 AND flight_number = $2 LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. A airline code is a code for an airline service consisting of two-character airline designator and followed by flight number, which is 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closes to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Example with Template Parameters Note: This tool allows direct modifications to the SQL statement, including identifiers, column names, and table names. This makes it more vulnerable to SQL injections. Using basic parameters only (see above) is recommended for performance and safety reasons. For more details, please check templateParameters.\ntools: list_table: kind: yugabytedb-sql source: my-yb-instance statement: | SELECT * FROM {{.tableName}} description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", }} templateParameters: - name: tableName type: string description: Table to select from Reference field type required description kind string true Must be “yugabytedb-sql”. source string true Name of the source the SQL should execute on. description string true Description of the tool that is passed to the LLM. statement string true SQL statement to execute on. parameters parameters false List of parameters that will be inserted into the SQL statement. templateParameters templateParameters false List of templateParameters that will be inserted into the SQL statement before executing prepared statement. ","categories":"","description":"A \"yugabytedb-sql\" tool executes a pre-defined SQL statement against a YugabyteDB database.\n","excerpt":"A \"yugabytedb-sql\" tool executes a pre-defined SQL statement against a …","ref":"/genai-toolbox/resources/tools/yugabytedb-sql/","tags":"","title":"yugabytedb-sql"},{"body":"About The alloydb-admin source provides a client to interact with the Google AlloyDB API. This allows tools to perform administrative tasks on AlloyDB resources, such as managing clusters, instances, and users.\nAuthentication can be handled in two ways:\nApplication Default Credentials (ADC): By default, the source uses ADC to authenticate with the API. Client-side OAuth: If useClientOAuth is set to true, the source will expect an OAuth 2.0 access token to be provided by the client (e.g., a web browser) for each request. Example sources: my-alloydb-admin: kind: alloy-admin my-oauth-alloydb-admin: kind: alloydb-admin useClientOAuth: true Reference field type required description kind string true Must be “alloydb-admin”. useClientOAuth boolean false If true, the source will use client-side OAuth for authorization. Otherwise, it will use Application Default Credentials. Defaults to false. ","categories":"","description":"The \"alloydb-admin\" source provides a client for the AlloyDB API.\n","excerpt":"The \"alloydb-admin\" source provides a client for the AlloyDB API.\n","ref":"/genai-toolbox/resources/sources/alloydb-admin/","tags":"","title":"AlloyDB Admin"},{"body":" ","categories":"","description":"Create your AlloyDB database with MCP Toolbox.\n","excerpt":"Create your AlloyDB database with MCP Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/alloydb_pg_admin_mcp/","tags":"","title":"AlloyDB Admin API using MCP"},{"body":" ","categories":"","description":"Connect your IDE to AlloyDB using Toolbox.\n","excerpt":"Connect your IDE to AlloyDB using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/alloydb_pg_mcp/","tags":"","title":"AlloyDB using MCP"},{"body":"About The alloydb-create-user tool creates a new database user (ALLOYDB_BUILT_IN or ALLOYDB_IAM_USER) within a specified cluster. It is compatible with alloydb-admin source.\nPermissions \u0026 APIs Required: Before using, ensure the following on your GCP project:\nThe AlloyDB API is enabled. The user or service account executing the tool has one of the following IAM roles: roles/alloydb.admin (the AlloyDB Admin predefined IAM role) roles/owner (the Owner basic IAM role) roles/editor (the Editor basic IAM role) The tool takes the following input parameters:\nParameter Type Description Required project string The GCP project ID where the cluster exists. Yes cluster string The ID of the existing cluster where the user will be created. Yes location string The GCP location where the cluster exists (e.g., us-central1). Yes user string The name for the new user. Must be unique within the cluster. Yes userType string The type of user. Valid values: ALLOYDB_BUILT_IN and ALLOYDB_IAM_USER. ALLOYDB_IAM_USER is recommended. Yes password string A secure password for the user. Required only if userType is ALLOYDB_BUILT_IN. No databaseRoles array(string) Optional. A list of database roles to grant to the new user (e.g., pg_read_all_data). No Example tools: create_user: kind: alloydb-create-user source: alloydb-admin-source description: Use this tool to create a new database user for an AlloyDB cluster. Reference field type required description kind string true Must be alloydb-create-user. source string true The name of an alloydb-admin source. description string false Description of the tool that is passed to the agent. ","categories":"","description":"The \"alloydb-create-user\" tool creates a new database user within a specified AlloyDB cluster.\n","excerpt":"The \"alloydb-create-user\" tool creates a new database user within a …","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-create-user/","tags":"","title":"alloydb-create-user"},{"body":" ","categories":"","description":"Connect your IDE to BigQuery using Toolbox.\n","excerpt":"Connect your IDE to BigQuery using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/bigquery_mcp/","tags":"","title":"BigQuery using MCP"},{"body":"About A clickhouse-sql tool executes SQL queries as prepared statements against a ClickHouse database. It’s compatible with the clickhouse source.\nThis tool supports both template parameters (for SQL statement customization) and regular parameters (for prepared statement values), providing flexible query execution capabilities.\nExample tools: my_analytics_query: kind: clickhouse-sql source: my-clickhouse-instance description: Get user analytics for a specific date range statement: | SELECT user_id, count(*) as event_count, max(timestamp) as last_event FROM events WHERE date \u003e= ? AND date \u003c= ? GROUP BY user_id ORDER BY event_count DESC LIMIT ? parameters: - name: start_date description: Start date for the query (YYYY-MM-DD format) - name: end_date description: End date for the query (YYYY-MM-DD format) - name: limit description: Maximum number of results to return Template Parameters Example tools: flexible_table_query: kind: clickhouse-sql source: my-clickhouse-instance description: Query any table with flexible columns statement: | SELECT {{columns}} FROM {{table_name}} WHERE created_date \u003e= ? LIMIT ? templateParameters: - name: columns description: Comma-separated list of columns to select - name: table_name description: Name of the table to query parameters: - name: start_date description: Start date filter - name: limit description: Maximum number of results Reference field type required description kind string true Must be “clickhouse-sql”. source string true Name of the ClickHouse source to execute SQL against. description string true Description of the tool that is passed to the LLM. statement string true The SQL statement template to execute. parameters array of Parameter false Parameters for prepared statement values. templateParameters array of Parameter false Parameters for SQL statement template customization. ","categories":"","description":"A \"clickhouse-sql\" tool executes SQL queries as prepared statements in ClickHouse.\n","excerpt":"A \"clickhouse-sql\" tool executes SQL queries as prepared statements in …","ref":"/genai-toolbox/resources/tools/clickhouse/clickhouse-sql/","tags":"","title":"clickhouse-sql"},{"body":" ","categories":"","description":"Connect your IDE to Cloud SQL for MySQL using Toolbox.\n","excerpt":"Connect your IDE to Cloud SQL for MySQL using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_mysql_mcp/","tags":"","title":"Cloud SQL for MySQL using MCP"},{"body":" ","categories":"","description":"Connect your IDE to Cloud SQL for Postgres using Toolbox.\n","excerpt":"Connect your IDE to Cloud SQL for Postgres using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_pg_mcp/","tags":"","title":"Cloud SQL for Postgres using MCP"},{"body":" ","categories":"","description":"Connect your IDE to Cloud SQL for SQL Server using Toolbox.\n","excerpt":"Connect your IDE to Cloud SQL for SQL Server using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_mssql_mcp/","tags":"","title":"Cloud SQL for SQL Server using MCP"},{"body":"The cloud-sql-mysql-create-instance tool creates a new Cloud SQL for MySQL instance in a specified Google Cloud project.\nInfo\nThis tool uses the cloud-sql-admin source.\nConfiguration Here is an example of how to configure the cloud-sql-mysql-create-instance tool in your tools.yaml file:\nsources: my-cloud-sql-admin-source: kind: cloud-sql-admin tools: create_my_mysql_instance: kind: cloud-sql-mysql-create-instance source: my-cloud-sql-admin-source description: \"Creates a MySQL instance using `Production` and `Development` presets. For the `Development` template, it chooses a 2 vCPU, 16 GiB RAM, 100 GiB SSD configuration with Non-HA/zonal availability. For the `Production` template, it chooses an 8 vCPU, 64 GiB RAM, 250 GiB SSD configuration with HA/regional availability. The Enterprise Plus edition is used in both cases. The default database version is `MYSQL_8_4`. The agent should ask the user if they want to use a different version.\" Parameters The cloud-sql-mysql-create-instance tool has the following parameters:\nfield type required description project string true The Google Cloud project ID. name string true The name of the instance to create. databaseVersion string false The database version for MySQL. If not specified, defaults to the latest available version (e.g., MYSQL_8_4). rootPassword string true The root password for the instance. editionPreset string false The edition of the instance. Can be Production or Development. Defaults to Development. Reference field type required description kind string true Must be cloud-sql-mysql-create-instance. source string true The name of the cloud-sql-admin source to use for this tool. description string false A description of the tool that is passed to the agent. ","categories":"","description":"Create a Cloud SQL for MySQL instance.","excerpt":"Create a Cloud SQL for MySQL instance.","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlmysqlcreateinstance/","tags":"","title":"cloud-sql-mysql-create-instance"},{"body":"","categories":"","description":"Some core concepts in Toolbox\n","excerpt":"Some core concepts in Toolbox\n","ref":"/genai-toolbox/concepts/","tags":"","title":"Concepts"},{"body":"Gemini CLI Extensions Gemini CLI is an open-source AI agent designed to assist with development workflows by assisting with coding, debugging, data exploration, and content creation. Its mission is to provide an agentic interface for interacting with database and analytics services and popular open-source databases.\nHow extensions work Gemini CLI is highly extensible, allowing for the addition of new tools and capabilities through extensions. You can load the extensions from a GitHub URL, a local directory, or a configurable registry. They provide new tools, slash commands, and prompts to assist with your workflow.\nUse the Gemini CLI Extensions to load prebuilt or custom tools to interact with your databases.\nBelow are a list of Gemini CLI Extensions powered by MCP Toolbox:\nalloydb alloydb-observability bigquery-conversational-analytics bigquery-data-analytics cloud-sql-mysql cloud-sql-mysql-observability cloud-sql-postgresql cloud-sql-postgresql-observability cloud-sql-sqlserver cloud-sql-sqlserver-observability dataplex firestore-native looker mcp-toolbox mysql postgres spanner sql-server ","categories":"","description":"Connect to Toolbox via Gemini CLI Extensions.","excerpt":"Connect to Toolbox via Gemini CLI Extensions.","ref":"/genai-toolbox/how-to/connect_via_geminicli/","tags":"","title":"Connect via Gemini CLI Extensions"},{"body":"How can I deploy or run Toolbox? MCP Toolbox for Databases is open-source and can be run or deployed to a multitude of environments. For convenience, we release compiled binaries and docker images (but you can always compile yourself as well!).\nFor detailed instructions, check out these resources:\nQuickstart: How to Run Locally Deploy to Cloud Run Do I need a Google Cloud account/project to get started with Toolbox? Nope! While some of the sources Toolbox connects to may require GCP credentials, Toolbox doesn’t require them and can connect to a bunch of different resources that don’t.\nDoes Toolbox take contributions from external users? Absolutely! Please check out our DEVELOPER.md for instructions on how to get started developing on Toolbox instead of with it, and the CONTRIBUTING.md for instructions on completing the CLA and getting a PR accepted.\nCan Toolbox support a feature to let me do $FOO? Maybe? The best place to start is by opening an issue for discussion (or seeing if there is already one open), so we can better understand your use case and the best way to solve it. Generally we aim to prioritize the most popular issues, so make sure to +1 ones you are the most interested in.\nCan Toolbox be used for non-database tools? Currently, Toolbox is primarily focused on making it easier to create and develop tools focused on interacting with Databases. We believe that there are a lot of unique problems when interacting with Databases for Gen AI use cases, and want to prioritize solving those first.\nHowever, we’ve also received feedback that supporting more generic HTTP or GRPC tools might be helpful in assisting with migrating to Toolbox or in accomplishing more complicated workflows. We’re looking into what that might best look like in Toolbox.\nCan I use $BAR orchestration framework to use tools from Toolbox? Currently, Toolbox only supports a limited number of client SDKs at our initial launch. We are investigating support for more frameworks as well as more general approaches for users without a framework – look forward to seeing an update soon.\nWhy does Toolbox use a server-client architecture pattern? Toolbox’s server-client architecture allows us to more easily support a wide variety of languages and frameworks with a centralized implementation. It also allows us to tackle problems like connection pooling, auth, or caching more completely than entirely client-side solutions.\nWhy was Toolbox written in Go? While a large part of the Gen AI Ecosystem is predominately Python, we opted to use Go. We chose Go because it’s still easy and simple to use, but also easier to write fast, efficient, and concurrent servers. Additionally, given the server-client architecture, we can still meet many developers where they are with clients in their preferred language. As Gen AI matures, we want developers to be able to use Toolbox on the serving path of mission critical applications. It’s easier to build the needed robustness, performance and scalability in Go than in Python.\nIs Toolbox compatible with Model Context Protocol (MCP)? Yes! Toolbox is compatible with Anthropic’s Model Context Protocol (MCP). Please checkout Connect via MCP on how to connect to Toolbox with an MCP client.\n","categories":"","description":"Frequently asked questions about Toolbox.","excerpt":"Frequently asked questions about Toolbox.","ref":"/genai-toolbox/about/faq/","tags":"","title":"FAQ"},{"body":" ","categories":"","description":"Connect your IDE to Firestore using Toolbox.\n","excerpt":"Connect your IDE to Firestore using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/firestore_mcp/","tags":"","title":"Firestore using MCP"},{"body":"Overview Gemini-CLI can be configured to get an OAuth token from Looker, then send this token to MCP Toolbox as part of the request. MCP Toolbox can then use this token to authentincate with Looker. This means that there is no need to get a Looker Client ID and Client Secret. This also means that MCP Toolbox can be set up as a shared resource.\nThis configuration requires Toolbox v0.14.0 or later.\nStep 1: Register the OAuth App in Looker You first need to register the OAuth application. Refer to the documentation here. You may need to ask an administrator to do this for you.\nGo to the API Explorer application, locate “Register OAuth App”, and press the “Run It” button.\nSet the client_guid to “gemini-cli”.\nSet the redirect_uri to “http://localhost:7777/oauth/callback”.\nThe display_name and description can be “Gemini-CLI” or anything meaningful.\nSet enabled to “true”.\nCheck the box confirming that you understand this API will change data.\nClick the “Run” button.\nStep 2: Install and configure Toolbox In this section, we will download Toolbox and run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Create a file looker_env with the settings for your Looker instance.\nexport LOOKER_BASE_URL=https://looker.example.com export LOOKER_VERIFY_SSL=true export LOOKER_USE_CLIENT_OAUTH=true In some instances you may need to append :19999 to the LOOKER_BASE_URL.\nLoad the looker_env file into your environment.\nsource looker_env Run the Toolbox server using the prebuilt Looker tools.\n./toolbox --prebuilt looker The toolbox server will begin listening on localhost port 5000. Leave it running and continue in another terminal.\nLater, when it is time to shut everything down, you can quit the toolbox server with Ctrl-C in this terminal window.\nStep 3: Configure Gemini-CLI Edit the file ~/.gemini/settings.json. Add the following, substituting your Looker server host name for looker.example.com.\n\"mcpServers\": { \"looker\": { \"httpUrl\": \"http://localhost:5000/mcp\", \"oauth\": { \"enabled\": true, \"clientId\": \"gemini-cli\", \"authorizationUrl\": \"https://looker.example.com/auth\", \"tokenUrl\": \"https://looker.example.com/api/token\", \"scopes\": [\"cors_api\"] } } } The authorizationUrl should point to the URL you use to access Looker via the web UI. The tokenUrl should point to the URL you use to access Looker via the API. In some cases you will need to use the port number :19999 after the host name but before the /api/token part.\nStart Gemini-CLI.\nAuthenticate with the command /mcp auth looker. Gemini-CLI will open up a browser where you will confirm that you want to access Looker with your account.\nUse Gemini-CLI with your tools.\nUsing Toolbox as a Shared Service Toolbox can be run on another server as a shared service accessed by multiple users. We strongly recommend running toolbox behind a web proxy such as nginx which will provide SSL encryption. Google Cloud Run is another good way to run toolbox. You will connect to a service like https://toolbox.example.com/mcp. The proxy server will handle the SSL encryption and certificates. Then it will foward the requests to http://localhost:5000/mcp running in that environment. The details of the config are beyond the scope of this document, but will be familiar to your system administrators.\nTo use the shared service, just change the localhost:5000 in the httpUrl in ~/.gemini/settings.json to the host name and possibly the port of the shared service.\n","categories":"","description":"How to connect to Looker from Gemini-CLI with end-user credentials\n","excerpt":"How to connect to Looker from Gemini-CLI with end-user credentials\n","ref":"/genai-toolbox/samples/looker/looker_gemini_oauth/","tags":"","title":"Gemini-CLI and OAuth"},{"body":" ","categories":"","description":"Go lang client SDK","excerpt":"Go lang client SDK","ref":"/genai-toolbox/sdks/go-sdk/","tags":"","title":"Go SDK"},{"body":" ","categories":"","description":"Javascript client SDK","excerpt":"Javascript client SDK","ref":"/genai-toolbox/sdks/js-sdk/","tags":"","title":"JS SDK"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like Postgres. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a Looker instance:\nGemini-CLI Cursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Set up Looker Get a Looker Client ID and Client Secret. Follow the directions here.\nHave the base URL of your Looker instance available. It is likely something like https://looker.example.com. In some cases the API is listening at a different port, and you will need to use https://looker.example.com:19999 instead.\nInstall MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version v0.10.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Gemini-CLI Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Install Gemini-CLI.\nCreate a directory .gemini in your home directory if it doesn’t exist.\nCreate the file .gemini/settings.json if it doesn’t exist.\nAdd the following configuration, or add the mcpServers stanza if you already have a settings.json with content. Replace the path to the toolbox executable and the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Start Gemini-CLI with the gemini command and use the command /mcp to see the configured MCP tools.\nInstall Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Restart Claude Code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Open Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"servers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"looker-toolbox\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--stdio\", \"--prebuilt\", \"looker\"], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } } Use Tools Your AI tool is now connected to Looker using MCP. Try asking your AI assistant to list models, explores, dimensions, and measures. Run a query, retrieve the SQL for a query, and run a saved Look.\nThe following tools are available to the LLM:\nget_models: list the LookML models in Looker get_explores: list the explores in a given model get_dimensions: list the dimensions in a given explore get_measures: list the measures in a given explore get_filters: list the filters in a given explore get_parameters: list the parameters in a given explore query: Run a query and return the data query_sql: Return the SQL generated by Looker for a query query_url: Return a link to the query in Looker for further exploration get_looks: Return the saved Looks that match a title or description run_look: Run a saved Look and return the data make_look: Create a saved Look in Looker and return the URL get_dashboards: Return the saved dashboards that match a title or description make_dashboard: Create a saved dashboard in Looker and return the URL add_dashboard_element: Add a tile to a dashboard Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to Looker using Toolbox.\n","excerpt":"Connect your IDE to Looker using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/looker_mcp/","tags":"","title":"Looker using MCP"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like MySQL. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a MySQL instance:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Set up the database Create or select a MySQL instance. Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.10.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"mysql\", \"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"mysql\", \"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"mysql\", \"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"mysql\", \"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Open Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"servers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mysql\",\"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mysql\",\"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mysql\",\"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"mysql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mysql\",\"--stdio\"], \"env\": { \"MYSQL_HOST\": \"\", \"MYSQL_PORT\": \"\", \"MYSQL_DATABASE\": \"\", \"MYSQL_USER\": \"\", \"MYSQL_PASSWORD\": \"\" } } } } Use Tools Your AI tool is now connected to MySQL using MCP. Try asking your AI assistant to list tables, create a table, or define and execute other SQL statements.\nThe following tools are available to the LLM:\nlist_tables: lists tables and descriptions execute_sql: execute any SQL statement Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to MySQL using Toolbox.","excerpt":"Connect your IDE to MySQL using Toolbox.","ref":"/genai-toolbox/how-to/connect-ide/mysql_mcp/","tags":"","title":"MySQL using MCP"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like Neo4j. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a Neo4j instance:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Set up the database Create or select a Neo4j instance. Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version v0.15.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Open Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcp\" : { \"servers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"neo4j\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"neo4j\",\"--stdio\"], \"env\": { \"NEO4J_URI\": \"\", \"NEO4J_DATABASE\": \"\", \"NEO4J_USERNAME\": \"\", \"NEO4J_PASSWORD\": \"\" } } } } Use Tools Your AI tool is now connected to Neo4j using MCP. Try asking your AI assistant to get the graph schema or execute Cypher statements.\nThe following tools are available to the LLM:\nget_schema: extracts the complete database schema, including details about node labels, relationships, properties, constraints, and indexes. execute_cypher: executes any arbitrary Cypher statement. Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to Neo4j using Toolbox.","excerpt":"Connect your IDE to Neo4j using Toolbox.","ref":"/genai-toolbox/how-to/connect-ide/neo4j_mcp/","tags":"","title":"Neo4j using MCP"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like Postgres. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a Postgres instance:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Tip\nThis guide can be used with AlloyDB Omni.\nSet up the database Create or select a PostgreSQL instance.\nInstall PostgreSQL locally Install AlloyDB Omni Create or reuse a database user and have the username and password ready.\nInstall MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.6.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"servers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"postgres\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"postgres\",\"--stdio\"], \"env\": { \"POSTGRES_HOST\": \"\", \"POSTGRES_PORT\": \"\", \"POSTGRES_DATABASE\": \"\", \"POSTGRES_USER\": \"\", \"POSTGRES_PASSWORD\": \"\" } } } } Use Tools Your AI tool is now connected to Postgres using MCP. Try asking your AI assistant to list tables, create a table, or define and execute other SQL statements.\nThe following tools are available to the LLM:\nlist_tables: lists tables and descriptions execute_sql: execute any SQL statement Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to PostgreSQL using Toolbox.\n","excerpt":"Connect your IDE to PostgreSQL using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/postgres_mcp/","tags":"","title":"PostgreSQL using MCP"},{"body":"\nBefore you begin This guide assumes you have already done the following:\nInstalled Python 3.9+ (including pip and your preferred virtual environment tool for managing dependencies e.g. venv). Installed PostgreSQL 16+ and the psql client. Cloud Setup (Optional) If you plan to use Google Cloud’s Vertex AI with your agent (e.g., using vertexai=True or a Google GenAI model), follow these one-time setup steps for local development:\nInstall the Google Cloud CLI\nSet up Application Default Credentials (ADC)\nSet your project and enable Vertex AI\ngcloud config set project YOUR_PROJECT_ID gcloud services enable aiplatform.googleapis.com Step 1: Set up your database In this section, we will create a database, insert some data that needs to be accessed by our agent, and create a database user for Toolbox to connect with.\nConnect to postgres using the psql command:\npsql -h 127.0.0.1 -U postgres Here, postgres denotes the default postgres superuser.\nInfo\nHaving trouble connecting? Password Prompt: If you are prompted for a password for the postgres user and do not know it (or a blank password doesn’t work), your PostgreSQL installation might require a password or a different authentication method. FATAL: role \"postgres\" does not exist: This error means the default postgres superuser role isn’t available under that name on your system. Connection refused: Ensure your PostgreSQL server is actually running. You can typically check with sudo systemctl status postgresql and start it with sudo systemctl start postgresql on Linux systems. Common Solution For password issues or if the postgres role seems inaccessible directly, try switching to the postgres operating system user first. This user often has permission to connect without a password for local connections (this is called peer authentication).\nsudo -i -u postgres psql -h 127.0.0.1 Once you are in the psql shell using this method, you can proceed with the database creation steps below. Afterwards, type \\q to exit psql, and then exit to return to your normal user shell.\nIf desired, once connected to psql as the postgres OS user, you can set a password for the postgres database user using: ALTER USER postgres WITH PASSWORD 'your_chosen_password';. This would allow direct connection with -U postgres and a password next time.\nCreate a new database and a new user:\nTip\nFor a real application, it’s best to follow the principle of least permission and only grant the privileges your application needs.\nCREATE USER toolbox_user WITH PASSWORD 'my-password'; CREATE DATABASE toolbox_db; GRANT ALL PRIVILEGES ON DATABASE toolbox_db TO toolbox_user; ALTER DATABASE toolbox_db OWNER TO toolbox_user; End the database session:\n\\q (If you used sudo -i -u postgres and then psql, remember you might also need to type exit after \\q to leave the postgres user’s shell session.)\nConnect to your database with your new user:\npsql -h 127.0.0.1 -U toolbox_user -d toolbox_db Create a table using the following command:\nCREATE TABLE hotels( id INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, location VARCHAR NOT NULL, price_tier VARCHAR NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BIT NOT NULL ); Insert data into the table.\nINSERT INTO hotels(id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-22', '2024-04-20', B'0'), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', B'0'), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', B'0'), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-24', '2024-04-05', B'0'), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-23', '2024-04-01', B'0'), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', B'0'), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-27', '2024-04-02', B'0'), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-24', '2024-04-09', B'0'), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', B'0'), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', B'0'); End the database session:\n\\q Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. Be sure to update any fields such as user, password, or database that you may have customized in the previous step.\nTip\nIn practice, use environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: toolbox_db user: ${USER_NAME} password: ${PASSWORD} tools: search-hotels-by-name: kind: postgres-sql source: my-pg-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE name ILIKE '%' || $1 || '%'; search-hotels-by-location: kind: postgres-sql source: my-pg-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%'; book-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: string description: The ID of the hotel to book. statement: UPDATE hotels SET booked = B'1' WHERE id = $1; update-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: hotel_id type: string description: The ID of the hotel to update. - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. statement: \u003e- UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3 as date) WHERE id = $1; cancel-hotel: kind: postgres-sql source: my-pg-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: string description: The ID of the hotel to cancel. statement: UPDATE hotels SET booked = B'0' WHERE id = $1; toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel For more info on tools, check out the Resources section of the docs.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Note\nToolbox enables dynamic reloading by default. To disable, use the `--disable-reload` flag. Step 3: Connect your agent to Toolbox In this section, we will write and run an agent that will load the Tools from Toolbox.\nTip\nIf you prefer to experiment within a Google Colab environment, you can connect to a local runtime.\nIn a new terminal, install the SDK package.\nADK Langchain LlamaIndex Core pip install toolbox-core pip install toolbox-langchain pip install toolbox-llamaindex pip install toolbox-core Install other required dependencies:\nADK Langchain LlamaIndex Core pip install google-adk # TODO(developer): replace with correct package if needed pip install langgraph langchain-google-vertexai # pip install langchain-google-genai # pip install langchain-anthropic # TODO(developer): replace with correct package if needed pip install llama-index-llms-google-genai # pip install llama-index-llms-anthropic pip install google-genai Create a new file named hotel_agent.py and copy the following code to create an agent: ADK LangChain LlamaIndex Core from google.adk.agents import Agent from google.adk.runners import Runner from google.adk.sessions import InMemorySessionService from google.adk.artifacts.in_memory_artifact_service import InMemoryArtifactService from google.genai import types from toolbox_core import ToolboxSyncClient import asyncio import os # TODO(developer): replace this with your Google API key api_key = os.environ.get(\"GOOGLE_API_KEY\") or \"your-api-key\" # Set your API key here os.environ[\"GOOGLE_API_KEY\"] = api_key async def main(): with ToolboxSyncClient(\"http://127.0.0.1:5000\") as toolbox_client: prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" root_agent = Agent( model='gemini-2.0-flash-001', name='hotel_agent', description='A helpful AI assistant.', instruction=prompt, tools=toolbox_client.load_toolset(\"my-toolset\"), ) session_service = InMemorySessionService() artifacts_service = InMemoryArtifactService() session = await session_service.create_session( state={}, app_name='hotel_agent', user_id='123' ) runner = Runner( app_name='hotel_agent', agent=root_agent, artifact_service=artifacts_service, session_service=session_service, ) queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] for query in queries: content = types.Content(role='user', parts=[types.Part(text=query)]) events = runner.run(session_id=session.id, user_id='123', new_message=content) responses = ( part.text for event in events for part in event.content.parts if part.text is not None ) for text in responses: print(text) asyncio.run(main()) import asyncio from langgraph.prebuilt import create_react_agent # TODO(developer): replace this with another import if needed from langchain_google_vertexai import ChatVertexAI # from langchain_google_genai import ChatGoogleGenerativeAI # from langchain_anthropic import ChatAnthropic from langgraph.checkpoint.memory import MemorySaver from toolbox_langchain import ToolboxClient prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] async def main(): # TODO(developer): replace this with another model if needed model = ChatVertexAI(model_name=\"gemini-2.0-flash-001\") # model = ChatGoogleGenerativeAI(model=\"gemini-2.0-flash-001\") # model = ChatAnthropic(model=\"claude-3-5-sonnet-20240620\") # Load the tools from the Toolbox server async with ToolboxClient(\"http://127.0.0.1:5000\") as client: tools = await client.aload_toolset() agent = create_react_agent(model, tools, checkpointer=MemorySaver()) config = {\"configurable\": {\"thread_id\": \"thread-1\"}} for query in queries: inputs = {\"messages\": [(\"user\", prompt + query)]} response = agent.invoke(inputs, stream_mode=\"values\", config=config) print(response[\"messages\"][-1].content) asyncio.run(main()) import asyncio import os from llama_index.core.agent.workflow import AgentWorkflow from llama_index.core.workflow import Context # TODO(developer): replace this with another import if needed from llama_index.llms.google_genai import GoogleGenAI # from llama_index.llms.anthropic import Anthropic from toolbox_llamaindex import ToolboxClient project = os.environ.get(\"GCP_PROJECT\") or \"project-id\" prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ] async def main(): # TODO(developer): replace this with another model if needed llm = GoogleGenAI( model=\"gemini-2.0-flash-001\", vertexai_config={\"project\": project, \"location\": \"us-central1\"}, ) # llm = GoogleGenAI( # api_key=os.getenv(\"GOOGLE_API_KEY\"), # model=\"gemini-2.0-flash-001\", # ) # llm = Anthropic( # model=\"claude-3-7-sonnet-latest\", # api_key=os.getenv(\"ANTHROPIC_API_KEY\") # ) # Load the tools from the Toolbox server async with ToolboxClient(\"http://127.0.0.1:5000\") as client: tools = await client.aload_toolset() agent = AgentWorkflow.from_tools_or_functions( tools, llm=llm, system_prompt=prompt, ) ctx = Context(agent) for query in queries: response = await agent.run(user_msg=query, ctx=ctx) print(f\"---- {query} ----\") print(str(response)) asyncio.run(main()) import asyncio import os from google import genai from google.genai.types import ( Content, FunctionDeclaration, GenerateContentConfig, Part, Tool, ) from toolbox_core import ToolboxClient project = os.environ.get(\"GCP_PROJECT\") or \"project-id\" prompt = \"\"\" You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention it's name, id, location and price tier. Always mention hotel id while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. \"\"\" queries = [ \"Find hotels in Basel with Basel in its name.\", \"Please book the hotel Hilton Basel for me.\", \"This is too expensive. Please cancel it.\", \"Please book Hyatt Regency for me\", \"My check in dates for my booking would be from April 10, 2024 to April 19, 2024.\", ] async def main(): async with ToolboxClient(\"http://127.0.0.1:5000\") as toolbox_client: # The toolbox_tools list contains Python callables (functions/methods) designed for LLM tool-use # integration. While this example uses Google's genai client, these callables can be adapted for # various function-calling or agent frameworks. For easier integration with supported frameworks # (https://github.com/googleapis/mcp-toolbox-python-sdk/tree/main/packages), use the # provided wrapper packages, which handle framework-specific boilerplate. toolbox_tools = await toolbox_client.load_toolset(\"my-toolset\") genai_client = genai.Client( vertexai=True, project=project, location=\"us-central1\" ) genai_tools = [ Tool( function_declarations=[ FunctionDeclaration.from_callable_with_api_option(callable=tool) ] ) for tool in toolbox_tools ] history = [] for query in queries: user_prompt_content = Content( role=\"user\", parts=[Part.from_text(text=query)], ) history.append(user_prompt_content) response = genai_client.models.generate_content( model=\"gemini-2.0-flash-001\", contents=history, config=GenerateContentConfig( system_instruction=prompt, tools=genai_tools, ), ) history.append(response.candidates[0].content) function_response_parts = [] if response.function_calls: for function_call in response.function_calls: fn_name = function_call.name # The tools are sorted alphabetically if fn_name == \"search-hotels-by-name\": function_result = await toolbox_tools[3](**function_call.args) elif fn_name == \"search-hotels-by-location\": function_result = await toolbox_tools[2](**function_call.args) elif fn_name == \"book-hotel\": function_result = await toolbox_tools[0](**function_call.args) elif fn_name == \"update-hotel\": function_result = await toolbox_tools[4](**function_call.args) elif fn_name == \"cancel-hotel\": function_result = await toolbox_tools[1](**function_call.args) else: raise ValueError(f\"Function name {fn_name} not present.\") function_response = {\"result\": function_result} function_response_part = Part.from_function_response( name=function_call.name, response=function_response, ) function_response_parts.append(function_response_part) if function_response_parts: tool_response_content = Content(role=\"tool\", parts=function_response_parts) history.append(tool_response_content) response2 = genai_client.models.generate_content( model=\"gemini-2.0-flash-001\", contents=history, config=GenerateContentConfig( tools=genai_tools, ), ) final_model_response_content = response2.candidates[0].content history.append(final_model_response_content) print(response2.text) else: print(response.text) asyncio.run(main()) ADK Langchain LlamaIndex Core To learn more about Agent Development Kit, check out the ADK documentation.\nTo learn more about Agents in LangChain, check out the LangGraph Agent documentation.\nTo learn more about Agents in LlamaIndex, check out the LlamaIndex AgentWorkflow documentation.\nTo learn more about tool calling with Google GenAI, check out the Google GenAI Documentation.\nRun your agent, and observe the results:\npython hotel_agent.py Info\nFor more information, visit the Python SDK repo.\n","categories":"","description":"How to get started running Toolbox locally with [Python](https://github.com/googleapis/mcp-toolbox-sdk-python), PostgreSQL, and  [Agent Development Kit](https://google.github.io/adk-docs/), [LangGraph](https://www.langchain.com/langgraph), [LlamaIndex](https://www.llamaindex.ai/) or [GoogleGenAI](https://pypi.org/project/google-genai/).\n","excerpt":"How to get started running Toolbox locally with …","ref":"/genai-toolbox/getting-started/local_quickstart/","tags":"","title":"Python Quickstart (Local)"},{"body":" ","categories":"","description":"Python client SDK","excerpt":"Python client SDK","ref":"/genai-toolbox/sdks/python-sdk/","tags":"","title":"Python SDK"},{"body":"Overview Model Context Protocol is an open protocol that standardizes how applications provide context to LLMs. Check out this page on how to connect to Toolbox via MCP.\nStep 1: Set up your BigQuery Dataset and Table In this section, we will create a BigQuery dataset and a table, then insert some data that needs to be accessed by our agent.\nCreate a new BigQuery dataset (replace YOUR_DATASET_NAME with your desired dataset name, e.g., toolbox_mcp_ds, and optionally specify a location like US or EU):\nexport BQ_DATASET_NAME=\"YOUR_DATASET_NAME\" export BQ_LOCATION=\"US\" bq --location=$BQ_LOCATION mk $BQ_DATASET_NAME You can also do this through the Google Cloud Console.\nThe hotels table needs to be defined in your new dataset. First, create a file named create_hotels_table.sql with the following content:\nCREATE TABLE IF NOT EXISTS `YOUR_PROJECT_ID.YOUR_DATASET_NAME.hotels` ( id INT64 NOT NULL, name STRING NOT NULL, location STRING NOT NULL, price_tier STRING NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BOOLEAN NOT NULL ); Note: Replace YOUR_PROJECT_ID and YOUR_DATASET_NAME in the SQL with your actual project ID and dataset name.\nThen run the command below to execute the sql query:\nbq query --project_id=$GOOGLE_CLOUD_PROJECT --dataset_id=$BQ_DATASET_NAME --use_legacy_sql=false \u003c create_hotels_table.sql . Next, populate the hotels table with some initial data. To do this, create a file named insert_hotels_data.sql and add the following SQL INSERT statement to it.\nINSERT INTO `YOUR_PROJECT_ID.YOUR_DATASET_NAME.hotels` (id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-20', '2024-04-22', FALSE), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', FALSE), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', FALSE), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-05', '2024-04-24', FALSE), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-01', '2024-04-23', FALSE), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', FALSE), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-02', '2024-04-27', FALSE), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-09', '2024-04-24', FALSE), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', FALSE), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', FALSE); Note: Replace YOUR_PROJECT_ID and YOUR_DATASET_NAME in the SQL with your actual project ID and dataset name.\nThen run the command below to execute the sql query:\nbq query --project_id=$GOOGLE_CLOUD_PROJECT --dataset_id=$BQ_DATASET_NAME --use_legacy_sql=false \u003c insert_hotels_data.sql Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. You must replace the YOUR_PROJECT_ID and YOUR_DATASET_NAME placeholder in the config with your actual BigQuery project and dataset name. The location field is optional; if not specified, it defaults to ‘us’. The table name hotels is used directly in the statements.\nTip\nAuthentication with BigQuery is handled via Application Default Credentials (ADC). Ensure you have run gcloud auth application-default login.\nsources: my-bigquery-source: kind: bigquery project: YOUR_PROJECT_ID location: us tools: search-hotels-by-name: kind: bigquery-sql source: my-bigquery-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM `YOUR_DATASET_NAME.hotels` WHERE LOWER(name) LIKE LOWER(CONCAT('%', @name, '%')); search-hotels-by-location: kind: bigquery-sql source: my-bigquery-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM `YOUR_DATASET_NAME.hotels` WHERE LOWER(location) LIKE LOWER(CONCAT('%', @location, '%')); book-hotel: kind: bigquery-sql source: my-bigquery-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: integer description: The ID of the hotel to book. statement: UPDATE `YOUR_DATASET_NAME.hotels` SET booked = TRUE WHERE id = @hotel_id; update-hotel: kind: bigquery-sql source: my-bigquery-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. - name: hotel_id type: integer description: The ID of the hotel to update. statement: \u003e- UPDATE `YOUR_DATASET_NAME.hotels` SET checkin_date = PARSE_DATE('%Y-%m-%d', @checkin_date), checkout_date = PARSE_DATE('%Y-%m-%d', @checkout_date) WHERE id = @hotel_id; cancel-hotel: kind: bigquery-sql source: my-bigquery-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: integer description: The ID of the hotel to cancel. statement: UPDATE `YOUR_DATASET_NAME.hotels` SET booked = FALSE WHERE id = @hotel_id; toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel For more info on tools, check out the Tools section.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Step 3: Connect to MCP Inspector Run the MCP Inspector:\nnpx @modelcontextprotocol/inspector Type y when it asks to install the inspector package.\nIt should show the following when the MCP Inspector is up and running (please take note of \u003cYOUR_SESSION_TOKEN\u003e):\nStarting MCP inspector... ⚙️ Proxy server listening on localhost:6277 🔑 Session token: \u003cYOUR_SESSION_TOKEN\u003e Use this token to authenticate requests or set DANGEROUSLY_OMIT_AUTH=true to disable auth 🚀 MCP Inspector is up and running at: http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=\u003cYOUR_SESSION_TOKEN\u003e Open the above link in your browser.\nFor Transport Type, select Streamable HTTP.\nFor URL, type in http://127.0.0.1:5000/mcp.\nFor Configuration -\u003e Proxy Session Token, make sure \u003cYOUR_SESSION_TOKEN\u003e is present.\nClick Connect.\nSelect List Tools, you will see a list of tools configured in tools.yaml.\nTest out your tools here!\n","categories":"","description":"How to get started running Toolbox with MCP Inspector and BigQuery as the source.\n","excerpt":"How to get started running Toolbox with MCP Inspector and BigQuery as …","ref":"/genai-toolbox/samples/bigquery/mcp_quickstart/","tags":"","title":"Quickstart (MCP with BigQuery)"},{"body":"Overview Model Context Protocol is an open protocol that standardizes how applications provide context to LLMs. Check out this page on how to connect to Toolbox via MCP.\nStep 1: Get a Looker Client ID and Client Secret The Looker Client ID and Client Secret can be obtained from the Users page of your Looker instance. Refer to the documentation here. You may need to ask an administrator to get the Client ID and Client Secret for you.\nStep 2: Install and configure Toolbox In this section, we will download Toolbox and run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Edit the file ~/.gemini/settings.json and add the following to the list of mcpServers. Use the Client Id and Client Secret you obtained earlier. The name of the server - here looker-toolbox - can be anything meaningful to you.\n\"mcpServers\": { \"looker-toolbox\": { \"command\": \"/path/to/toolbox\", \"args\": [ \"--stdio\", \"--prebuilt\", \"looker\" ], \"env\": { \"LOOKER_BASE_URL\": \"https://looker.example.com\", \"LOOKER_CLIENT_ID\": \"\", \"LOOKER_CLIENT_SECRET\": \"\", \"LOOKER_VERIFY_SSL\": \"true\" } } } In some instances you may need to append :19999 to the LOOKER_BASE_URL.\nStep 3: Start Gemini-CLI Run Gemini-CLI:\nnpx https://github.com/google-gemini/gemini-cli Type y when it asks to download.\nLog into Gemini-CLI\nEnter the command /mcp and you should see a list of available tools like\nℹ Configured MCP servers: 🟢 looker-toolbox - Ready (10 tools) - looker-toolbox__get_models - looker-toolbox__query - looker-toolbox__get_looks - looker-toolbox__get_measures - looker-toolbox__get_filters - looker-toolbox__get_parameters - looker-toolbox__get_explores - looker-toolbox__query_sql - looker-toolbox__get_dimensions - looker-toolbox__run_look - looker-toolbox__query_url Start exploring your Looker instance with commands like Find an explore to see orders or show me my current inventory broken down by item category.\nGemini will prompt you for your approval before using a tool. You can approve all the tools at once or one at a time.\n","categories":"","description":"How to get started running Toolbox with Gemini-CLI and Looker as the source.\n","excerpt":"How to get started running Toolbox with Gemini-CLI and Looker as the …","ref":"/genai-toolbox/samples/looker/looker_gemini/","tags":"","title":"Quickstart (MCP with Looker and Gemini-CLI)"},{"body":"Overview Model Context Protocol is an open protocol that standardizes how applications provide context to LLMs. Check out this page on how to connect to Toolbox via MCP.\nStep 1: Get a Looker Client ID and Client Secret The Looker Client ID and Client Secret can be obtained from the Users page of your Looker instance. Refer to the documentation here. You may need to ask an administrator to get the Client ID and Client Secret for you.\nStep 2: Install and configure Toolbox In this section, we will download Toolbox and run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Create a file looker_env with the settings for your Looker instance. Use the Client ID and Client Secret you obtained earlier.\nexport LOOKER_BASE_URL=https://looker.example.com export LOOKER_VERIFY_SSL=true export LOOKER_CLIENT_ID=Q7ynZkRkvj9S9FHPm4Wj export LOOKER_CLIENT_SECRET=P5JvZstFnhpkhCYy2yNSfJ6x In some instances you may need to append :19999 to the LOOKER_BASE_URL.\nLoad the looker_env file into your environment.\nsource looker_env Run the Toolbox server using the prebuilt Looker tools.\n./toolbox --prebuilt looker Step 3: Connect to MCP Inspector Run the MCP Inspector:\nnpx @modelcontextprotocol/inspector Type y when it asks to install the inspector package.\nIt should show the following when the MCP Inspector is up and running:\n🔍 MCP Inspector is up and running at http://127.0.0.1:5173 🚀 Open the above link in your browser.\nFor Transport Type, select SSE.\nFor URL, type in http://127.0.0.1:5000/mcp/sse.\nClick Connect.\nSelect List Tools, you will see a list of tools.\nTest out your tools here!\n","categories":"","description":"How to get started running Toolbox with MCP Inspector and Looker as the source.\n","excerpt":"How to get started running Toolbox with MCP Inspector and Looker as …","ref":"/genai-toolbox/samples/looker/looker_mcp_inspector/","tags":"","title":"Quickstart (MCP with Looker)"},{"body":" ","categories":"","description":"Connect your IDE to Spanner using Toolbox.\n","excerpt":"Connect your IDE to Spanner using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/spanner_mcp/","tags":"","title":"Spanner using MCP"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like SQL Server. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a SQL Server instance:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Set up the database Create or select a SQL Server instance. Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.10.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Open Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"servers\": { \"mssql\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"sqlserver\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"mssql\",\"--stdio\"], \"env\": { \"MSSQL_HOST\": \"\", \"MSSQL_PORT\": \"\", \"MSSQL_DATABASE\": \"\", \"MSSQL_USER\": \"\", \"MSSQL_PASSWORD\": \"\" } } } } Use Tools Your AI tool is now connected to SQL Server using MCP. Try asking your AI assistant to list tables, create a table, or define and execute other SQL statements.\nThe following tools are available to the LLM:\nlist_tables: lists tables and descriptions execute_sql: execute any SQL statement Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to SQL Server using Toolbox.","excerpt":"Connect your IDE to SQL Server using Toolbox.","ref":"/genai-toolbox/how-to/connect-ide/mssql_mcp/","tags":"","title":"SQL Server using MCP"},{"body":"Model Context Protocol (MCP) is an open protocol for connecting Large Language Models (LLMs) to data sources like SQLite. This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to a SQLite instance:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Set up the database Create or select a SQLite database file. Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.10.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"sqlite\", \"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"sqlite\", \"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"sqlite\", \"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\", \"sqlite\", \"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Open Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"servers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"sqlite\",\"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration, replace the environment variables with your values, and save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"sqlite\",\"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"sqlite\",\"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration, replace the environment variables with your values, and then save:\n{ \"mcpServers\": { \"sqlite\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"sqlite\",\"--stdio\"], \"env\": { \"SQLITE_DATABASE\": \"./sample.db\" } } } } Use Tools Your AI tool is now connected to SQLite using MCP. Try asking your AI assistant to list tables, create a table, or define and execute other SQL statements.\nThe following tools are available to the LLM:\nlist_tables: lists tables and descriptions execute_sql: execute any SQL statement Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Connect your IDE to SQLite using Toolbox.","excerpt":"Connect your IDE to SQLite using Toolbox.","ref":"/genai-toolbox/how-to/connect-ide/sqlite_mcp/","tags":"","title":"SQLite using MCP"},{"body":"About Telemetry data such as logs, metrics, and traces will help developers understand the internal state of the system. This page walks though different types of telemetry and observability available in Toolbox.\nToolbox exports telemetry data of logs via standard out/err, and traces/metrics through OpenTelemetry. Additional flags can be passed to Toolbox to enable different logging behavior, or to export metrics through a specific exporter.\nLogging The following flags can be used to customize Toolbox logging:\nFlag Description --log-level Preferred log level, allowed values: debug, info, warn, error. Default: info. --logging-format Preferred logging format, allowed values: standard, json. Default: standard. Example:\n./toolbox --tools-file \"tools.yaml\" --log-level warn --logging-format json Level Toolbox supports the following log levels, including:\nLog level Description Debug Debug logs typically contain information that is only useful during the debugging phase and may be of little value during production. Info Info logs include information about successful operations within the application, such as a successful start, pause, or exit of the application. Warn Warning logs are slightly less severe than error conditions. While it does not cause an error, it indicates that an operation might fail in the future if action is not taken now. Error Error log is assigned to event logs that contain an application error message. Toolbox will only output logs that are equal or more severe to the level that it is set. Below are the log levels that Toolbox supports in the order of severity.\nFormat Toolbox supports both standard and structured logging format.\nThe standard logging outputs log as string:\n2024-11-12T15:08:11.451377-08:00 INFO \"Initialized 0 sources.\\n\" The structured logging outputs log as JSON:\n{ \"timestamp\":\"2024-11-04T16:45:11.987299-08:00\", \"severity\":\"ERROR\", \"logging.googleapis.com/sourceLocation\":{...}, \"message\":\"unable to parse tool file at \\\"tools.yaml\\\": \\\"cloud-sql-postgres1\\\" is not a valid kind of data source\" } Tip\nlogging.googleapis.com/sourceLocation shows the source code location information associated with the log entry, if any.\nTelemetry Toolbox is supports exporting metrics and traces to any OpenTelemetry compatible exporter.\nMetrics A metric is a measurement of a service captured at runtime. The collected data can be used to provide important insights into the service. Toolbox provides the following custom metrics:\nMetric Name Description toolbox.server.toolset.get.count Counts the number of toolset manifest requests served toolbox.server.tool.get.count Counts the number of tool manifest requests served toolbox.server.tool.get.invoke Counts the number of tool invocation requests served toolbox.server.mcp.sse.count Counts the number of mcp sse connection requests served toolbox.server.mcp.post.count Counts the number of mcp post requests served All custom metrics have the following attributes/labels:\nMetric Attributes Description toolbox.name Name of the toolset or tool, if applicable. toolbox.operation.status Operation status code, for example: success, failure. toolbox.sse.sessionId Session id for sse connection, if applicable. toolbox.method Method of JSON-RPC request, if applicable. Traces A trace is a tree of spans that shows the path that a request makes through an application.\nSpans generated by Toolbox server is prefixed with toolbox/server/. For example, when user run Toolbox, it will generate spans for the following, with toolbox/server/init as the root span:\nResource Attributes All metrics and traces generated within Toolbox will be associated with a unified resource. The list of resource attributes included are:\nResource Name Description TelemetrySDK TelemetrySDK version info. OS OS attributes including OS description and OS type. Container Container attributes including container ID, if applicable. Host Host attributes including host name. SchemaURL Sets the schema URL for the configured resource. service.name Open telemetry service name. Defaulted to toolbox. User can set the service name via flag mentioned above to distinguish between different toolbox service. service.version The version of Toolbox used. Exporter An exporter is responsible for processing and exporting telemetry data. Toolbox generates telemetry data within the OpenTelemetry Protocol (OTLP), and user can choose to use exporters that are designed to support the OpenTelemetry Protocol. Within Toolbox, we provide two types of exporter implementation to choose from, either the Google Cloud Exporter that will send data directly to the backend, or the OTLP Exporter along with a Collector that will act as a proxy to collect and export data to the telemetry backend of user’s choice.\nGoogle Cloud Exporter The Google Cloud Exporter directly exports telemetry to Google Cloud Monitoring. It utilizes the GCP Metric Exporter and GCP Trace Exporter.\nNote\nIf you’re using Google Cloud Monitoring, the following APIs will need to be enabled:\nCloud Logging API Cloud Monitoring API Cloud Trace API OTLP Exporter This implementation uses the default OTLP Exporter over HTTP for metrics and traces. You can use this exporter if you choose to export your telemetry data to a Collector.\nCollector A collector acts as a proxy between the application and the telemetry backend. It receives telemetry data, transforms it, and then exports data to backends that can store it permanently. Toolbox provide an option to export telemetry data to user’s choice of backend(s) that are compatible with the Open Telemetry Protocol (OTLP). If you would like to use a collector, please refer to this Export Telemetry using the Otel Collector.\nFlags The following flags are used to determine Toolbox’s telemetry configuration:\nflag type description --telemetry-gcp bool Enable exporting directly to Google Cloud Monitoring. Default is false. --telemetry-otlp string Enable exporting using OpenTelemetry Protocol (OTLP) to the specified endpoint (e.g. “http://127.0.0.1:4318”). --telemetry-service-name string Sets the value of the service.name resource attribute. Default is toolbox. In addition to the flags noted above, you can also make additional configuration for OpenTelemetry via the General SDK Configuration through environmental variables.\nExamples:\nTo enable Google Cloud Exporter:\n./toolbox --telemetry-gcp To enable OTLP Exporter, provide Collector endpoint:\n./toolbox --telemetry-otlp=\"http://127.0.0.1:4553\" ","categories":"","description":"An overview of telemetry and observability in Toolbox.\n","excerpt":"An overview of telemetry and observability in Toolbox.\n","ref":"/genai-toolbox/concepts/telemetry/","tags":"","title":"Telemetry"},{"body":"A tool represents an action your agent can take, such as running a SQL statement. You can define Tools as a map in the tools section of your tools.yaml file. Typically, a tool will require a source to act on:\ntools: search_flights_by_number: kind: postgres-sql source: my-pg-instance statement: | SELECT * FROM flights WHERE airline = $1 AND flight_number = $2 LIMIT 10 description: | Use this tool to get information for a specific flight. Takes an airline code and flight number and returns info on the flight. Do NOT use this tool with a flight id. Do NOT guess an airline code or flight number. An airline code is a code for an airline service consisting of a two-character airline designator and followed by a flight number, which is a 1 to 4 digit number. For example, if given CY 0123, the airline is \"CY\", and flight_number is \"123\". Another example for this is DL 1234, the airline is \"DL\", and flight_number is \"1234\". If the tool returns more than one option choose the date closest to today. Example: {{ \"airline\": \"CY\", \"flight_number\": \"888\", }} Example: {{ \"airline\": \"DL\", \"flight_number\": \"1234\", }} parameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Specifying Parameters Parameters for each Tool will define what inputs the agent will need to provide to invoke them. Parameters should be pass as a list of Parameter objects:\nparameters: - name: airline type: string description: Airline unique 2 letter identifier - name: flight_number type: string description: 1 to 4 digit number Basic Parameters Basic parameters types include string, integer, float, boolean types. In most cases, the description will be provided to the LLM as context on specifying the parameter.\nparameters: - name: airline type: string description: Airline unique 2 letter identifier field type required description name string true Name of the parameter. type string true Must be one of “string”, “integer”, “float”, “boolean” “array” description string true Natural language description of the parameter to describe it to the agent. default parameter type false Default value of the parameter. If provided, required will be false. required bool false Indicate if the parameter is required. Default to true. Array Parameters The array type is a list of items passed in as a single parameter. To use the array type, you must also specify what kind of items are in the list using the items field:\nparameters: - name: preferred_airlines type: array description: A list of airline, ordered by preference. items: name: name type: string description: Name of the airline. statement: | SELECT * FROM airlines WHERE preferred_airlines = ANY($1); field type required description name string true Name of the parameter. type string true Must be “array” description string true Natural language description of the parameter to describe it to the agent. default parameter type false Default value of the parameter. If provided, required will be false. required bool false Indicate if the parameter is required. Default to true. items parameter object true Specify a Parameter object for the type of the values in the array. Note\nItems in array should not have a default or required value. If provided, it will be ignored.\nMap Parameters The map type is a collection of key-value pairs. It can be configured in two ways:\nGeneric Map: By default, it accepts values of any primitive type (string, integer, float, boolean), allowing for mixed data. Typed Map: By setting the valueType field, you can enforce that all values within the map must be of the same specified type. Generic Map (Mixed Value Types) This is the default behavior when valueType is omitted. It’s useful for passing a flexible group of settings.\nparameters: - name: execution_context type: map description: A flexible set of key-value pairs for the execution environment. Typed Map Specify valueType to ensure all values in the map are of the same type. An error will be thrown in case of value type mismatch.\nparameters: - name: user_scores type: map description: A map of user IDs to their scores. All scores must be integers. valueType: integer # This enforces the value type for all entries. Authenticated Parameters Authenticated parameters are automatically populated with user information decoded from ID tokens that are passed in request headers. They do not take input values in request bodies like other parameters. To use authenticated parameters, you must configure the tool to map the required authServices to specific claims within the user’s ID token.\ntools: search_flights_by_user_id: kind: postgres-sql source: my-pg-instance statement: | SELECT * FROM flights WHERE user_id = $1 parameters: - name: user_id type: string description: Auto-populated from Google login authServices: # Refer to one of the `authServices` defined - name: my-google-auth # `sub` is the OIDC claim field for user ID field: sub field type required description name string true Name of the authServices used to verify the OIDC auth token. field string true Claim field decoded from the OIDC token used to auto-populate this parameter. Template Parameters Template parameters types include string, integer, float, boolean types. In most cases, the description will be provided to the LLM as context on specifying the parameter. Template parameters will be inserted into the SQL statement before executing the prepared statement. They will be inserted without quotes, so to insert a string using template parameters, quotes must be explicitly added within the string.\nTemplate parameter arrays can also be used similarly to basic parameters, and array items must be strings. Once inserted into the SQL statement, the outer layer of quotes will be removed. Therefore to insert strings into the SQL statement, a set of quotes must be explicitly added within the string.\nWarning\nBecause template parameters can directly replace identifiers, column names, and table names, they are prone to SQL injections. Basic parameters are preferred for performance and safety reasons.\ntools: select_columns_from_table: kind: postgres-sql source: my-pg-instance statement: | SELECT {{array .columnNames}} FROM {{.tableName}} description: | Use this tool to list all information from a specific table. Example: {{ \"tableName\": \"flights\", \"columnNames\": [\"id\", \"name\"] }} templateParameters: - name: tableName type: string description: Table to select from - name: columnNames type: array description: The columns to select items: name: column type: string description: Name of a column to select field type required description name string true Name of the template parameter. type string true Must be one of “string”, “integer”, “float”, “boolean” “array” description string true Natural language description of the template parameter to describe it to the agent. items parameter object true (if array) Specify a Parameter object for the type of the values in the array (string only). Authorized Invocations You can require an authorization check for any Tool invocation request by specifying an authRequired field. Specify a list of authServices defined in the previous section.\ntools: search_all_flight: kind: postgres-sql source: my-pg-instance statement: | SELECT * FROM flights # A list of `authServices` defined previously authRequired: - my-google-auth - other-auth-service Kinds of tools ","categories":"","description":"Tools define actions an agent can take -- such as reading and writing to a source.\n","excerpt":"Tools define actions an agent can take -- such as reading and writing …","ref":"/genai-toolbox/resources/tools/","tags":"","title":"Tools"},{"body":"About A clickhouse-list-databases tool lists all available databases in a ClickHouse instance. It’s compatible with the clickhouse source.\nThis tool executes the SHOW DATABASES command and returns a list of all databases accessible to the configured user, making it useful for database discovery and exploration tasks.\nExample tools: list_clickhouse_databases: kind: clickhouse-list-databases source: my-clickhouse-instance description: List all available databases in the ClickHouse instance Return Value The tool returns an array of objects, where each object contains:\nname: The name of the database Example response:\n[ {\"name\": \"default\"}, {\"name\": \"system\"}, {\"name\": \"analytics\"}, {\"name\": \"user_data\"} ] Reference field type required description kind string true Must be “clickhouse-list-databases”. source string true Name of the ClickHouse source to list databases from. description string true Description of the tool that is passed to the LLM. authRequired array of string false Authentication services required to use this tool. parameters array of Parameter false Parameters for the tool (typically not used). ","categories":"","description":"A \"clickhouse-list-databases\" tool lists all databases in a ClickHouse instance.\n","excerpt":"A \"clickhouse-list-databases\" tool lists all databases in a ClickHouse …","ref":"/genai-toolbox/resources/tools/clickhouse/clickhouse-list-databases/","tags":"","title":"clickhouse-list-databases"},{"body":"This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to create and manage Cloud SQL for PostgreSQL instance, database and users:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Before you begin In the Google Cloud console, on the project selector page, select or create a Google Cloud project.\nMake sure that billing is enabled for your Google Cloud project.\nGrant the necessary IAM roles to the user that will be running the MCP server. The tools available will depend on the roles granted:\nroles/cloudsql.viewer: Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation roles/cloudsql.editor: Provides permissions to manage existing resources. All viewer tools create_database roles/cloudsql.admin: Provides full control over all resources. All editor and viewer tools create_instance create_user Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.15.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"servers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-postgres-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-postgres-admin\",\"--stdio\"], \"env\": { } } } } Use Tools Your AI tool is now connected to Cloud SQL for PostgreSQL using MCP.\nThe cloud-sql-postgres-admin server provides tools for managing your Cloud SQL instances and interacting with your database:\ncreate_instance: Creates a new Cloud SQL for PostgreSQL instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Create and manage Cloud SQL for PostgreSQL (Admin) using Toolbox.\n","excerpt":"Create and manage Cloud SQL for PostgreSQL (Admin) using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_pg_admin_mcp/","tags":"","title":"Cloud SQL for PostgreSQL Admin using MCP"},{"body":"Before you begin Install the Google Cloud CLI.\nSet the PROJECT_ID environment variable:\nexport PROJECT_ID=\"my-project-id\" Initialize gcloud CLI:\ngcloud init gcloud config set project $PROJECT_ID Make sure you’ve set up and initialized your database.\nYou must have the following APIs enabled:\ngcloud services enable run.googleapis.com \\ cloudbuild.googleapis.com \\ artifactregistry.googleapis.com \\ iam.googleapis.com \\ secretmanager.googleapis.com To create an IAM account, you must have the following IAM permissions (or roles):\nCreate Service Account role (roles/iam.serviceAccountCreator) To create a secret, you must have the following roles:\nSecret Manager Admin role (roles/secretmanager.admin) To deploy to Cloud Run, you must have the following set of roles:\nCloud Run Developer (roles/run.developer) Service Account User role (roles/iam.serviceAccountUser) Note\nIf you are using sources that require VPC-access (such as AlloyDB or Cloud SQL over private IP), make sure your Cloud Run service and the database are in the same VPC network.\nCreate a service account Create a backend service account if you don’t already have one:\ngcloud iam service-accounts create toolbox-identity Grant permissions to use secret manager:\ngcloud projects add-iam-policy-binding $PROJECT_ID \\ --member serviceAccount:toolbox-identity@$PROJECT_ID.iam.gserviceaccount.com \\ --role roles/secretmanager.secretAccessor Grant additional permissions to the service account that are specific to the source, e.g.:\nAlloyDB for PostgreSQL Cloud SQL for PostgreSQL Configure tools.yaml file Create a tools.yaml file that contains your configuration for Toolbox. For details, see the configuration section.\nDeploy to Cloud Run Upload tools.yaml as a secret:\ngcloud secrets create tools --data-file=tools.yaml If you already have a secret and want to update the secret version, execute the following:\ngcloud secrets versions add tools --data-file=tools.yaml Set an environment variable to the container image that you want to use for cloud run:\nexport IMAGE=us-central1-docker.pkg.dev/database-toolbox/toolbox/toolbox:latest Note\nThe $PORT Environment Variable\nGoogle Cloud Run dictates the port your application must listen on by setting the $PORT environment variable inside your container. This value defaults to 8080. Your application’s --port argument must be set to listen on this port. If there is a mismatch, the container will fail to start and the deployment will time out.\nDeploy Toolbox to Cloud Run using the following command:\ngcloud run deploy toolbox \\ --image $IMAGE \\ --service-account toolbox-identity \\ --region us-central1 \\ --set-secrets \"/app/tools.yaml=tools:latest\" \\ --args=\"--tools-file=/app/tools.yaml\",\"--address=0.0.0.0\",\"--port=8080\" # --allow-unauthenticated # https://cloud.google.com/run/docs/authenticating/public#gcloud If you are using a VPC network, use the command below:\ngcloud run deploy toolbox \\ --image $IMAGE \\ --service-account toolbox-identity \\ --region us-central1 \\ --set-secrets \"/app/tools.yaml=tools:latest\" \\ --args=\"--tools-file=/app/tools.yaml\",\"--address=0.0.0.0\",\"--port=8080\" \\ # TODO(dev): update the following to match your VPC if necessary --network default \\ --subnet default # --allow-unauthenticated # https://cloud.google.com/run/docs/authenticating/public#gcloud Connecting with Toolbox Client SDK You can connect to Toolbox Cloud Run instances directly through the SDK.\nSet up Cloud Run Invoker role access to your Cloud Run service.\n(Only for local runs) Set up Application Default Credentials for the principal you set up the Cloud Run Invoker role access to.\nRun the following to retrieve a non-deterministic URL for the cloud run service:\ngcloud run services describe toolbox --format 'value(status.url)' Import and initialize the toolbox client with the URL retrieved above:\nPython Javascript Go from toolbox_core import ToolboxClient, auth_methods # Replace with the Cloud Run service URL generated in the previous step. URL = \"https://cloud-run-url.app\" auth_token_provider = auth_methods.aget_google_id_token(URL) # can also use sync method async with ToolboxClient( URL, client_headers={\"Authorization\": auth_token_provider}, ) as toolbox: import { ToolboxClient } from '@toolbox-sdk/core'; import {getGoogleIdToken} from '@toolbox-sdk/core/auth' // Replace with the Cloud Run service URL generated in the previous step. const URL = 'http://127.0.0.1:5000'; const authTokenProvider = () =\u003e getGoogleIdToken(URL); const client = new ToolboxClient(URL, null, {\"Authorization\": authTokenProvider}); import \"github.com/googleapis/mcp-toolbox-sdk-go/core\" func main() { // Replace with the Cloud Run service URL generated in the previous step. URL := \"http://127.0.0.1:5000\" auth_token_provider, err := core.GetGoogleIDToken(ctx, URL) if err != nil { log.Fatalf(\"Failed to fetch token %v\", err) } toolboxClient, err := core.NewToolboxClient( URL, core.WithClientHeaderString(\"Authorization\", auth_token_provider)) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } } Now, you can use this client to connect to the deployed Cloud Run instance!\nTroubleshooting Note\nFor any deployment or runtime error, the best first step is to check the logs for your service in the Google Cloud Console’s Cloud Run section. They often contain the specific error message needed to diagnose the problem.\nDeployment Fails with “Container failed to start”: This is almost always caused by a port mismatch. Ensure your container’s --port argument is set to 8080 to match the $PORT environment variable provided by Cloud Run.\nClient Receives Permission Denied Error (401 or 403): If your client application (e.g., your local SDK) gets a 401 Unauthorized or 403 Forbidden error when trying to call your Cloud Run service, it means the client is not properly authenticated as an invoker.\nEnsure the user or service account calling the service has the Cloud Run Invoker (roles/run.invoker) IAM role. If running locally, make sure your Application Default Credentials are set up correctly by running gcloud auth application-default login. Service Fails to Access Secrets (in logs): If your application starts but the logs show errors like “permission denied” when trying to access Secret Manager, it means the Toolbox service account is missing permissions.\nEnsure the toolbox-identity service account has the Secret Manager Secret Accessor (roles/secretmanager.secretAccessor) IAM role. ","categories":"","description":"How to set up and configure Toolbox to run on Cloud Run.\n","excerpt":"How to set up and configure Toolbox to run on Cloud Run.\n","ref":"/genai-toolbox/how-to/deploy_toolbox/","tags":"","title":"Deploy to Cloud Run"},{"body":"","categories":"","description":"List of guides detailing how to do different things with Toolbox. \n","excerpt":"List of guides detailing how to do different things with Toolbox. \n","ref":"/genai-toolbox/how-to/","tags":"","title":"How-to"},{"body":"Before you begin This guide assumes you have already done the following:\nInstalled Node.js (v18 or higher). Installed PostgreSQL 16+ and the psql client. Cloud Setup (Optional) If you plan to use Google Cloud’s Vertex AI with your agent (e.g., using vertexai=True or a Google GenAI model), follow these one-time setup steps for local development:\nInstall the Google Cloud CLI\nSet up Application Default Credentials (ADC)\nSet your project and enable Vertex AI\ngcloud config set project YOUR_PROJECT_ID gcloud services enable aiplatform.googleapis.com Step 1: Set up your database In this section, we will create a database, insert some data that needs to be accessed by our agent, and create a database user for Toolbox to connect with.\nConnect to postgres using the psql command:\npsql -h 127.0.0.1 -U postgres Here, postgres denotes the default postgres superuser.\nInfo\nHaving trouble connecting? Password Prompt: If you are prompted for a password for the postgres user and do not know it (or a blank password doesn’t work), your PostgreSQL installation might require a password or a different authentication method. FATAL: role \"postgres\" does not exist: This error means the default postgres superuser role isn’t available under that name on your system. Connection refused: Ensure your PostgreSQL server is actually running. You can typically check with sudo systemctl status postgresql and start it with sudo systemctl start postgresql on Linux systems. Common Solution For password issues or if the postgres role seems inaccessible directly, try switching to the postgres operating system user first. This user often has permission to connect without a password for local connections (this is called peer authentication).\nsudo -i -u postgres psql -h 127.0.0.1 Once you are in the psql shell using this method, you can proceed with the database creation steps below. Afterwards, type \\q to exit psql, and then exit to return to your normal user shell.\nIf desired, once connected to psql as the postgres OS user, you can set a password for the postgres database user using: ALTER USER postgres WITH PASSWORD 'your_chosen_password';. This would allow direct connection with -U postgres and a password next time.\nCreate a new database and a new user:\nTip\nFor a real application, it’s best to follow the principle of least permission and only grant the privileges your application needs.\nCREATE USER toolbox_user WITH PASSWORD 'my-password'; CREATE DATABASE toolbox_db; GRANT ALL PRIVILEGES ON DATABASE toolbox_db TO toolbox_user; ALTER DATABASE toolbox_db OWNER TO toolbox_user; End the database session:\n\\q (If you used sudo -i -u postgres and then psql, remember you might also need to type exit after \\q to leave the postgres user’s shell session.)\nConnect to your database with your new user:\npsql -h 127.0.0.1 -U toolbox_user -d toolbox_db Create a table using the following command:\nCREATE TABLE hotels( id INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, location VARCHAR NOT NULL, price_tier VARCHAR NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BIT NOT NULL ); Insert data into the table.\nINSERT INTO hotels(id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-22', '2024-04-20', B'0'), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', B'0'), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', B'0'), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-24', '2024-04-05', B'0'), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-23', '2024-04-01', B'0'), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', B'0'), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-27', '2024-04-02', B'0'), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-24', '2024-04-09', B'0'), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', B'0'), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', B'0'); End the database session:\n\\q Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. Be sure to update any fields such as user, password, or database that you may have customized in the previous step.\nTip\nIn practice, use environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: toolbox_db user: ${USER_NAME} password: ${PASSWORD} tools: search-hotels-by-name: kind: postgres-sql source: my-pg-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE name ILIKE '%' || $1 || '%'; search-hotels-by-location: kind: postgres-sql source: my-pg-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%'; book-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: string description: The ID of the hotel to book. statement: UPDATE hotels SET booked = B'1' WHERE id = $1; update-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: hotel_id type: string description: The ID of the hotel to update. - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. statement: \u003e- UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3 as date) WHERE id = $1; cancel-hotel: kind: postgres-sql source: my-pg-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: string description: The ID of the hotel to cancel. statement: UPDATE hotels SET booked = B'0' WHERE id = $1; toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel For more info on tools, check out the Resources section of the docs.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Note\nToolbox enables dynamic reloading by default. To disable, use the `--disable-reload` flag. Step 3: Connect your agent to Toolbox In this section, we will write and run an agent that will load the Tools from Toolbox.\n(Optional) Initialize a Node.js project:\nnpm init -y In a new terminal, install the SDK.\nnpm install @toolbox-sdk/core Install other required dependencies\nLangChain GenkitJS LlamaIndex GoogleGenAI npm install langchain @langchain/google-genai npm install genkit @genkit-ai/googleai npm install llamaindex @llamaindex/google @llamaindex/workflow npm install @google/genai Create a new file named hotelAgent.js and copy the following code to create an agent:\nLangChain GenkitJS LlamaIndex GoogleGenAI import { ChatGoogleGenerativeAI } from \"@langchain/google-genai\"; import { ToolboxClient } from \"@toolbox-sdk/core\"; import { tool } from \"@langchain/core/tools\"; import { createReactAgent } from \"@langchain/langgraph/prebuilt\"; import { MemorySaver } from \"@langchain/langgraph\"; const GOOGLE_API_KEY = process.env.GOOGLE_API_KEY || 'your-api-key'; // Replace it with your API key const prompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. `; const queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ]; export async function main() { const model = new ChatGoogleGenerativeAI({ model: \"gemini-2.0-flash\", }); const client = new ToolboxClient(\"http://127.0.0.1:5000\"); const toolboxTools = await client.loadToolset(\"my-toolset\"); // Define the basics of the tool: name, description, schema and core logic const getTool = (toolboxTool) =\u003e tool(toolboxTool, { name: toolboxTool.getName(), description: toolboxTool.getDescription(), schema: toolboxTool.getParamSchema() }); const tools = toolboxTools.map(getTool); const agent = createReactAgent({ llm: model, tools: tools, checkpointer: new MemorySaver(), systemPrompt: prompt, }); const langGraphConfig = { configurable: { thread_id: \"test-thread\", }, }; for (const query of queries) { const agentOutput = await agent.invoke( { messages: [ { role: \"user\", content: query, }, ], verbose: true, }, langGraphConfig ); const response = agentOutput.messages[agentOutput.messages.length - 1].content; console.log(response); } } main(); import { ToolboxClient } from \"@toolbox-sdk/core\"; import { genkit } from \"genkit\"; import { googleAI } from '@genkit-ai/googleai'; const GOOGLE_API_KEY = process.env.GOOGLE_API_KEY || 'your-api-key'; // Replace it with your API key const systemPrompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. `; const queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ]; export async function main() { const toolboxClient = new ToolboxClient(\"http://127.0.0.1:5000\"); const ai = genkit({ plugins: [ googleAI({ apiKey: process.env.GEMINI_API_KEY || GOOGLE_API_KEY }) ], model: googleAI.model('gemini-2.0-flash'), }); const toolboxTools = await toolboxClient.loadToolset(\"my-toolset\"); const toolMap = Object.fromEntries( toolboxTools.map((tool) =\u003e { const definedTool = ai.defineTool( { name: tool.getName(), description: tool.getDescription(), inputSchema: tool.getParamSchema(), }, tool ); return [tool.getName(), definedTool]; }) ); const tools = Object.values(toolMap); let conversationHistory = [{ role: \"system\", content: [{ text: systemPrompt }] }]; for (const query of queries) { conversationHistory.push({ role: \"user\", content: [{ text: query }] }); const response = await ai.generate({ messages: conversationHistory, tools: tools, }); conversationHistory.push(response.message); const toolRequests = response.toolRequests; if (toolRequests?.length \u003e 0) { // Execute tools concurrently and collect their responses. const toolResponses = await Promise.all( toolRequests.map(async (call) =\u003e { try { const toolOutput = await toolMap[call.name].invoke(call.input); return { role: \"tool\", content: [{ toolResponse: { name: call.name, output: toolOutput } }] }; } catch (e) { console.error(`Error executing tool ${call.name}:`, e); return { role: \"tool\", content: [{ toolResponse: { name: call.name, output: { error: e.message } } }] }; } }) ); conversationHistory.push(...toolResponses); // Call the AI again with the tool results. response = await ai.generate({ messages: conversationHistory, tools }); conversationHistory.push(response.message); } console.log(response.text); } } main(); import { gemini, GEMINI_MODEL } from \"@llamaindex/google\"; import { agent } from \"@llamaindex/workflow\"; import { createMemory, staticBlock, tool } from \"llamaindex\"; import { ToolboxClient } from \"@toolbox-sdk/core\"; const TOOLBOX_URL = \"http://127.0.0.1:5000\"; // Update if needed const GOOGLE_API_KEY = process.env.GOOGLE_API_KEY || 'your-api-key'; // Replace it with your API key const prompt = ` You're a helpful hotel assistant. You handle hotel searching, booking and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches â€” this is very important for operations. For any bookings or cancellations, please provide the appropriate confirmation. Update check-in or check-out dates if mentioned by the user. Don't ask for confirmations from the user. `; const queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ]; export async function main() { // Connect to MCP Toolbox const client = new ToolboxClient(TOOLBOX_URL); const toolboxTools = await client.loadToolset(\"my-toolset\"); const tools = toolboxTools.map((toolboxTool) =\u003e { return tool({ name: toolboxTool.getName(), description: toolboxTool.getDescription(), parameters: toolboxTool.getParamSchema(), execute: toolboxTool, }); }); // Initialize LLM const llm = gemini({ model: GEMINI_MODEL.GEMINI_2_0_FLASH, apiKey: GOOGLE_API_KEY, }); const memory = createMemory({ memoryBlocks: [ staticBlock({ content: prompt, }), ], }); // Create the Agent const myAgent = agent({ tools: tools, llm, memory, systemPrompt: prompt, }); for (const query of queries) { const result = await myAgent.run(query); const output = result.data.result; console.log(`\\nUser: ${query}`); if (typeof output === \"string\") { console.log(output.trim()); } else if (typeof output === \"object\" \u0026\u0026 \"text\" in output) { console.log(output.text.trim()); } else { console.log(JSON.stringify(output)); } } //You may observe some extra logs during execution due to the run method provided by Llama. console.log(\"Agent run finished.\"); } main(); import { GoogleGenAI } from \"@google/genai\"; import { ToolboxClient } from \"@toolbox-sdk/core\"; const TOOLBOX_URL = \"http://127.0.0.1:5000\"; // Update if needed const GOOGLE_API_KEY = process.env.GOOGLE_API_KEY || 'your-api-key'; // Replace it with your API key const prompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, you MUST use the available tools to find information. Mention its name, id, location and price tier. Always mention hotel id while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. `; const queries = [ \"Find hotels in Basel with Basel in its name.\", \"Can you book the Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", ]; function mapZodTypeToOpenAPIType(zodTypeName) { console.log(zodTypeName) const typeMap = { 'ZodString': 'string', 'ZodNumber': 'number', 'ZodBoolean': 'boolean', 'ZodArray': 'array', 'ZodObject': 'object', }; return typeMap[zodTypeName] || 'string'; } export async function main() { const toolboxClient = new ToolboxClient(TOOLBOX_URL); const toolboxTools = await toolboxClient.loadToolset(\"my-toolset\"); const geminiTools = [{ functionDeclarations: toolboxTools.map(tool =\u003e { const schema = tool.getParamSchema(); const properties = {}; const required = []; for (const [key, param] of Object.entries(schema.shape)) { properties[key] = { type: mapZodTypeToOpenAPIType(param.constructor.name), description: param.description || '', }; required.push(key) } return { name: tool.getName(), description: tool.getDescription(), parameters: { type: 'object', properties, required }, }; }) }]; const genAI = new GoogleGenAI({ apiKey: GOOGLE_API_KEY }); const chat = genAI.chats.create({ model: \"gemini-2.5-flash\", config: { systemInstruction: prompt, tools: geminiTools, } }); for (const query of queries) { let currentResult = await chat.sendMessage({ message: query }); let finalResponseGiven = false while (!finalResponseGiven) { const response = currentResult; const functionCalls = response.functionCalls || []; if (functionCalls.length === 0) { console.log(response.text) finalResponseGiven = true; } else { const toolResponses = []; for (const call of functionCalls) { const toolName = call.name const toolToExecute = toolboxTools.find(t =\u003e t.getName() === toolName); if (toolToExecute) { try { const functionResult = await toolToExecute(call.args); toolResponses.push({ functionResponse: { name: call.name, response: { result: functionResult } } }); } catch (e) { console.error(`Error executing tool '${toolName}':`, e); toolResponses.push({ functionResponse: { name: call.name, response: { error: e.message } } }); } } } currentResult = await chat.sendMessage({ message: toolResponses }); } } } } main(); Run your agent, and observe the results:\nnode hotelAgent.js Info\nFor more information, visit the JS SDK repo.\n","categories":"","description":"How to get started running Toolbox locally with [JavaScript](https://github.com/googleapis/mcp-toolbox-sdk-js), PostgreSQL, and orchestration frameworks such as [LangChain](https://js.langchain.com/docs/introduction/), [GenkitJS](https://genkit.dev/docs/get-started/),  [LlamaIndex](https://ts.llamaindex.ai/) and [GoogleGenAI](https://github.com/googleapis/js-genai).\n","excerpt":"How to get started running Toolbox locally with …","ref":"/genai-toolbox/getting-started/local_quickstart_js/","tags":"","title":"JS Quickstart (Local)"},{"body":"About A spanner-list-tables tool retrieves comprehensive schema information about tables in a Cloud Spanner database. It automatically adapts to the database dialect (GoogleSQL or PostgreSQL) and returns detailed metadata including columns, constraints, and indexes. It’s compatible with:\nspanner This tool is read-only and executes pre-defined SQL queries against the INFORMATION_SCHEMA tables to gather metadata. The tool automatically detects the database dialect from the source configuration and uses the appropriate SQL syntax.\nFeatures Automatic Dialect Detection: Adapts queries based on whether the database uses GoogleSQL or PostgreSQL dialect Comprehensive Schema Information: Returns columns, data types, constraints, indexes, and table relationships Flexible Filtering: Can list all tables or filter by specific table names Output Format Options: Choose between simple (table names only) or detailed (full schema information) output Example Basic Usage - List All Tables sources: my-spanner-db: kind: spanner project: ${SPANNER_PROJECT} instance: ${SPANNER_INSTANCE} database: ${SPANNER_DATABASE} dialect: googlesql # or postgresql tools: list_all_tables: kind: spanner-list-tables source: my-spanner-db description: Lists all tables with their complete schema information List Specific Tables tools: list_specific_tables: kind: spanner-list-tables source: my-spanner-db description: | Lists schema information for specific tables. Example usage: { \"table_names\": \"users,orders,products\", \"output_format\": \"detailed\" } Parameters The tool accepts two optional parameters:\nparameter type default description table_names string \"\" Comma-separated list of table names to filter. If empty, lists all tables in user-accessible schemas output_format string “detailed” Output format: “simple” returns only table names, “detailed” returns full schema information Output Format Simple Format When output_format is set to “simple”, the tool returns a minimal JSON structure:\n[ { \"schema_name\": \"public\", \"object_name\": \"users\", \"object_details\": \"{\\\"name\\\":\\\"users\\\"}\" }, { \"schema_name\": \"public\", \"object_name\": \"orders\", \"object_details\": \"{\\\"name\\\":\\\"orders\\\"}\" } ] Detailed Format When output_format is set to “detailed” (default), the tool returns comprehensive schema information:\n[ { \"schema_name\": \"public\", \"object_name\": \"users\", \"object_details\": \"{ \\\"schema_name\\\": \\\"public\\\", \\\"object_name\\\": \\\"users\\\", \\\"object_type\\\": \\\"BASE TABLE\\\", \\\"columns\\\": [ { \\\"column_name\\\": \\\"id\\\", \\\"data_type\\\": \\\"INT64\\\", \\\"ordinal_position\\\": 1, \\\"is_not_nullable\\\": true, \\\"column_default\\\": null }, { \\\"column_name\\\": \\\"email\\\", \\\"data_type\\\": \\\"STRING(255)\\\", \\\"ordinal_position\\\": 2, \\\"is_not_nullable\\\": true, \\\"column_default\\\": null } ], \\\"constraints\\\": [ { \\\"constraint_name\\\": \\\"PK_users\\\", \\\"constraint_type\\\": \\\"PRIMARY KEY\\\", \\\"constraint_definition\\\": \\\"PRIMARY KEY (id)\\\", \\\"constraint_columns\\\": [\\\"id\\\"], \\\"foreign_key_referenced_table\\\": null, \\\"foreign_key_referenced_columns\\\": [] } ], \\\"indexes\\\": [ { \\\"index_name\\\": \\\"idx_users_email\\\", \\\"index_type\\\": \\\"INDEX\\\", \\\"is_unique\\\": true, \\\"is_null_filtered\\\": false, \\\"interleaved_in_table\\\": null, \\\"index_key_columns\\\": [ {\\\"column_name\\\": \\\"email\\\", \\\"ordering\\\": \\\"ASC\\\"} ], \\\"storing_columns\\\": [] } ] }\" } ] Use Cases Database Documentation: Generate comprehensive documentation of your database schema Schema Validation: Verify that expected tables and columns exist Migration Planning: Understand the current schema before making changes Development Tools: Build tools that need to understand database structure Audit and Compliance: Track schema changes and ensure compliance with data governance policies Example with Agent Integration sources: spanner-db: kind: spanner project: my-project instance: my-instance database: my-database dialect: googlesql tools: schema_inspector: kind: spanner-list-tables source: spanner-db description: | Use this tool to inspect database schema information. You can: - List all tables by leaving table_names empty - Get specific table schemas by providing comma-separated table names - Choose between simple (names only) or detailed (full schema) output Examples: 1. List all tables with details: {\"output_format\": \"detailed\"} 2. Get specific tables: {\"table_names\": \"users,orders\", \"output_format\": \"detailed\"} 3. Just get table names: {\"output_format\": \"simple\"} Reference field type required description kind string true Must be “spanner-list-tables” source string true Name of the Spanner source to query description string false Description of the tool that is passed to the LLM authRequired string[] false List of auth services required to invoke this tool Notes This tool is read-only and does not modify any data The tool automatically handles both GoogleSQL and PostgreSQL dialects Large databases with many tables may take longer to query ","categories":"","description":"A \"spanner-list-tables\" tool retrieves schema information about tables in a Google Cloud Spanner database.\n","excerpt":"A \"spanner-list-tables\" tool retrieves schema information about tables …","ref":"/genai-toolbox/resources/tools/spanner/spanner-list-tables/","tags":"","title":"spanner-list-tables"},{"body":"About A clickhouse-list-tables tool lists all available tables in a specified ClickHouse database. It’s compatible with the clickhouse source.\nThis tool executes the SHOW TABLES FROM \u003cdatabase\u003e command and returns a list of all tables in the specified database that are accessible to the configured user, making it useful for schema exploration and table discovery tasks.\nExample tools: list_clickhouse_tables: kind: clickhouse-list-tables source: my-clickhouse-instance description: List all tables in a specific ClickHouse database Parameters parameter type required description database string true The database to list tables from. Return Value The tool returns an array of objects, where each object contains:\nname: The name of the table database: The database the table belongs to Example response:\n[ {\"name\": \"users\", \"database\": \"analytics\"}, {\"name\": \"events\", \"database\": \"analytics\"}, {\"name\": \"products\", \"database\": \"analytics\"}, {\"name\": \"orders\", \"database\": \"analytics\"} ] Reference field type required description kind string true Must be “clickhouse-list-tables”. source string true Name of the ClickHouse source to list tables from. description string true Description of the tool that is passed to the LLM. authRequired array of string false Authentication services required to use this tool. parameters array of Parameter false Parameters for the tool (see Parameters section above). ","categories":"","description":"A \"clickhouse-list-tables\" tool lists all tables in a specific ClickHouse database.\n","excerpt":"A \"clickhouse-list-tables\" tool lists all tables in a specific …","ref":"/genai-toolbox/resources/tools/clickhouse/clickhouse-list-tables/","tags":"","title":"clickhouse-list-tables"},{"body":"This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to create and manage Cloud SQL for MySQL instance, database and users:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Before you begin In the Google Cloud console, on the project selector page, select or create a Google Cloud project.\nMake sure that billing is enabled for your Google Cloud project.\nGrant the necessary IAM roles to the user that will be running the MCP server. The tools available will depend on the roles granted:\nroles/cloudsql.viewer: Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation roles/cloudsql.editor: Provides permissions to manage existing resources. All viewer tools create_database roles/cloudsql.admin: Provides full control over all resources. All editor and viewer tools create_instance create_user Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.15.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"servers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mysql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mysql-admin\",\"--stdio\"], \"env\": { } } } } Use Tools Your AI tool is now connected to Cloud SQL for MySQL using MCP.\nThe cloud-sql-mysql-admin server provides tools for managing your Cloud SQL instances and interacting with your database:\ncreate_instance: Creates a new Cloud SQL for MySQL instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Create and manage Cloud SQL for MySQL (Admin) using Toolbox.\n","excerpt":"Create and manage Cloud SQL for MySQL (Admin) using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_mysql_admin_mcp/","tags":"","title":"Cloud SQL for MySQL Admin using MCP"},{"body":"Before you begin Set the PROJECT_ID environment variable:\nexport PROJECT_ID=\"my-project-id\" Install the gcloud CLI.\nInitialize gcloud CLI:\ngcloud init gcloud config set project $PROJECT_ID You must have the following APIs enabled:\ngcloud services enable artifactregistry.googleapis.com \\ cloudbuild.googleapis.com \\ container.googleapis.com \\ iam.googleapis.com kubectl is used to manage Kubernetes, the cluster orchestration system used by GKE. Verify if you have kubectl installed:\nkubectl version --client If needed, install kubectl component using the Google Cloud CLI:\ngcloud components install kubectl Create a service account Specify a name for your service account with an environment variable:\nexport SA_NAME=toolbox Create a backend service account:\ngcloud iam service-accounts create $SA_NAME Grant any IAM roles necessary to the IAM service account. Each source has a list of necessary IAM permissions listed on its page. The example below is for cloud sql postgres source:\ngcloud projects add-iam-policy-binding $PROJECT_ID \\ --member serviceAccount:$SA_NAME@$PROJECT_ID.iam.gserviceaccount.com \\ --role roles/cloudsql.client AlloyDB IAM Identity CloudSQL IAM Identity Spanner IAM Identity Deploy to Kubernetes Set environment variables:\nexport CLUSTER_NAME=toolbox-cluster export DEPLOYMENT_NAME=toolbox export SERVICE_NAME=toolbox-service export REGION=us-central1 export NAMESPACE=toolbox-namespace export SECRET_NAME=toolbox-config export KSA_NAME=toolbox-service-account Create a GKE cluster.\ngcloud container clusters create-auto $CLUSTER_NAME \\ --location=us-central1 Get authentication credentials to interact with the cluster. This also configures kubectl to use the cluster.\ngcloud container clusters get-credentials $CLUSTER_NAME \\ --region=$REGION \\ --project=$PROJECT_ID View the current context for kubectl.\nkubectl config current-context Create namespace for the deployment.\nkubectl create namespace $NAMESPACE Create a Kubernetes Service Account (KSA).\nkubectl create serviceaccount $KSA_NAME --namespace $NAMESPACE Enable the IAM binding between Google Service Account (GSA) and Kubernetes Service Account (KSA).\ngcloud iam service-accounts add-iam-policy-binding \\ --role=\"roles/iam.workloadIdentityUser\" \\ --member=\"serviceAccount:$PROJECT_ID.svc.id.goog[$NAMESPACE/$KSA_NAME]\" \\ $SA_NAME@$PROJECT_ID.iam.gserviceaccount.com Add annotation to KSA to complete binding:\nkubectl annotate serviceaccount \\ $KSA_NAME \\ iam.gke.io/gcp-service-account=$SA_NAME@$PROJECT_ID.iam.gserviceaccount.com \\ --namespace $NAMESPACE Prepare the Kubernetes secret for your tools.yaml file.\nkubectl create secret generic $SECRET_NAME \\ --from-file=./tools.yaml \\ --namespace=$NAMESPACE Create a Kubernetes manifest file (k8s_deployment.yaml) to build deployment.\napiVersion: apps/v1 kind: Deployment metadata: name: toolbox namespace: toolbox-namespace spec: selector: matchLabels: app: toolbox template: metadata: labels: app: toolbox spec: serviceAccountName: toolbox-service-account containers: - name: toolbox # Recommend to use the latest version of toolbox image: us-central1-docker.pkg.dev/database-toolbox/toolbox/toolbox:latest args: [\"--address\", \"0.0.0.0\"] ports: - containerPort: 5000 volumeMounts: - name: toolbox-config mountPath: \"/app/tools.yaml\" subPath: tools.yaml readOnly: true volumes: - name: toolbox-config secret: secretName: toolbox-config items: - key: tools.yaml path: tools.yaml Create the deployment.\nkubectl apply -f k8s_deployment.yaml --namespace $NAMESPACE Check the status of deployment.\nkubectl get deployments --namespace $NAMESPACE Create a Kubernetes manifest file (k8s_service.yaml) to build service.\napiVersion: v1 kind: Service metadata: name: toolbox-service namespace: toolbox-namespace annotations: cloud.google.com/l4-rbs: \"enabled\" spec: selector: app: toolbox ports: - port: 5000 targetPort: 5000 type: LoadBalancer Create the service.\nkubectl apply -f k8s_service.yaml --namespace $NAMESPACE You can find your IP address created for your service by getting the service information through the following.\nkubectl describe services $SERVICE_NAME --namespace $NAMESPACE To look at logs, run the following.\nkubectl logs -f deploy/$DEPLOYMENT_NAME --namespace $NAMESPACE You might have to wait a couple of minutes. It is ready when you can see EXTERNAL-IP with the following command:\nkubectl get svc -n $NAMESPACE Access toolbox locally.\ncurl \u003cEXTERNAL-IP\u003e:5000 Clean up resources Delete secret.\nkubectl delete secret $SECRET_NAME --namespace $NAMESPACE Delete deployment.\nkubectl delete deployment $DEPLOYMENT_NAME --namespace $NAMESPACE Delete the application’s service.\nkubectl delete service $SERVICE_NAME --namespace $NAMESPACE Delete the Kubernetes cluster.\ngcloud container clusters delete $CLUSTER_NAME \\ --location=$REGION ","categories":"","description":"How to set up and configure Toolbox to deploy on Kubernetes with Google Kubernetes Engine (GKE).\n","excerpt":"How to set up and configure Toolbox to deploy on Kubernetes with …","ref":"/genai-toolbox/how-to/deploy_gke/","tags":"","title":"Deploy to Kubernetes"},{"body":" Before you begin Install Docker Compose. Configure tools.yaml file Create a tools.yaml file that contains your configuration for Toolbox. For details, see the configuration section.\nDeploy using Docker Compose Create a docker-compose.yml file, customizing as needed: services: toolbox: # TODO: It is recommended to pin to a specific image version instead of latest. image: us-central1-docker.pkg.dev/database-toolbox/toolbox/toolbox:latest hostname: toolbox platform: linux/amd64 ports: - \"5000:5000\" volumes: - ./config:/config command: [ \"toolbox\", \"--tools-file\", \"/config/tools.yaml\", \"--address\", \"0.0.0.0\"] depends_on: db: condition: service_healthy networks: - tool-network db: # TODO: It is recommended to pin to a specific image version instead of latest. image: postgres hostname: db environment: POSTGRES_USER: toolbox_user POSTGRES_PASSWORD: my-password POSTGRES_DB: toolbox_db ports: - \"5432:5432\" volumes: - ./db:/var/lib/postgresql/data # This file can be used to bootstrap your schema if needed. # See \"initialization scripts\" on https://hub.docker.com/_/postgres/ for more info - ./config/init.sql:/docker-entrypoint-initdb.d/init.sql healthcheck: test: [\"CMD-SHELL\", \"pg_isready -U toolbox_user -d toolbox_db\"] interval: 10s timeout: 5s retries: 5 networks: - tool-network networks: tool-network: Run the following command to bring up the Toolbox and Postgres instance\ndocker-compose up -d Tip\nYou can use this setup to quickly set up Toolbox + Postgres to follow along in our Quickstart\nConnecting with Toolbox Client SDK Next, we will use Toolbox with the Client SDKs:\nThe url for the Toolbox server running using docker-compose will be:\nhttp://localhost:5000 Import and initialize the client with the URL:\nLangChain Llamaindex from toolbox_langchain import ToolboxClient # Replace with the cloud run service URL generated above async with ToolboxClient(\"http://$YOUR_URL\") as toolbox: from toolbox_llamaindex import ToolboxClient # Replace with the cloud run service URL generated above async with ToolboxClient(\"http://$YOUR_URL\") as toolbox: ","categories":"","description":"How to deploy Toolbox using Docker Compose.\n","excerpt":"How to deploy Toolbox using Docker Compose.\n","ref":"/genai-toolbox/how-to/deploy_docker/","tags":"","title":"Deploy using Docker Compose"},{"body":"Before you begin This guide assumes you have already done the following:\nInstalled Go (v1.24.2 or higher). Installed PostgreSQL 16+ and the psql client. Cloud Setup (Optional) If you plan to use Google Cloud’s Vertex AI with your agent (e.g., using vertexai=True or a Google GenAI model), follow these one-time setup steps for local development:\nInstall the Google Cloud CLI\nSet up Application Default Credentials (ADC)\nSet your project and enable Vertex AI\ngcloud config set project YOUR_PROJECT_ID gcloud services enable aiplatform.googleapis.com Step 1: Set up your database In this section, we will create a database, insert some data that needs to be accessed by our agent, and create a database user for Toolbox to connect with.\nConnect to postgres using the psql command:\npsql -h 127.0.0.1 -U postgres Here, postgres denotes the default postgres superuser.\nInfo\nHaving trouble connecting? Password Prompt: If you are prompted for a password for the postgres user and do not know it (or a blank password doesn’t work), your PostgreSQL installation might require a password or a different authentication method. FATAL: role \"postgres\" does not exist: This error means the default postgres superuser role isn’t available under that name on your system. Connection refused: Ensure your PostgreSQL server is actually running. You can typically check with sudo systemctl status postgresql and start it with sudo systemctl start postgresql on Linux systems. Common Solution For password issues or if the postgres role seems inaccessible directly, try switching to the postgres operating system user first. This user often has permission to connect without a password for local connections (this is called peer authentication).\nsudo -i -u postgres psql -h 127.0.0.1 Once you are in the psql shell using this method, you can proceed with the database creation steps below. Afterwards, type \\q to exit psql, and then exit to return to your normal user shell.\nIf desired, once connected to psql as the postgres OS user, you can set a password for the postgres database user using: ALTER USER postgres WITH PASSWORD 'your_chosen_password';. This would allow direct connection with -U postgres and a password next time.\nCreate a new database and a new user:\nTip\nFor a real application, it’s best to follow the principle of least permission and only grant the privileges your application needs.\nCREATE USER toolbox_user WITH PASSWORD 'my-password'; CREATE DATABASE toolbox_db; GRANT ALL PRIVILEGES ON DATABASE toolbox_db TO toolbox_user; ALTER DATABASE toolbox_db OWNER TO toolbox_user; End the database session:\n\\q (If you used sudo -i -u postgres and then psql, remember you might also need to type exit after \\q to leave the postgres user’s shell session.)\nConnect to your database with your new user:\npsql -h 127.0.0.1 -U toolbox_user -d toolbox_db Create a table using the following command:\nCREATE TABLE hotels( id INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, location VARCHAR NOT NULL, price_tier VARCHAR NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BIT NOT NULL ); Insert data into the table.\nINSERT INTO hotels(id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-22', '2024-04-20', B'0'), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', B'0'), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', B'0'), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-24', '2024-04-05', B'0'), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-23', '2024-04-01', B'0'), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', B'0'), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-27', '2024-04-02', B'0'), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-24', '2024-04-09', B'0'), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', B'0'), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', B'0'); End the database session:\n\\q Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. Be sure to update any fields such as user, password, or database that you may have customized in the previous step.\nTip\nIn practice, use environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: toolbox_db user: ${USER_NAME} password: ${PASSWORD} tools: search-hotels-by-name: kind: postgres-sql source: my-pg-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE name ILIKE '%' || $1 || '%'; search-hotels-by-location: kind: postgres-sql source: my-pg-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%'; book-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: string description: The ID of the hotel to book. statement: UPDATE hotels SET booked = B'1' WHERE id = $1; update-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: hotel_id type: string description: The ID of the hotel to update. - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. statement: \u003e- UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3 as date) WHERE id = $1; cancel-hotel: kind: postgres-sql source: my-pg-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: string description: The ID of the hotel to cancel. statement: UPDATE hotels SET booked = B'0' WHERE id = $1; toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel For more info on tools, check out the Resources section of the docs.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Note\nToolbox enables dynamic reloading by default. To disable, use the `--disable-reload` flag. Step 3: Connect your agent to Toolbox In this section, we will write and run an agent that will load the Tools from Toolbox.\nInitialize a go module:\ngo mod init main In a new terminal, install the SDK.\ngo get github.com/googleapis/mcp-toolbox-sdk-go Create a new file named hotelagent.go and copy the following code to create an agent:\nLangChain Go Genkit Go Go GenAI OpenAI Go package main import ( \"context\" \"encoding/json\" \"fmt\" \"log\" \"os\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"github.com/tmc/langchaingo/llms\" \"github.com/tmc/langchaingo/llms/googleai\" ) // ConvertToLangchainTool converts a generic core.ToolboxTool into a LangChainGo llms.Tool. func ConvertToLangchainTool(toolboxTool *core.ToolboxTool) llms.Tool { // Fetch the tool's input schema inputschema, err := toolboxTool.InputSchema() if err != nil { return llms.Tool{} } var paramsSchema map[string]any _ = json.Unmarshal(inputschema, \u0026paramsSchema) // Convert into LangChain's llms.Tool return llms.Tool{ Type: \"function\", Function: \u0026llms.FunctionDefinition{ Name: toolboxTool.Name(), Description: toolboxTool.Description(), Parameters: paramsSchema, }, } } const systemPrompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. ` var queries = []string{ \"Find hotels in Basel with Basel in its name.\", \"Can you book the hotel Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it.\", \"Please book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", } func main() { genaiKey := os.Getenv(\"GOOGLE_API_KEY\") toolboxURL := \"http://localhost:5000\" ctx := context.Background() // Initialize the Google AI client (LLM). llm, err := googleai.New(ctx, googleai.WithAPIKey(genaiKey), googleai.WithDefaultModel(\"gemini-2.0-flash\")) if err != nil { log.Fatalf(\"Failed to create Google AI client: %v\", err) } // Initialize the MCP Toolbox client. toolboxClient, err := core.NewToolboxClient(toolboxURL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Load the tool using the MCP Toolbox SDK. tools, err := toolboxClient.LoadToolset(\"my-toolset\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\\nMake sure your Toolbox server is running and the tool is configured.\", err) } toolsMap := make(map[string]*core.ToolboxTool, len(tools)) langchainTools := make([]llms.Tool, len(tools)) // Convert the loaded ToolboxTools into the format LangChainGo requires. for i, tool := range tools { langchainTools[i] = ConvertToLangchainTool(tool) toolsMap[tool.Name()] = tool } // Start the conversation history. messageHistory := []llms.MessageContent{ llms.TextParts(llms.ChatMessageTypeSystem, systemPrompt), } for _, query := range queries { messageHistory = append(messageHistory, llms.TextParts(llms.ChatMessageTypeHuman, query)) // Make the first call to the LLM, making it aware of the tool. resp, err := llm.GenerateContent(ctx, messageHistory, llms.WithTools(langchainTools)) if err != nil { log.Fatalf(\"LLM call failed: %v\", err) } respChoice := resp.Choices[0] assistantResponse := llms.TextParts(llms.ChatMessageTypeAI, respChoice.Content) for _, tc := range respChoice.ToolCalls { assistantResponse.Parts = append(assistantResponse.Parts, tc) } messageHistory = append(messageHistory, assistantResponse) // Process each tool call requested by the model. for _, tc := range respChoice.ToolCalls { toolName := tc.FunctionCall.Name tool := toolsMap[toolName] var args map[string]any if err := json.Unmarshal([]byte(tc.FunctionCall.Arguments), \u0026args); err != nil { log.Fatalf(\"Failed to unmarshal arguments for tool '%s': %v\", toolName, err) } toolResult, err := tool.Invoke(ctx, args) if err != nil { log.Fatalf(\"Failed to execute tool '%s': %v\", toolName, err) } if toolResult == \"\" || toolResult == nil { toolResult = \"Operation completed successfully with no specific return value.\" } // Create the tool call response message and add it to the history. toolResponse := llms.MessageContent{ Role: llms.ChatMessageTypeTool, Parts: []llms.ContentPart{ llms.ToolCallResponse{ Name: toolName, Content: fmt.Sprintf(\"%v\", toolResult), }, }, } messageHistory = append(messageHistory, toolResponse) } finalResp, err := llm.GenerateContent(ctx, messageHistory) if err != nil { log.Fatalf(\"Final LLM call failed after tool execution: %v\", err) } // Add the final textual response from the LLM to the history messageHistory = append(messageHistory, llms.TextParts(llms.ChatMessageTypeAI, finalResp.Choices[0].Content)) fmt.Println(finalResp.Choices[0].Content) } } package main import ( \"context\" \"fmt\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"github.com/googleapis/mcp-toolbox-sdk-go/tbgenkit\" \"github.com/firebase/genkit/go/ai\" \"github.com/firebase/genkit/go/genkit\" \"github.com/firebase/genkit/go/plugins/googlegenai\" ) const systemPrompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. ` var queries = []string{ \"Find hotels in Basel with Basel in its name.\", \"Can you book the hotel Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", } func main() { ctx := context.Background() // Create Toolbox Client toolboxClient, err := core.NewToolboxClient(\"http://127.0.0.1:5000\") if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Load the tools using the MCP Toolbox SDK. tools, err := toolboxClient.LoadToolset(\"my-toolset\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\\nMake sure your Toolbox server is running and the tool is configured.\", err) } // Initialize Genkit g, err := genkit.Init(ctx, genkit.WithPlugins(\u0026googlegenai.GoogleAI{}), genkit.WithDefaultModel(\"googleai/gemini-2.0-flash\"), ) if err != nil { log.Fatalf(\"Failed to init genkit: %v\\n\", err) } // Create a conversation history conversationHistory := []*ai.Message{ ai.NewSystemTextMessage(systemPrompt), } // Convert your tool to a Genkit tool. genkitTools := make([]ai.Tool, len(tools)) for i, tool := range tools { newTool, err := tbgenkit.ToGenkitTool(tool, g) if err != nil { log.Fatalf(\"Failed to convert tool: %v\\n\", err) } genkitTools[i] = newTool } toolRefs := make([]ai.ToolRef, len(genkitTools)) for i, tool := range genkitTools { toolRefs[i] = tool } for _, query := range queries { conversationHistory = append(conversationHistory, ai.NewUserTextMessage(query)) response, err := genkit.Generate(ctx, g, ai.WithMessages(conversationHistory...), ai.WithTools(toolRefs...), ai.WithReturnToolRequests(true), ) if err != nil { log.Fatalf(\"%v\\n\", err) } conversationHistory = append(conversationHistory, response.Message) parts := []*ai.Part{} for _, req := range response.ToolRequests() { tool := genkit.LookupTool(g, req.Name) if tool == nil { log.Fatalf(\"tool %q not found\", req.Name) } output, err := tool.RunRaw(ctx, req.Input) if err != nil { log.Fatalf(\"tool %q execution failed: %v\", tool.Name(), err) } parts = append(parts, ai.NewToolResponsePart(\u0026ai.ToolResponse{ Name: req.Name, Ref: req.Ref, Output: output, })) } if len(parts) \u003e 0 { resp, err := genkit.Generate(ctx, g, ai.WithMessages(append(response.History(), ai.NewMessage(ai.RoleTool, nil, parts...))...), ai.WithTools(toolRefs...), ) if err != nil { log.Fatal(err) } fmt.Println(\"\\n\", resp.Text()) conversationHistory = append(conversationHistory, resp.Message) } else { fmt.Println(\"\\n\", response.Text()) } } } package main import ( \"context\" \"encoding/json\" \"fmt\" \"log\" \"os\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" \"google.golang.org/genai\" ) // ConvertToGenaiTool translates a ToolboxTool into the genai.FunctionDeclaration format. func ConvertToGenaiTool(toolboxTool *core.ToolboxTool) *genai.Tool { inputschema, err := toolboxTool.InputSchema() if err != nil { return \u0026genai.Tool{} } var paramsSchema *genai.Schema _ = json.Unmarshal(inputschema, \u0026paramsSchema) // First, create the function declaration. funcDeclaration := \u0026genai.FunctionDeclaration{ Name: toolboxTool.Name(), Description: toolboxTool.Description(), Parameters: paramsSchema, } // Then, wrap the function declaration in a genai.Tool struct. return \u0026genai.Tool{ FunctionDeclarations: []*genai.FunctionDeclaration{funcDeclaration}, } } func printResponse(resp *genai.GenerateContentResponse) { for _, cand := range resp.Candidates { if cand.Content != nil { for _, part := range cand.Content.Parts { fmt.Println(part.Text) } } } } const systemPrompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. ` var queries = []string{ \"Find hotels in Basel with Basel in its name.\", \"Can you book the hotel Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it.\", \"Please book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", } func main() { // Setup ctx := context.Background() apiKey := os.Getenv(\"GOOGLE_API_KEY\") toolboxURL := \"http://localhost:5000\" // Initialize the Google GenAI client using the explicit ClientConfig. client, err := genai.NewClient(ctx, \u0026genai.ClientConfig{ APIKey: apiKey, }) if err != nil { log.Fatalf(\"Failed to create Google GenAI client: %v\", err) } // Initialize the MCP Toolbox client. toolboxClient, err := core.NewToolboxClient(toolboxURL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Load the tool using the MCP Toolbox SDK. tools, err := toolboxClient.LoadToolset(\"my-toolset\", ctx) if err != nil { log.Fatalf(\"Failed to load tools: %v\\nMake sure your Toolbox server is running and the tool is configured.\", err) } genAITools := make([]*genai.Tool, len(tools)) toolsMap := make(map[string]*core.ToolboxTool, len(tools)) for i, tool := range tools { genAITools[i] = ConvertToGenaiTool(tool) toolsMap[tool.Name()] = tool } // Set up the generative model with the available tool. modelName := \"gemini-2.0-flash\" // Create the initial content prompt for the model. messageHistory := []*genai.Content{ genai.NewContentFromText(systemPrompt, genai.RoleUser), } config := \u0026genai.GenerateContentConfig{ Tools: genAITools, ToolConfig: \u0026genai.ToolConfig{ FunctionCallingConfig: \u0026genai.FunctionCallingConfig{ Mode: genai.FunctionCallingConfigModeAny, }, }, } for _, query := range queries { messageHistory = append(messageHistory, genai.NewContentFromText(query, genai.RoleUser)) genContentResp, err := client.Models.GenerateContent(ctx, modelName, messageHistory, config) if err != nil { log.Fatalf(\"LLM call failed for query '%s': %v\", query, err) } if len(genContentResp.Candidates) \u003e 0 \u0026\u0026 genContentResp.Candidates[0].Content != nil { messageHistory = append(messageHistory, genContentResp.Candidates[0].Content) } functionCalls := genContentResp.FunctionCalls() toolResponseParts := []*genai.Part{} for _, fc := range functionCalls { toolToInvoke, found := toolsMap[fc.Name] if !found { log.Fatalf(\"Tool '%s' not found in loaded tools map. Check toolset configuration.\", fc.Name) } toolResult, invokeErr := toolToInvoke.Invoke(ctx, fc.Args) if invokeErr != nil { log.Fatalf(\"Failed to execute tool '%s': %v\", fc.Name, invokeErr) } // Enhanced Tool Result Handling (retained to prevent nil issues) toolResultString := \"\" if toolResult != nil { jsonBytes, marshalErr := json.Marshal(toolResult) if marshalErr == nil { toolResultString = string(jsonBytes) } else { toolResultString = fmt.Sprintf(\"%v\", toolResult) } } responseMap := map[string]any{\"result\": toolResultString} toolResponseParts = append(toolResponseParts, genai.NewPartFromFunctionResponse(fc.Name, responseMap)) } // Add all accumulated tool responses for this turn to the message history. toolResponseContent := genai.NewContentFromParts(toolResponseParts, \"function\") messageHistory = append(messageHistory, toolResponseContent) finalResponse, err := client.Models.GenerateContent(ctx, modelName, messageHistory, \u0026genai.GenerateContentConfig{}) if err != nil { log.Fatalf(\"Error calling GenerateContent (with function result): %v\", err) } printResponse(finalResponse) // Add the final textual response from the LLM to the history if len(finalResponse.Candidates) \u003e 0 \u0026\u0026 finalResponse.Candidates[0].Content != nil { messageHistory = append(messageHistory, finalResponse.Candidates[0].Content) } } } package main import ( \"context\" \"encoding/json\" \"fmt\" \"log\" \"github.com/googleapis/mcp-toolbox-sdk-go/core\" openai \"github.com/openai/openai-go\" ) // ConvertToOpenAITool converts a ToolboxTool into the go-openai library's Tool format. func ConvertToOpenAITool(toolboxTool *core.ToolboxTool) openai.ChatCompletionToolParam { // Get the input schema jsonSchemaBytes, err := toolboxTool.InputSchema() if err != nil { return openai.ChatCompletionToolParam{} } // Unmarshal the JSON bytes into FunctionParameters var paramsSchema openai.FunctionParameters if err := json.Unmarshal(jsonSchemaBytes, \u0026paramsSchema); err != nil { return openai.ChatCompletionToolParam{} } // Create and return the final tool parameter struct. return openai.ChatCompletionToolParam{ Function: openai.FunctionDefinitionParam{ Name: toolboxTool.Name(), Description: openai.String(toolboxTool.Description()), Parameters: paramsSchema, }, } } const systemPrompt = ` You're a helpful hotel assistant. You handle hotel searching, booking, and cancellations. When the user searches for a hotel, mention its name, id, location and price tier. Always mention hotel ids while performing any searches. This is very important for any operations. For any bookings or cancellations, please provide the appropriate confirmation. Be sure to update checkin or checkout dates if mentioned by the user. Don't ask for confirmations from the user. ` var queries = []string{ \"Find hotels in Basel with Basel in its name.\", \"Can you book the hotel Hilton Basel for me?\", \"Oh wait, this is too expensive. Please cancel it and book the Hyatt Regency instead.\", \"My check in dates would be from April 10, 2024 to April 19, 2024.\", } func main() { // Setup ctx := context.Background() toolboxURL := \"http://localhost:5000\" openAIClient := openai.NewClient() // Initialize the MCP Toolbox client. toolboxClient, err := core.NewToolboxClient(toolboxURL) if err != nil { log.Fatalf(\"Failed to create Toolbox client: %v\", err) } // Load the tools using the MCP Toolbox SDK. tools, err := toolboxClient.LoadToolset(\"my-toolset\", ctx) if err != nil { log.Fatalf(\"Failed to load tool : %v\\nMake sure your Toolbox server is running and the tool is configured.\", err) } openAITools := make([]openai.ChatCompletionToolParam, len(tools)) toolsMap := make(map[string]*core.ToolboxTool, len(tools)) for i, tool := range tools { // Convert the Toolbox tool into the openAI FunctionDeclaration format. openAITools[i] = ConvertToOpenAITool(tool) // Add tool to a map for lookup later toolsMap[tool.Name()] = tool } params := openai.ChatCompletionNewParams{ Messages: []openai.ChatCompletionMessageParamUnion{ openai.SystemMessage(systemPrompt), }, Tools: openAITools, Seed: openai.Int(0), Model: openai.ChatModelGPT4o, } for _, query := range queries { params.Messages = append(params.Messages, openai.UserMessage(query)) // Make initial chat completion request completion, err := openAIClient.Chat.Completions.New(ctx, params) if err != nil { panic(err) } toolCalls := completion.Choices[0].Message.ToolCalls // Return early if there are no tool calls if len(toolCalls) == 0 { log.Println(\"No function call\") } // If there was a function call, continue the conversation params.Messages = append(params.Messages, completion.Choices[0].Message.ToParam()) for _, toolCall := range toolCalls { toolName := toolCall.Function.Name toolToInvoke := toolsMap[toolName] var args map[string]any err := json.Unmarshal([]byte(toolCall.Function.Arguments), \u0026args) if err != nil { panic(err) } result, err := toolToInvoke.Invoke(ctx, args) if err != nil { log.Fatal(\"Could not invoke tool\", err) } params.Messages = append(params.Messages, openai.ToolMessage(result.(string), toolCall.ID)) } completion, err = openAIClient.Chat.Completions.New(ctx, params) if err != nil { panic(err) } params.Messages = append(params.Messages, openai.AssistantMessage(query)) fmt.Println(\"\\n\", completion.Choices[0].Message.Content) } } Ensure all dependencies are installed:\ngo mod tidy Run your agent, and observe the results:\ngo run hotelagent.go Info\nFor more information, visit the Go SDK repo.\n","categories":"","description":"How to get started running Toolbox locally with [Go](https://github.com/googleapis/mcp-toolbox-sdk-go), PostgreSQL, and orchestration frameworks such as [LangChain Go](https://tmc.github.io/langchaingo/docs/), [GenkitGo](https://genkit.dev/go/docs/get-started-go/), [Go GenAI](https://github.com/googleapis/go-genai) and [OpenAI Go](https://github.com/openai/openai-go).\n","excerpt":"How to get started running Toolbox locally with …","ref":"/genai-toolbox/getting-started/local_quickstart_go/","tags":"","title":"Go Quickstart (Local)"},{"body":"","categories":"","description":"List of reference documentation for resources in Toolbox.\n","excerpt":"List of reference documentation for resources in Toolbox.\n","ref":"/genai-toolbox/resources/","tags":"","title":"Resources"},{"body":"This guide covers how to use MCP Toolbox for Databases to expose your developer assistant tools to create and manage Cloud SQL for SQL Server instance, database and users:\nCursor Windsurf (Codium) Visual Studio Code (Copilot) Cline (VS Code extension) Claude desktop Claude code Gemini CLI Gemini Code Assist Before you begin In the Google Cloud console, on the project selector page, select or create a Google Cloud project.\nMake sure that billing is enabled for your Google Cloud project.\nGrant the necessary IAM roles to the user that will be running the MCP server. The tools available will depend on the roles granted:\nroles/cloudsql.viewer: Provides read-only access to resources. get_instance list_instances list_databases wait_for_operation roles/cloudsql.editor: Provides permissions to manage existing resources. All viewer tools create_database roles/cloudsql.admin: Provides full control over all resources. All editor and viewer tools create_instance create_user Install MCP Toolbox Download the latest version of Toolbox as a binary. Select the correct binary corresponding to your OS and CPU architecture. You are required to use Toolbox version V0.15.0+:\nlinux/amd64 darwin/arm64 darwin/amd64 windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/linux/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/arm64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/darwin/amd64/toolbox curl -O https://storage.googleapis.com/genai-toolbox/v0.15.0/windows/amd64/toolbox.exe Make the binary executable:\nchmod +x toolbox Verify the installation:\n./toolbox --version Configure your MCP Client Claude code Claude desktop Cline Cursor Visual Studio Code (Copilot) Windsurf Gemini CLI Gemini Code Assist Install Claude Code.\nCreate a .mcp.json file in your project root if it doesn’t exist.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude code to apply the new configuration.\nOpen Claude desktop and navigate to Settings.\nUnder the Developer tab, tap Edit Config to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Restart Claude desktop.\nFrom the new chat screen, you should see a hammer (MCP) icon appear with the new MCP server available.\nOpen the Cline extension in VS Code and tap the MCP Servers icon.\nTap Configure MCP Servers to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } You should see a green active status after the server is successfully connected.\nCreate a .cursor directory in your project root if it doesn’t exist.\nCreate a .cursor/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Cursor and navigate to Settings \u003e Cursor Settings \u003e MCP. You should see a green active status after the server is successfully connected.\nOpen VS Code and create a .vscode directory in your project root if it doesn’t exist.\nCreate a .vscode/mcp.json file if it doesn’t exist and open it.\nAdd the following configuration and save:\n{ \"servers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Open Windsurf and navigate to the Cascade assistant.\nTap on the hammer (MCP) icon, then Configure to open the configuration file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini CLI.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Install the Gemini Code Assist extension in Visual Studio Code.\nEnable Agent Mode in Gemini Code Assist chat.\nIn your working directory, create a folder named .gemini. Within it, create a settings.json file.\nAdd the following configuration and save:\n{ \"mcpServers\": { \"cloud-sql-mssql-admin\": { \"command\": \"./PATH/TO/toolbox\", \"args\": [\"--prebuilt\",\"cloud-sql-mssql-admin\",\"--stdio\"], \"env\": { } } } } Use Tools Your AI tool is now connected to Cloud SQL for SQL Server using MCP.\nThe cloud-sql-mssql-admin server provides tools for managing your Cloud SQL instances and interacting with your database:\ncreate_instance: Creates a new Cloud SQL for SQL Server instance. get_instance: Gets information about a Cloud SQL instance. list_instances: Lists Cloud SQL instances in a project. create_database: Creates a new database in a Cloud SQL instance. list_databases: Lists all databases for a Cloud SQL instance. create_user: Creates a new user in a Cloud SQL instance. wait_for_operation: Waits for a Cloud SQL operation to complete. Note\nPrebuilt tools are pre-1.0, so expect some tool changes between versions. LLMs will adapt to the tools available, so this shouldn’t affect most users.\n","categories":"","description":"Create and manage Cloud SQL for SQL Server (Admin) using Toolbox.\n","excerpt":"Create and manage Cloud SQL for SQL Server (Admin) using Toolbox.\n","ref":"/genai-toolbox/how-to/connect-ide/cloud_sql_mssql_admin_mcp/","tags":"","title":"Cloud SQL for SQL Server Admin using MCP"},{"body":"About The OpenTelemetry Collector offers a vendor-agnostic implementation of how to receive, process and export telemetry data. It removes the need to run, operate, and maintain multiple agents/collectors.\nConfigure the Collector To configure the collector, you will have to provide a configuration file. The configuration file consists of four classes of pipeline component that access telemetry data.\nReceivers Processors Exporters Connectors Example of setting up the classes of pipeline components (in this example, we don’t use connectors):\nreceivers: otlp: protocols: http: endpoint: \"127.0.0.1:4553\" exporters: googlecloud: project: \u003cYOUR_GOOGLE_CLOUD_PROJECT\u003e processors: batch: send_batch_size: 200 After each pipeline component is configured, you will enable it within the service section of the configuration file.\nservice: pipelines: traces: receivers: [\"otlp\"] processors: [\"batch\"] exporters: [\"googlecloud\"] Running the Collector There are a couple of steps to run and use a Collector.\nInstall the Collector binary. Pull a binary or Docker image for the OpenTelemetry contrib collector.\nSet up credentials for telemetry backend.\nSet up the Collector config. Below are some examples for setting up the Collector config:\nGoogle Cloud Exporter Google Managed Service for Prometheus Exporter Run the Collector with the configuration file.\n./otelcol-contrib --config=collector-config.yaml Run toolbox with the --telemetry-otlp flag. Configure it to send them to http://127.0.0.1:4553 (for HTTP) or the Collector’s URL.\n./toolbox --telemetry-otlp=http://127.0.0.1:4553 Once telemetry datas are collected, you can view them in your telemetry backend. If you are using GCP exporters, telemetry will be visible in GCP dashboard at Metrics Explorer and Trace Explorer.\nNote\nIf you are exporting to Google Cloud monitoring, we recommend that you use the Google Cloud Exporter for traces and the Google Managed Service for Prometheus Exporter for metrics.\n","categories":"","description":"How to set up and configure Toolbox to use the Otel Collector.\n","excerpt":"How to set up and configure Toolbox to use the Otel Collector.\n","ref":"/genai-toolbox/how-to/export_telemetry/","tags":"","title":"Export Telemetry"},{"body":"Overview Model Context Protocol is an open protocol that standardizes how applications provide context to LLMs. Check out this page on how to connect to Toolbox via MCP.\nStep 1: Set up your database In this section, we will create a database, insert some data that needs to be access by our agent, and create a database user for Toolbox to connect with.\nConnect to postgres using the psql command:\npsql -h 127.0.0.1 -U postgres Here, postgres denotes the default postgres superuser.\nCreate a new database and a new user:\nTip\nFor a real application, it’s best to follow the principle of least permission and only grant the privileges your application needs.\nCREATE USER toolbox_user WITH PASSWORD 'my-password'; CREATE DATABASE toolbox_db; GRANT ALL PRIVILEGES ON DATABASE toolbox_db TO toolbox_user; ALTER DATABASE toolbox_db OWNER TO toolbox_user; End the database session:\n\\q Connect to your database with your new user:\npsql -h 127.0.0.1 -U toolbox_user -d toolbox_db Create a table using the following command:\nCREATE TABLE hotels( id INTEGER NOT NULL PRIMARY KEY, name VARCHAR NOT NULL, location VARCHAR NOT NULL, price_tier VARCHAR NOT NULL, checkin_date DATE NOT NULL, checkout_date DATE NOT NULL, booked BIT NOT NULL ); Insert data into the table.\nINSERT INTO hotels(id, name, location, price_tier, checkin_date, checkout_date, booked) VALUES (1, 'Hilton Basel', 'Basel', 'Luxury', '2024-04-22', '2024-04-20', B'0'), (2, 'Marriott Zurich', 'Zurich', 'Upscale', '2024-04-14', '2024-04-21', B'0'), (3, 'Hyatt Regency Basel', 'Basel', 'Upper Upscale', '2024-04-02', '2024-04-20', B'0'), (4, 'Radisson Blu Lucerne', 'Lucerne', 'Midscale', '2024-04-24', '2024-04-05', B'0'), (5, 'Best Western Bern', 'Bern', 'Upper Midscale', '2024-04-23', '2024-04-01', B'0'), (6, 'InterContinental Geneva', 'Geneva', 'Luxury', '2024-04-23', '2024-04-28', B'0'), (7, 'Sheraton Zurich', 'Zurich', 'Upper Upscale', '2024-04-27', '2024-04-02', B'0'), (8, 'Holiday Inn Basel', 'Basel', 'Upper Midscale', '2024-04-24', '2024-04-09', B'0'), (9, 'Courtyard Zurich', 'Zurich', 'Upscale', '2024-04-03', '2024-04-13', B'0'), (10, 'Comfort Inn Bern', 'Bern', 'Midscale', '2024-04-04', '2024-04-16', B'0'); End the database session:\n\\q Step 2: Install and configure Toolbox In this section, we will download Toolbox, configure our tools in a tools.yaml, and then run the Toolbox server.\nDownload the latest version of Toolbox as a binary:\nTip\nSelect the correct binary corresponding to your OS and CPU architecture.\nexport OS=\"linux/amd64\" # one of linux/amd64, darwin/arm64, darwin/amd64, or windows/amd64 curl -O https://storage.googleapis.com/genai-toolbox/v0.16.0/$OS/toolbox Make the binary executable:\nchmod +x toolbox Write the following into a tools.yaml file. Be sure to update any fields such as user, password, or database that you may have customized in the previous step.\nTip\nIn practice, use environment variable replacement with the format ${ENV_NAME} instead of hardcoding your secrets into the configuration file.\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: toolbox_db user: toolbox_user password: my-password tools: search-hotels-by-name: kind: postgres-sql source: my-pg-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE name ILIKE '%' || $1 || '%'; search-hotels-by-location: kind: postgres-sql source: my-pg-source description: Search for hotels based on location. parameters: - name: location type: string description: The location of the hotel. statement: SELECT * FROM hotels WHERE location ILIKE '%' || $1 || '%'; book-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Book a hotel by its ID. If the hotel is successfully booked, returns a NULL, raises an error if not. parameters: - name: hotel_id type: string description: The ID of the hotel to book. statement: UPDATE hotels SET booked = B'1' WHERE id = $1; update-hotel: kind: postgres-sql source: my-pg-source description: \u003e- Update a hotel's check-in and check-out dates by its ID. Returns a message indicating whether the hotel was successfully updated or not. parameters: - name: hotel_id type: string description: The ID of the hotel to update. - name: checkin_date type: string description: The new check-in date of the hotel. - name: checkout_date type: string description: The new check-out date of the hotel. statement: \u003e- UPDATE hotels SET checkin_date = CAST($2 as date), checkout_date = CAST($3 as date) WHERE id = $1; cancel-hotel: kind: postgres-sql source: my-pg-source description: Cancel a hotel by its ID. parameters: - name: hotel_id type: string description: The ID of the hotel to cancel. statement: UPDATE hotels SET booked = B'0' WHERE id = $1; toolsets: my-toolset: - search-hotels-by-name - search-hotels-by-location - book-hotel - update-hotel - cancel-hotel For more info on tools, check out the Tools section.\nRun the Toolbox server, pointing to the tools.yaml file created earlier:\n./toolbox --tools-file \"tools.yaml\" Step 3: Connect to MCP Inspector Run the MCP Inspector:\nnpx @modelcontextprotocol/inspector Type y when it asks to install the inspector package.\nIt should show the following when the MCP Inspector is up and running (please take note of \u003cYOUR_SESSION_TOKEN\u003e):\nStarting MCP inspector... ⚙️ Proxy server listening on localhost:6277 🔑 Session token: \u003cYOUR_SESSION_TOKEN\u003e Use this token to authenticate requests or set DANGEROUSLY_OMIT_AUTH=true to disable auth 🚀 MCP Inspector is up and running at: http://localhost:6274/?MCP_PROXY_AUTH_TOKEN=\u003cYOUR_SESSION_TOKEN\u003e Open the above link in your browser.\nFor Transport Type, select Streamable HTTP.\nFor URL, type in http://127.0.0.1:5000/mcp.\nFor Configuration -\u003e Proxy Session Token, make sure \u003cYOUR_SESSION_TOKEN\u003e is present.\nClick Connect.\nSelect List Tools, you will see a list of tools configured in tools.yaml.\nTest out your tools here!\n","categories":"","description":"How to get started running Toolbox locally with MCP Inspector.\n","excerpt":"How to get started running Toolbox locally with MCP Inspector.\n","ref":"/genai-toolbox/getting-started/mcp_quickstart/","tags":"","title":"Quickstart (MCP)"},{"body":"","categories":"","description":"Samples and guides for using Toolbox.\n","excerpt":"Samples and guides for using Toolbox.\n","ref":"/genai-toolbox/samples/","tags":"","title":"Samples"},{"body":"","categories":"","description":"A list of other information related to Toolbox.\n","excerpt":"A list of other information related to Toolbox.\n","ref":"/genai-toolbox/about/","tags":"","title":"About"},{"body":"The primary way to configure Toolbox is through the tools.yaml file. If you have multiple files, you can tell toolbox which to load with the --tools-file tools.yaml flag.\nYou can find more detailed reference documentation to all resource types in the Resources.\nUsing Environment Variables To avoid hardcoding certain secret fields like passwords, usernames, API keys etc., you could use environment variables instead with the format ${ENV_NAME}.\nuser: ${USER_NAME} password: ${PASSWORD} A default value can be specified like ${ENV_NAME:default}.\nport: ${DB_PORT:3306} Sources The sources section of your tools.yaml defines what data sources your Toolbox should have access to. Most tools will have at least one source to execute against.\nsources: my-pg-source: kind: postgres host: 127.0.0.1 port: 5432 database: toolbox_db user: ${USER_NAME} password: ${PASSWORD} For more details on configuring different types of sources, see the Sources.\nTools The tools section of your tools.yaml defines the actions your agent can take: what kind of tool it is, which source(s) it affects, what parameters it uses, etc.\ntools: search-hotels-by-name: kind: postgres-sql source: my-pg-source description: Search for hotels based on name. parameters: - name: name type: string description: The name of the hotel. statement: SELECT * FROM hotels WHERE name ILIKE '%' || $1 || '%'; For more details on configuring different types of tools, see the Tools.\nToolsets The toolsets section of your tools.yaml allows you to define groups of tools that you want to be able to load together. This can be useful for defining different sets for different agents or different applications.\ntoolsets: my_first_toolset: - my_first_tool - my_second_tool my_second_toolset: - my_second_tool - my_third_tool You can load toolsets by name:\n# This will load all tools all_tools = client.load_toolset() # This will only load the tools listed in 'my_second_toolset' my_second_toolset = client.load_toolset(\"my_second_toolset\") ","categories":"","description":"How to configure Toolbox's tools.yaml file.\n","excerpt":"How to configure Toolbox's tools.yaml file.\n","ref":"/genai-toolbox/getting-started/configure/","tags":"","title":"Configuration"},{"body":"","categories":"","description":"Client SDKs to connect to the MCP Toolbox server.\n","excerpt":"Client SDKs to connect to the MCP Toolbox server.\n","ref":"/genai-toolbox/sdks/","tags":"","title":"SDKs"},{"body":"","categories":"","description":"This section contains reference documentation.\n","excerpt":"This section contains reference documentation.\n","ref":"/genai-toolbox/reference/","tags":"","title":"Reference"},{"body":"The alloydb-wait-for-operation tool is a utility tool that waits for a long-running AlloyDB operation to complete. It does this by polling the AlloyDB Admin API operation status endpoint until the operation is finished, using exponential backoff. It is compatible with alloydb-admin source.\nParameter Type Description Required project string The GCP project ID. Yes location string The location of the operation (e.g., ‘us-central1’). Yes operation string The ID of the operation to wait for. Yes Info\nThis tool is intended for developer assistant workflows with human-in-the-loop and shouldn’t be used for production agents.\nExample tools: wait_for_operation: kind: alloydb-wait-for-operation source: my-alloydb-admin-source description: \"This will poll on operations API until the operation is done. For checking operation status we need projectId, locationID and operationId. Once instance is created give follow up steps on how to use the variables to bring data plane MCP server up in local and remote setup.\" delay: 1s maxDelay: 4m multiplier: 2 maxRetries: 10 Reference field type required description kind string true Must be “alloydb-wait-for-operation”. source string true The name of a alloydb-admin source to use for authentication. description string false A description of the tool. delay duration false The initial delay between polling requests (e.g., 3s). Defaults to 3 seconds. maxDelay duration false The maximum delay between polling requests (e.g., 4m). Defaults to 4 minutes. multiplier float false The multiplier for the polling delay. The delay is multiplied by this value after each request. Defaults to 2.0. maxRetries int false The maximum number of polling attempts before giving up. Defaults to 10. ","categories":"","description":"Wait for a long-running AlloyDB operation to complete.\n","excerpt":"Wait for a long-running AlloyDB operation to complete.\n","ref":"/genai-toolbox/resources/tools/alloydb/alloydb-wait-for-operation/","tags":"","title":"alloydb-wait-for-operation"},{"body":"The cloud-sql-create-database tool creates a new database in a specified Cloud SQL instance.\nInfo\nThis tool uses a source of kind cloud-sql-admin.\nExample tools: create-cloud-sql-database: kind: cloud-sql-create-database source: my-cloud-sql-admin-source description: \"Creates a new database in a Cloud SQL instance.\" Reference field type required description kind string true Must be “cloud-sql-create-database”. source string true The name of the cloud-sql-admin source to use. description string false A description of the tool. Input Parameters parameter type required description project string true The project ID. instance string true The ID of the instance where the database will be created. name string true The name for the new database. Must be unique within the instance. ","categories":"","description":"Create a new database in a Cloud SQL instance.\n","excerpt":"Create a new database in a Cloud SQL instance.\n","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlcreatedatabase/","tags":"","title":"cloud-sql-create-database"},{"body":"The cloud-sql-create-users tool creates a new user in a specified Cloud SQL instance. It can create both built-in and IAM users.\nInfo\nThis tool uses a source of kind cloud-sql-admin.\nExample tools: create-cloud-sql-user: kind: cloud-sql-create-users source: my-cloud-sql-admin-source description: \"Creates a new user in a Cloud SQL instance. Both built-in and IAM users are supported. IAM users require an email account as the user name. IAM is the more secure and recommended way to manage users. The agent should always ask the user what type of user they want to create. For more information, see https://cloud.google.com/sql/docs/postgres/add-manage-iam-users\" Reference field type required description kind string true Must be “cloud-sql-create-users”. description string false A description of the tool. source string true The name of the cloud-sql-admin source to use. ","categories":"","description":"Create a new user in a Cloud SQL instance.\n","excerpt":"Create a new user in a Cloud SQL instance.\n","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlcreateusers/","tags":"","title":"cloud-sql-create-users"},{"body":"The cloud-sql-get-instance tool retrieves a Cloud SQL instance resource using the Cloud SQL Admin API.\nInfo\nThis tool uses a source of kind cloud-sql-admin.\nExample tools: get-sql-instance: kind: cloud-sql-get-instance source: my-cloud-sql-admin-source description: \"Gets a particular cloud sql instance.\" Reference field type required description kind string true Must be “cloud-sql-get-instance”. source string true The name of the cloud-sql-admin source to use. description string false A description of the tool. ","categories":"","description":"Get a Cloud SQL instance resource.\n","excerpt":"Get a Cloud SQL instance resource.\n","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlgetinstances/","tags":"","title":"cloud-sql-get-instance"},{"body":"The cloud-sql-mssql-create-instance tool creates a Cloud SQL for SQL Server instance using the Cloud SQL Admin API.\nInfo\nThis tool uses a source of kind cloud-sql-admin.\nExample tools: create-sql-instance: kind: cloud-sql-mssql-create-instance source: cloud-sql-admin-source description: \"Creates a SQL Server instance using `Production` and `Development` presets. For the `Development` template, it chooses a 2 vCPU, 8 GiB RAM (`db-custom-2-8192`) configuration with Non-HA/zonal availability. For the `Production` template, it chooses a 4 vCPU, 26 GiB RAM (`db-custom-4-26624`) configuration with HA/regional availability. The Enterprise edition is used in both cases. The default database version is `SQLSERVER_2022_STANDARD`. The agent should ask the user if they want to use a different version.\" Reference Tool Configuration field type required description kind string true Must be “cloud-sql-mssql-create-instance”. source string true The name of the cloud-sql-admin source to use. description string false A description of the tool. Tool Inputs parameter type required description project string true The project ID. name string true The name of the instance. databaseVersion string false The database version for SQL Server. If not specified, defaults to the latest available version (e.g., SQLSERVER_2022_STANDARD). rootPassword string true The root password for the instance. editionPreset string false The edition of the instance. Can be Production or Development. This determines the default machine type and availability. Defaults to Development. ","categories":"","description":"Create a Cloud SQL for SQL Server instance.","excerpt":"Create a Cloud SQL for SQL Server instance.","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlmssqlcreateinstance/","tags":"","title":"cloud-sql-mssql-create-instance"},{"body":"The cloud-sql-postgres-create-instance tool creates a Cloud SQL for PostgreSQL instance using the Cloud SQL Admin API.\nInfo\nThis tool uses a source of kind cloud-sql-admin.\nExample tools: create-sql-instance: kind: cloud-sql-postgres-create-instance source: cloud-sql-admin-source description: \"Creates a Postgres instance using `Production` and `Development` presets. For the `Development` template, it chooses a 2 vCPU, 16 GiB RAM, 100 GiB SSD configuration with Non-HA/zonal availability. For the `Production` template, it chooses an 8 vCPU, 64 GiB RAM, 250 GiB SSD configuration with HA/regional availability. The Enterprise Plus edition is used in both cases. The default database version is `POSTGRES_17`. The agent should ask the user if they want to use a different version.\" Reference Tool Configuration field type required description kind string true Must be “cloud-sql-postgres-create-instance”. source string true The name of the cloud-sql-admin source to use. description string false A description of the tool. Tool Inputs parameter type required description project string true The project ID. name string true The name of the instance. databaseVersion string false The database version for Postgres. If not specified, defaults to the latest available version (e.g., POSTGRES_17). rootPassword string true The root password for the instance. editionPreset string false The edition of the instance. Can be Production or Development. This determines the default machine type and availability. Defaults to Development. ","categories":"","description":"Create a Cloud SQL for PostgreSQL instance.","excerpt":"Create a Cloud SQL for PostgreSQL instance.","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlpgcreateinstances/","tags":"","title":"cloud-sql-postgres-create-instance"},{"body":"The cloud-sql-wait-for-operation tool is a utility tool that waits for a long-running Cloud SQL operation to complete. It does this by polling the Cloud SQL Admin API operation status endpoint until the operation is finished, using exponential backoff.\nExample tools: cloudsql-operations-get: kind: cloud-sql-wait-for-operation source: my-cloud-sql-source description: \"This will poll on operations API until the operation is done. For checking operation status we need projectId and operationId. Once instance is created give follow up steps on how to use the variables to bring data plane MCP server up in local and remote setup.\" delay: 1s maxDelay: 4m multiplier: 2 maxRetries: 10 Reference field type required description kind string true Must be “cloud-sql-wait-for-operation”. source string true The name of a cloud-sql-admin source to use for authentication. description string false A description of the tool. delay duration false The initial delay between polling requests (e.g., 3s). Defaults to 3 seconds. maxDelay duration false The maximum delay between polling requests (e.g., 4m). Defaults to 4 minutes. multiplier float false The multiplier for the polling delay. The delay is multiplied by this value after each request. Defaults to 2.0. maxRetries int false The maximum number of polling attempts before giving up. Defaults to 10. ","categories":"","description":"Wait for a long-running Cloud SQL operation to complete.\n","excerpt":"Wait for a long-running Cloud SQL operation to complete.\n","ref":"/genai-toolbox/resources/tools/cloudsql/cloudsqlwaitforoperation/","tags":"","title":"cloud-sql-wait-for-operation"},{"body":" Objective In this notebook, we will be using the AlloyDB AI NL tool to generate and execute SQL queries on AlloyDB databases. We will start by setting up an AlloyDB database and then connecting to it using MCP Toolbox and ADK. This allows us to leverage AlloyDB NL to SQL capabilities in agentic applications.\nFor detailed information on the AlloyDB capability, please see AlloyDB AI Natural Language Overview.\nBefore you Begin Complete the before you begin setup from Use AlloyDB AI natural language to generate SQL.\nStep 1: Set up Database Here, we will set up a sample AlloyDB database for testing out our alloydb-ai-nl tool.\nAuthenticate to Google Cloud within Colab You need to authenticate as an IAM user so this notebook can access your Google Cloud Project. This access is necessary to use Google’s LLM models.\n# Run this and allow access through the pop-up from google.colab import auth auth.authenticate_user() Connect Your Google Cloud Project # @markdown Please fill in the value below with your GCP project ID and then run the cell. # Please fill in these values. project_id = \"\" # @param {type:\"string\"} # Quick input validations. assert project_id, \"⚠️ Please provide a Google Cloud project ID\" # Configure gcloud. !gcloud config set project {project_id} Set up AlloyDB You will need a Postgres AlloyDB instance for the following stages of this notebook. Please set the following variables to connect to your instance or create a new instance.\nPlease make sure that your instance has the required access.\n# @markdown Please fill in the both the Google Cloud region and name of your AlloyDB instance. Once filled in, run the cell. # Please fill in these values. region = \"us-central1\" # @param {type:\"string\"} cluster_name = \"alloydb-ai-nl-testing\" # @param {type:\"string\"} instance_name = \"alloydb-ai-nl-testing-instance\" # @param {type:\"string\"} database_name = \"ai_nl_tool_testing\" # @param {type:\"string\"} password = input(\"Please provide a password to be used for 'postgres' database user: \") # Quick input validations. assert region, \"⚠️ Please provide a Google Cloud region\" assert instance_name, \"⚠️ Please provide the name of your instance\" assert database_name, \"⚠️ Please provide the name of your database_name\" assert cluster_name, \"⚠️ Please provide the name of your cluster_name\" assert password, \"⚠️ Please provide your password\" Connect to AlloyDB %pip install \\ google-cloud-alloydb-connector[asyncpg]==1.4.0 \\ sqlalchemy==2.0.36 \\ vertexai==1.70.0 \\ asyncio==3.4.3 \\ greenlet==3.1.1 \\ --quiet This function will create a connection pool to your AlloyDB instance using the AlloyDB Python connector. The AlloyDB Python connector will automatically create secure connections to your AlloyDB instance using mTLS. import asyncpg import sqlalchemy from sqlalchemy.ext.asyncio import AsyncEngine, create_async_engine from google.cloud.alloydb.connector import AsyncConnector, IPTypes async def init_connection_pool(connector: AsyncConnector, db_name: str, pool_size: int = 5) -\u003e AsyncEngine: # initialize Connector object for connections to AlloyDB connection_string = f\"projects/{project_id}/locations/{region}/clusters/{cluster_name}/instances/{instance_name}\" async def getconn() -\u003e asyncpg.Connection: conn: asyncpg.Connection = await connector.connect( connection_string, \"asyncpg\", user=\"postgres\", password=password, db=db_name, ip_type=IPTypes.PUBLIC, ) return conn pool = create_async_engine( \"postgresql+asyncpg://\", async_creator=getconn, pool_size=pool_size, max_overflow=0, ) return pool connector = AsyncConnector() Create a Database Next, you will create database to store the data using the connection pool. Enabling public IP takes a few minutes, you may get an error that there is no public IP address. Please wait and retry this step if you hit an error!\nfrom sqlalchemy import text, exc async def create_db(database_name, connector): pool = await init_connection_pool(connector, \"postgres\") async with pool.connect() as conn: # Check if the database already exists result = await conn.execute(text(f\"SELECT 1 FROM pg_database WHERE datname = '{database_name}'\")) if result.scalar_one_or_none() is None: await conn.execute(text(\"COMMIT\")) await conn.execute(text(f\"CREATE DATABASE {database_name}\")) print(f\"Database '{database_name}' created successfully\") else: print(f\"Database '{database_name}' already exists\") await pool.dispose() await create_db(database_name=database_name, connector=connector) Set up your Database In the following steps, we set up our database to be ready to handle Natural Language Queries.\nCreate tables and populate data: The provided schema and data are designed to support the fundamental operations of an online retail business, with potential applications extending to customer management, analytics, marketing, and operational aspects.\nConfigure Model Endpoint: To use AlloyDB AI natural language, make sure that the Vertex AI endpoint is configured. Then you create a configuration and register a schema. g_alloydb_ai_nl.g_create_configuration creates the model.\nAutomated Context Generation: To provide accurate answers to natural language questions, you use the AlloyDB AI natural language API to provide context about tables, views, and columns. You can use the automated context generation feature to produce context from tables and columns, and apply the context as COMMENTS attached to tables, views, and columns.\nsetup_queries = [ # Install required extension to use the AlloyDB AI natural language support API \"\"\"CREATE EXTENSION IF NOT EXISTS alloydb_ai_nl cascade;\"\"\", \"\"\"CREATE EXTENSION IF NOT EXISTS google_ml_integration; \"\"\", # Create schema \"\"\"CREATE SCHEMA IF NOT EXISTS nla_demo;\"\"\", # Create tables (If they do not exist) \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.addresses ( address_id SERIAL PRIMARY KEY, street_address VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, country VARCHAR(255) ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.customers ( customer_id SERIAL PRIMARY KEY, first_name VARCHAR(255) NOT NULL, last_name VARCHAR(255) NOT NULL, email VARCHAR(255) UNIQUE NOT NULL, address_id INTEGER REFERENCES nla_demo.addresses(address_id), date_of_birth DATE, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.categories ( category_id INTEGER PRIMARY KEY, category_name VARCHAR(255) UNIQUE NOT NULL ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.brands ( brand_id INTEGER PRIMARY KEY, brand_name VARCHAR(255) NOT NULL ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.products ( product_id INTEGER PRIMARY KEY, name VARCHAR(255) NOT NULL, description TEXT, brand_id INTEGER REFERENCES nla_demo.brands(brand_id), category_id INTEGER REFERENCES nla_demo.categories(category_id), created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.orders ( order_id INTEGER PRIMARY KEY, customer_id INTEGER REFERENCES nla_demo.customers(customer_id), order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP, total_amount DECIMAL(10, 2) NOT NULL, shipping_address_id INTEGER REFERENCES nla_demo.addresses(address_id), billing_address_id INTEGER REFERENCES nla_demo.addresses(address_id), order_status VARCHAR(50) ); \"\"\", \"\"\" CREATE TABLE IF NOT EXISTS nla_demo.order_items ( order_item_id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES nla_demo.orders(order_id), product_id INTEGER REFERENCES nla_demo.products(product_id), quantity INTEGER NOT NULL, price DECIMAL(10, 2) NOT NULL ); \"\"\", # Populate tables (Only if they are existing and empty) \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.addresses) THEN INSERT INTO nla_demo.addresses (street_address, city, country) VALUES ('1800 Amphibious Blvd', 'Mountain View', 'USA'), ('Avenida da Pastelaria, 1903', 'Lisbon', 'Portugal'), ('8 Rue du Nom Fictif 341', 'Paris', 'France'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.customers) THEN INSERT INTO nla_demo.customers (first_name, last_name, email, address_id, date_of_birth) VALUES ('Alex', 'B.', 'alex.b@example.com', 1, '2003-02-20'), ('Amal', 'M.', 'amal.m@example.com', 2, '1998-11-08'), ('Dani', 'G.', 'dani.g@example.com', 3, '2002-07-25'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.categories) THEN INSERT INTO nla_demo.categories (category_id, category_name) VALUES (1, 'Accessories'), (2, 'Apparel'), (3, 'Footwear'), (4, 'Swimwear'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.brands) THEN INSERT INTO nla_demo.brands (brand_id, brand_name) VALUES (1, 'CymbalPrime'), (2, 'CymbalPro'), (3, 'CymbalSports'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.products) THEN INSERT INTO nla_demo.products (product_id, brand_id, category_id, name) VALUES (1, 1, 2, 'Hoodie'), (2, 1, 3, 'Running Shoes'), (3, 2, 4, 'Swimsuit'), (4, 3, 1, 'Tote Bag'), (5, 3, 3, 'CymbalShoe'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.orders) THEN INSERT INTO nla_demo.orders (order_id, customer_id, total_amount, shipping_address_id, billing_address_id, order_status) VALUES (1, 1, 99.99, 1, 1, 'Shipped'), (2, 1, 69.99, 1, 1, 'Delivered'), (3, 2, 20.99, 2, 2, 'Processing'), (4, 3, 79.99, 3, 3, 'Shipped'); END IF; END $$; \"\"\", \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 FROM nla_demo.order_items) THEN INSERT INTO nla_demo.order_items (order_id, product_id, quantity, price) VALUES (1, 1, 1, 79.99), (1, 3, 1, 20.00), (2, 4, 1, 69.99), (3, 3, 1, 20.00), (4, 2, 1, 79.99); END IF; END $$; \"\"\", # Create a natural language configuration # alloydb_ai_nl.g_create_configuration creates the model. \"\"\" DO $$ BEGIN IF NOT EXISTS (SELECT 1 from alloydb_ai_nl.g_magic_configuration where configuration_id = 'nla_demo_cfg') THEN PERFORM alloydb_ai_nl.g_create_configuration( 'nla_demo_cfg' ); END IF; END $$; \"\"\", \"\"\" SELECT alloydb_ai_nl.g_manage_configuration( operation =\u003e 'register_table_view', configuration_id_in =\u003e 'nla_demo_cfg', table_views_in=\u003e'{nla_demo.customers, nla_demo.addresses, nla_demo.brands, nla_demo.products, nla_demo.categories, nla_demo.orders, nla_demo.order_items}' ); \"\"\", # Create and apply context \"\"\" SELECT alloydb_ai_nl.generate_schema_context( 'nla_demo_cfg', TRUE ); \"\"\", # Enable parametrized views to get AlloyDB query responses \"\"\" CREATE EXTENSION IF NOT EXISTS parameterized_views; \"\"\" ] from google.cloud.alloydb.connector import AsyncConnector # Create table and insert data async def run_setup(pool): async with pool.connect() as db_conn: for query in setup_queries: await db_conn.execute(sqlalchemy.text(query)) await db_conn.commit() pool = await init_connection_pool(connector, database_name) await run_setup(pool) Set up NL to SQL capability of AlloyDB Now, we will be doing some setup to ensure the working of the NL to SQL capability of AlloyBD\nVerify and updated generated context: Verify the generated context for the tables and update any that needs revision. Construct the value index: The AlloyDB AI natural language API produces accurate SQL queries by using value linking. Value linking associates value phrases in natural language statements with pre-registered concept types and column names which can enrich the natural language question. Define a query template: You can define templates to improve the quality of the answers produced by the AlloyDB AI natural language API. verify_context_queries = [ \"\"\" SELECT object_context FROM alloydb_ai_nl.generated_schema_context_view WHERE schema_object = 'nla_demo.products'; \"\"\", \"\"\" SELECT object_context FROM alloydb_ai_nl.generated_schema_context_view WHERE schema_object = 'nla_demo.products.name'; \"\"\" ] update_context_queries = [ \"\"\" SELECT alloydb_ai_nl.update_generated_relation_context( 'nla_demo.products', 'The \"nla_demo.products\" table stores product details such as ID, name, description, brand, category linkage, and record creation time.' ); \"\"\", \"\"\" SELECT alloydb_ai_nl.update_generated_column_context( 'nla_demo.products.name', 'The \"name\" column in the \"nla_demo.products\" table contains the specific name or title of each product.' ); \"\"\" ] apply_generated_context_queries = [ \"\"\" SELECT alloydb_ai_nl.apply_generated_relation_context( 'nla_demo.products', true ); \"\"\", \"\"\" SELECT alloydb_ai_nl.apply_generated_column_context( 'nla_demo.products.name', true ); \"\"\" ] define_product_name_context_queries = [ \"\"\" DO $$ BEGIN IF NOT EXISTS (select 1 from alloydb_ai_nl.concept_types_user_defined where type_name = 'product_name') THEN PERFORM alloydb_ai_nl.add_concept_type( concept_type_in =\u003e 'product_name', match_function_in =\u003e 'alloydb_ai_nl.get_concept_and_value_generic_entity_name', additional_info_in =\u003e '{ \"description\": \"Concept type for product name.\", \"examples\": \"SELECT alloydb_ai_nl.get_concept_and_value_generic_entity_name(''Camera'')\" }'::jsonb ); END IF; END $$; \"\"\", \"\"\" SELECT alloydb_ai_nl.associate_concept_type( 'nla_demo.products.name', 'product_name', 'nla_demo_cfg' ); \"\"\", ] verify_product_name_concept_query = \"SELECT alloydb_ai_nl.list_concept_types();\" verify_product_name_association_query = \"\"\" SELECT * FROM alloydb_ai_nl.value_index_columns WHERE column_names = 'nla_demo.products.name'; \"\"\" define_brand_name_concept_queries = [ \"\"\" DO $$ BEGIN IF NOT EXISTS (select 1 from alloydb_ai_nl.concept_types_user_defined where type_name = 'brand_name') THEN PERFORM alloydb_ai_nl.add_concept_type( concept_type_in =\u003e 'brand_name', match_function_in =\u003e 'alloydb_ai_nl.get_concept_and_value_generic_entity_name', additional_info_in =\u003e '{ \"description\": \"Concept type for brand name.\", \"examples\": \"SELECT alloydb_ai_nl.get_concept_and_value_generic_entity_name(''CymbalPrime'')\" }'::jsonb ); END IF; END $$; \"\"\", \"\"\" SELECT alloydb_ai_nl.associate_concept_type( 'nla_demo.brands.brand_name', 'brand_name', 'nla_demo_cfg' ); \"\"\", ] construct_value_index_queries = [ \"\"\"SELECT alloydb_ai_nl.create_value_index('nla_demo_cfg');\"\"\", \"\"\"SELECT alloydb_ai_nl.refresh_value_index('nla_demo_cfg');\"\"\" ] query_template_sql = \"\"\" SELECT c.first_name, c.last_name FROM nla_demo.Customers c JOIN nla_demo.orders o ON c.customer_id = o.customer_id JOIN nla_demo.order_items oi ON o.order_id = oi.order_id JOIN nla_demo.products p ON oi.product_id = p.product_id AND p.name = ''Swimsuit'' \"\"\" define_query_template_query = f\"\"\" DO $$ BEGIN IF NOT EXISTS (select 1 from alloydb_ai_nl.g_template_store where template_sql = '{query_template_sql}') THEN PERFORM alloydb_ai_nl.add_template( nl_config_id =\u003e 'nla_demo_cfg', intent =\u003e 'List the first names and the last names of all customers who ordered Swimsuit.', sql =\u003e '{query_template_sql}', sql_explanation =\u003e 'To answer this question, JOIN `nla_demo.Customers` with `nla_demo.orders` on having the same `customer_id`, and JOIN the result with nla_demo.order_items on having the same `order_id`. Then JOIN the result with `nla_demo.products` on having the same `product_id`, and filter rwos that with p.name = ''Swimsuit''. Return the `first_name` and the `last_name` of the customers with matching records.', check_intent =\u003e TRUE ); END IF; END $$; \"\"\" view_added_template_query = \"\"\" SELECT nl, sql, intent, psql, pintent FROM alloydb_ai_nl.template_store_view WHERE config = 'nla_demo_cfg'; \"\"\" async def run_queries(pool): async with pool.connect() as db_conn: # Verify the generated context for the tables for query in verify_context_queries: response = await db_conn.execute(sqlalchemy.text(query)) print(\"Verify the context:\", response.mappings().all()) # Update context that needs revision for query in update_context_queries: await db_conn.execute(sqlalchemy.text(query)) # The resulting context entries in the alloydb_ai_nl.generated_schema_context_view # view are applied to the corresponding schema objects, and the comments are overwritten. for query in apply_generated_context_queries: await db_conn.execute(sqlalchemy.text(query)) # Define the product_name concept type and associate it with the nla_demo.products.name column for query in define_product_name_context_queries: await db_conn.execute(sqlalchemy.text(query)) # Verify that the product_name concept type is added to the list of concept types response = await db_conn.execute(sqlalchemy.text(verify_product_name_concept_query)) print(\"Verify the product name concept:\", response.mappings().all()) # Verify that the nla_demo.products.name column is associated with the product_name concept type response = await db_conn.execute(sqlalchemy.text(verify_product_name_association_query)) print(\"Verify the product name association:\", response.mappings().all()) # Define the brand_name concept type and associate it with the nla_demo.brands.brand_name column for query in define_brand_name_concept_queries: await db_conn.execute(sqlalchemy.text(query)) # Create a value index for query in construct_value_index_queries: await db_conn.execute(sqlalchemy.text(query)) # Add a template (This helps in improving accuracy for critical questions) await db_conn.execute(sqlalchemy.text(define_query_template_query)) # View a list of added templates response = await db_conn.execute(sqlalchemy.text(view_added_template_query)) print(\"View added template:\", response.mappings().all()) await db_conn.commit() # pool = await init_connection_pool(connector, database_name) await run_queries(pool) await pool.dispose() Step 2: Set up Toolbox Here, we will set up the Toolbox server to interact with our AlloyDB Database.\nDownload the latest version of Toolbox as a binary. version = \"0.16.0\" # x-release-please-version ! curl -L -o /content/toolbox https://storage.googleapis.com/genai-toolbox/v{version}/linux/amd64/toolbox # Make the binary executable ! chmod +x /content/toolbox TOOLBOX_BINARY_PATH = \"/content/toolbox\" SERVER_PORT = 5000 # Create a tools file tools_file_name = \"tools.yml\" file_content = f\"\"\" sources: my-alloydb-pg-source: kind: alloydb-postgres project: {project_id} region: {region} cluster: {cluster_name} instance: {instance_name} database: {database_name} user: postgres password: {password} tools: ask_questions: kind: alloydb-ai-nl source: my-alloydb-pg-source description: 'Ask any natural language questions about the tables' nlConfig: 'nla_demo_cfg' basic_sql: kind: postgres-sql source: my-alloydb-pg-source description: 'Check if db is connected' statement: SELECT * from nla_demo.products; \"\"\" # Write the file content into the tools file. ! echo \"{file_content}\" \u003e \"{tools_file_name}\" TOOLS_FILE_PATH = f\"/content/{tools_file_name}\" # Start a toolbox server ! nohup {TOOLBOX_BINARY_PATH} --tools-file {TOOLS_FILE_PATH} --log-level debug --logging-format json -p {SERVER_PORT} \u003e toolbox.log 2\u003e\u00261 \u0026 # Check if toolbox is running !sudo lsof -i :{SERVER_PORT} # Kill process at port # !lsof -t -i :{SERVER_PORT} | xargs kill -9 Step 3: Connect Using ADK Now, we will use ADK to connect to the server and answer natural language questions related to our database.\n! pip install toolbox-core --quiet ! pip install google-adk --quiet from google.adk.agents import Agent from google.adk.runners import Runner from google.adk.sessions import InMemorySessionService from google.adk.artifacts.in_memory_artifact_service import InMemoryArtifactService from google.genai import types from toolbox_core import ToolboxSyncClient import os # TODO(developer): replace this with your Google API key os.environ['GOOGLE_API_KEY'] = \"your-api-key\" toolbox_client = ToolboxSyncClient(f\"http://127.0.0.1:{SERVER_PORT}\") prompt = \"\"\"You're a helpful assistant to fetch queries for an e-commerce application.\"\"\" tools = toolbox_client.load_toolset() root_agent = Agent( model='gemini-2.0-flash', name='alloy_nl_agent', description='A helpful AI assistant.', instruction=prompt, tools=tools, ) session_service = InMemorySessionService() artifacts_service = InMemoryArtifactService() session = await session_service.create_session( state={}, app_name='alloy_nl_agent', user_id='123' ) runner = Runner( app_name='alloy_nl_agent', agent=root_agent, artifact_service=artifacts_service, session_service=session_service, ) queries = [ \"Find the customers who purchased Tote Bag.\", \"List the maximum price of any CymbalShoe.\", # This will return null. This data is not in the dataset. \"List the maximum price of any CymbalPrime.\", \"Find the last name of the customers who live in France.\" ] for query in queries: content = types.Content(role='user', parts=[types.Part(text=query)]) events = runner.run(session_id=session.id, user_id='123', new_message=content) responses = ( part.text for event in events for part in event.content.parts if part.text is not None ) for text in responses: print(text) ","categories":"","description":"An end to end tutorial for building an ADK agent using the AlloyDB AI NL tool.\n","excerpt":"An end to end tutorial for building an ADK agent using the AlloyDB AI …","ref":"/genai-toolbox/samples/alloydb/ai-nl/","tags":"","title":"Getting started with alloydb-ai-nl tool"},{"body":"","categories":"","description":"","excerpt":"","ref":"/genai-toolbox/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/genai-toolbox/tags/","tags":"","title":"Tags"}]